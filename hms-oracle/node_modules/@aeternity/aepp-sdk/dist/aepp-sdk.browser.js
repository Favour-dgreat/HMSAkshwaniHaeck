!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("bignumber.js"),require("@stamp/required"),require("@stamp/it"),require("tweetnacl"),require("joi-browser"),require("axios"),require("uuid"),require("rlp"),require("@aeternity/bip39"),require("bs58check"),require("ed2curve"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("@aeternity/json-bigint"),require("websocket"),require("bip32-path"),require("libsodium-wrappers-sumo")):"function"==typeof define&&define.amd?define([,,,,,,,,,,,,,,,,,,],e):"object"==typeof exports?exports.Ae=e(require("bignumber.js"),require("@stamp/required"),require("@stamp/it"),require("tweetnacl"),require("joi-browser"),require("axios"),require("uuid"),require("rlp"),require("@aeternity/bip39"),require("bs58check"),require("ed2curve"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("@aeternity/json-bigint"),require("websocket"),require("bip32-path"),require("libsodium-wrappers-sumo")):t.Ae=e(t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0])}(window,(function(t,e,n,r,a,o,i,c,s,u,f,p,l,d,h,m,v,b,g){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=185)}([function(t,e,n){t.exports=n(142)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var i=t.apply(e,r);function c(t){n(i,a,o,c,s,"next",t)}function s(t){n(i,a,o,c,s,"throw",t)}c(void 0)}))}}},function(t,e,n){"use strict";n.r(e),n.d(e,"VSN",(function(){return g})),n.d(e,"VSN_2",(function(){return y})),n.d(e,"TX_TTL",(function(){return x})),n.d(e,"QUERY_FEE",(function(){return w})),n.d(e,"ORACLE_TTL",(function(){return O})),n.d(e,"QUERY_TTL",(function(){return T})),n.d(e,"RESPONSE_TTL",(function(){return k})),n.d(e,"DEPOSIT",(function(){return E})),n.d(e,"AMOUNT",(function(){return A})),n.d(e,"GAS",(function(){return j})),n.d(e,"MIN_GAS_PRICE",(function(){return _})),n.d(e,"MAX_AUTH_FUN_GAS",(function(){return I})),n.d(e,"DRY_RUN_ACCOUNT",(function(){return P})),n.d(e,"AENS_NAME_DOMAINS",(function(){return C})),n.d(e,"NAME_TTL",(function(){return S})),n.d(e,"NAME_MAX_TTL",(function(){return N})),n.d(e,"NAME_MAX_CLIENT_TTL",(function(){return M})),n.d(e,"CLIENT_TTL",(function(){return D})),n.d(e,"NAME_FEE",(function(){return R})),n.d(e,"NAME_FEE_MULTIPLIER",(function(){return B})),n.d(e,"NAME_FEE_BID_INCREMENT",(function(){return F})),n.d(e,"NAME_BID_TIMEOUT_BLOCKS",(function(){return V})),n.d(e,"NAME_BID_MAX_LENGTH",(function(){return L})),n.d(e,"NAME_ID_KEY",(function(){return U})),n.d(e,"NAME_BID_RANGES",(function(){return Y})),n.d(e,"NAME_BID_TIMEOUTS",(function(){return q})),n.d(e,"OBJECT_TAG_SIGNED_TRANSACTION",(function(){return H})),n.d(e,"TX_TYPE",(function(){return G})),n.d(e,"VM_VERSIONS",(function(){return W})),n.d(e,"ABI_VERSIONS",(function(){return Q})),n.d(e,"VM_TYPE",(function(){return z})),n.d(e,"FATE_ABI",(function(){return J})),n.d(e,"VM_ABI_MAP_ROMA",(function(){return $})),n.d(e,"VM_ABI_MAP_MINERVA",(function(){return Z})),n.d(e,"VM_ABI_MAP_FORTUNA",(function(){return tt})),n.d(e,"VM_ABI_MAP_LIMA",(function(){return et})),n.d(e,"PROTOCOL_VM_ABI",(function(){return nt})),n.d(e,"OBJECT_ID_TX_TYPE",(function(){return rt})),n.d(e,"FIELD_TYPES",(function(){return at})),n.d(e,"BASE_GAS",(function(){return ot})),n.d(e,"GAS_PER_BYTE",(function(){return it})),n.d(e,"DEFAULT_FEE",(function(){return ct})),n.d(e,"KEY_BLOCK_INTERVAL",(function(){return st})),n.d(e,"TX_FEE_BASE_GAS",(function(){return ut})),n.d(e,"TX_FEE_OTHER_GAS",(function(){return ft})),n.d(e,"ID_TAG",(function(){return pt})),n.d(e,"PREFIX_ID_TAG",(function(){return lt})),n.d(e,"ID_TAG_PREFIX",(function(){return dt})),n.d(e,"VALIDATION_MESSAGE",(function(){return ht})),n.d(e,"CONTRACT_BYTE_CODE_LIMA",(function(){return bt})),n.d(e,"CONTRACT_BYTE_CODE_MINERVA",(function(){return gt})),n.d(e,"CONTRACT_BYTE_CODE_ROMA",(function(){return yt})),n.d(e,"TX_SERIALIZATION_SCHEMA",(function(){return he})),n.d(e,"TX_DESERIALIZATION_SCHEMA",(function(){return me})),n.d(e,"SIGNATURE_VERIFICATION_SCHEMA",(function(){return Ie})),n.d(e,"CONTRACT_VERIFICATION_SCHEMA",(function(){return Pe})),n.d(e,"NAME_CLAIM_VERIFICATION_SCHEMA",(function(){return Ce})),n.d(e,"BASE_VERIFICATION_SCHEMA",(function(){return Se}));var r,a,o,i,c,s,u,f,p,l=n(1),d=n.n(l),h=n(8),m=n.n(h),v=n(4),b=n.n(v),g=1,y=2,x=0,w=3e4,O={type:"delta",value:500},T={type:"delta",value:10},k={type:"delta",value:10},E=0,A=0,j=1579e3,_=1e9,I=5e4,P={pub:"ak_11111111111111111111111111111111273Yts",amount:"100000000000000000000000000000000000"},C=["chain"],S=5e4,N=36e3,M=84600,D=M,R=0,B=1e14,F=.05,V=480,L=12,U={ak:"account_pubkey",ok:"oracle_pubkey",ct:"contract_pubkey",ch:"channel"},Y={31:b()(3).times(B),30:b()(5).times(B),29:b()(8).times(B),28:b()(13).times(B),27:b()(21).times(B),26:b()(34).times(B),25:b()(55).times(B),24:b()(89).times(B),23:b()(144).times(B),22:b()(233).times(B),21:b()(377).times(B),20:b()(610).times(B),19:b()(987).times(B),18:b()(1597).times(B),17:b()(2584).times(B),16:b()(4181).times(B),15:b()(6765).times(B),14:b()(10946).times(B),13:b()(17711).times(B),12:b()(28657).times(B),11:b()(46368).times(B),10:b()(75025).times(B),9:b()(121393).times(B),8:b()(196418).times(B),7:b()(317811).times(B),6:b()(514229).times(B),5:b()(832040).times(B),4:b()(1346269).times(B),3:b()(2178309).times(B),2:b()(3524578).times(B),1:b()(5702887).times(B)},q={13:b()(0),12:b()(V),8:b()(31).times(V),4:b()(62).times(V)},H=11,K=function(t,e,n){return[t,e,n]},X=function(t,e){return[t,e]},G={account:"account",signed:"signedTx",spend:"spendTx",nameClaim:"nameClaimTx",namePreClaim:"namePreClaimTx",nameUpdate:"nameUpdateTx",nameRevoke:"nameRevokeTx",nameTransfer:"nameTransfer",contract:"contract",contractCreate:"contractCreateTx",contractCall:"contractCallTx",contractCallResult:"contractCallResult",oracleRegister:"oracleRegister",oracleExtend:"oracleExtend",oracleQuery:"oracleQuery",oracleResponse:"oracleResponse",channelCreate:"channelCreate",channelCloseMutual:"channelCloseMutual",channelCloseSolo:"channelCloseSolo",channelSlash:"channelSlash",channelDeposit:"channelDeposit",channelWithdraw:"channelWithdraw",channelSettle:"channelSettle",channelOffChain:"channelOffChain",channelForceProgress:"channelForceProgress",channel:"channel",channelSnapshotSolo:"channelSnapshotSolo",channelOffChainUpdateTransfer:"channelOffChainUpdateTransfer",channelOffChainUpdateDeposit:"channelOffChainUpdateDeposit",channelOffChainUpdateWithdrawal:"channelOffChainUpdateWithdrawal",channelOffChainCreateContract:"channelOffChainCreateContract",channelOffChainCallContract:"channelOffChainCallContract",channelReconnect:"channelReconnect",proofOfInclusion:"proofOfInclusion",stateTrees:"stateTrees",merklePatriciaTree:"merklePatriciaTree",merklePatriciaTreeValue:"merklePatriciaTreeValue",contractsTree:"contractsTree",contractCallsTree:"contractCallsTree",channelsTree:"channelsTree",nameserviceTree:"nameserviceTree",oraclesTree:"oraclesTree",accountsTree:"accountsTree",gaAttach:"gaAttach",gaMeta:"gaMeta",sophiaByteCode:"sophiaByteCode"},W={NO_VM:0,SOPHIA:1,SOLIDITY:2,SOPHIA_IMPROVEMENTS_MINERVA:3,SOPHIA_IMPROVEMENTS_FORTUNA:4,FATE:5,SOPHIA_IMPROVEMENTS_LIMA:6},Q={NO_ABI:0,SOPHIA:1,SOLIDITY:2,FATE:3},z={FATE:"fate",AEVM:"aevm"},J=[3],$=(r={},d()(r,G.contractCreate,{vmVersion:[W.SOPHIA],abiVersion:[Q.SOPHIA]}),d()(r,G.contractCall,{vmVersion:[W.SOPHIA],abiVersion:[Q.SOPHIA]}),d()(r,G.oracleRegister,{vmVersion:[W.SOPHIA],abiVersion:[Q.NO_ABI,Q.SOPHIA]}),r),Z=(a={},d()(a,G.contractCreate,{vmVersion:[W.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Q.SOPHIA]}),d()(a,G.contractCall,{vmVersion:[W.SOPHIA_IMPROVEMENTS_MINERVA,W.SOPHIA],abiVersion:[Q.SOPHIA]}),d()(a,G.oracleRegister,{vmVersion:[W.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Q.NO_ABI,Q.SOPHIA]}),a),tt=(o={},d()(o,G.contractCreate,{vmVersion:[W.SOPHIA_IMPROVEMENTS_FORTUNA],abiVersion:[Q.SOPHIA]}),d()(o,G.contractCall,{vmVersion:[W.SOPHIA_IMPROVEMENTS_FORTUNA,W.SOPHIA,W.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Q.SOPHIA]}),d()(o,G.oracleRegister,{vmVersion:[],abiVersion:[Q.NO_ABI,Q.SOPHIA]}),o),et=(i={},d()(i,G.contractCreate,{vmVersion:[W.FATE,W.SOPHIA_IMPROVEMENTS_LIMA],abiVersion:[Q.FATE,Q.SOPHIA]}),d()(i,G.contractCall,{vmVersion:[W.FATE,W.SOPHIA_IMPROVEMENTS_LIMA,W.SOPHIA_IMPROVEMENTS_FORTUNA,W.SOPHIA,W.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Q.FATE,Q.SOPHIA]}),d()(i,G.oracleRegister,{vmVersion:[],abiVersion:[Q.NO_ABI,Q.SOPHIA]}),i),nt={1:$,2:Z,3:tt,4:et},rt=(c={},d()(c,10,G.account),d()(c,H,G.signed),d()(c,12,G.spend),d()(c,32,G.nameClaim),d()(c,33,G.namePreClaim),d()(c,34,G.nameUpdate),d()(c,35,G.nameRevoke),d()(c,36,G.nameTransfer),d()(c,40,G.contract),d()(c,42,G.contractCreate),d()(c,43,G.contractCall),d()(c,41,G.contractCallResult),d()(c,22,G.oracleRegister),d()(c,25,G.oracleExtend),d()(c,23,G.oracleQuery),d()(c,24,G.oracleResponse),d()(c,50,G.channelCreate),d()(c,53,G.channelCloseMutual),d()(c,54,G.channelCloseSolo),d()(c,55,G.channelSlash),d()(c,521,G.channelForceProgress),d()(c,51,G.channelDeposit),d()(c,52,G.channelWithdraw),d()(c,56,G.channelSettle),d()(c,57,G.channelOffChain),d()(c,58,G.channel),d()(c,59,G.channelSnapshotSolo),d()(c,570,G.channelOffChainUpdateTransfer),d()(c,571,G.channelOffChainUpdateDeposit),d()(c,572,G.channelOffChainUpdateWithdrawal),d()(c,573,G.channelOffChainCreateContract),d()(c,574,G.channelOffChainCallContract),d()(c,575,G.channelReconnect),d()(c,60,G.proofOfInclusion),d()(c,62,G.stateTrees),d()(c,63,G.merklePatriciaTree),d()(c,64,G.merklePatriciaTreeValue),d()(c,621,G.contractsTree),d()(c,622,G.contractCallsTree),d()(c,623,G.channelsTree),d()(c,624,G.nameserviceTree),d()(c,625,G.oraclesTree),d()(c,626,G.accountsTree),d()(c,80,G.gaAttach),d()(c,81,G.gaMeta),d()(c,70,G.sophiaByteCode),c),at={int:"int",amount:"amount",id:"id",ids:"ids",string:"string",binary:"binary",rlpBinary:"rlpBinary",rlpBinaries:"rlpBinaries",rawBinary:"rawBinary",bool:"bool",hex:"hex",signatures:"signatures",pointers:"pointers",offChainUpdates:"offChainUpdates",callStack:"callStack",proofOfInclusion:"proofOfInclusion",mptree:"mptree",callReturnType:"callReturnType",ctVersion:"ctVersion",sophiaCodeTypeInfo:"sophiaCodeTypeInfo",payload:"payload",any:"any",stateTree:"stateTree"},ot=15e3,it=20,ct=2e4,st=3,ut=function(t,e){var n=e.backend,r=void 0===n?z.FATE:n;switch(t){case G.gaAttach:case G.contractCreate:return b()(5*ot);case G.gaMeta:case G.contractCall:return b()((r===z.FATE?12:30)*ot);default:return b()(ot)}},ft=function(t){return function(e){var n=e.txSize,r=e.relativeTtl;switch(t){case G.oracleRegister:case G.oracleExtend:case G.oracleQuery:case G.oracleResponse:return b()(n).times(it).plus(Math.ceil(32e3*r/Math.floor(525600/st)));default:return b()(n).times(it)}}},pt={account:1,name:2,commitment:3,oracle:4,contract:5,channel:6},lt={ak:pt.account,nm:pt.name,cm:pt.commitment,ok:pt.oracle,ct:pt.contract,ch:pt.channel},dt=(p=lt,Object.entries(p).reduce((function(t,e){var n=m()(e,2),r=n[0];return(t[n[1]]=r)&&t}),{})),ht=(s={},d()(s,at.int,(function(t){var e=t.value,n=t.isMinusValue;return"".concat(e,n?" must be >= 0":" is not of type Number or BigNumber")})),d()(s,at.amount,(function(t){var e=t.value,n=t.isMinusValue;return"".concat(e,n?" must be >= 0":" is not of type Number or BigNumber")})),d()(s,at.id,(function(t){var e=t.value,n=t.prefix;return"'".concat(e,"' prefix doesn't match expected prefix '").concat(n,"' or ID_TAG for prefix not found")})),d()(s,at.binary,(function(t){var e=t.prefix,n=t.value;return"'".concat(n,"' prefix doesn't match expected prefix '").concat(e,"'")})),d()(s,at.string,(function(t){t.value;return"Not a string"})),d()(s,at.pointers,(function(t){t.value;return'Value must be of type Array and contains only object\'s like \'{key: "account_pubkey", id: "ak_lkamsflkalsdalksdlasdlasdlamd"}\''})),d()(s,at.ctVersion,(function(t){t.value;return'Value must be an object with "vmVersion" and "abiVersion" fields'})),s),mt=[K("tag",at.int),K("VSN",at.int)],vt=[].concat(mt,[K("nonce",at.int),K("balance",at.int)]),bt=[].concat(mt,[K("sourceCodeHash",at.rawBinary),K("typeInfo",at.sophiaCodeTypeInfo),K("byteCode",at.rawBinary),K("compilerVersion",at.string),K("payable",at.bool)]),gt=[].concat(mt,[K("sourceCodeHash",at.rawBinary),K("typeInfo",at.sophiaCodeTypeInfo),K("byteCode",at.rawBinary),K("compilerVersion",at.string)]),yt=[].concat(mt,[K("sourceCodeHash",at.rawBinary),K("typeInfo",at.sophiaCodeTypeInfo),K("byteCode",at.rawBinary)]),xt=[].concat(mt,[K("flags",at.int),K("nonce",at.int),K("balance",at.int),K("gaContract",at.id,["ct","nm"]),K("gaAuthFun",at.binary,"cb")]),wt=[].concat(mt,[K("senderId",at.id,"ak"),K("recipientId",at.id,["ak","nm"]),K("amount",at.amount),K("fee",at.int),K("ttl",at.int),K("nonce",at.int),K("payload",at.payload)]),Ot=[].concat(mt,[K("signatures",at.signatures),K("encodedTx",at.rlpBinary)]),Tt=[].concat(mt,[K("accountId",at.id,"ak"),K("nonce",at.int),K("commitmentId",at.id,"cm"),K("fee",at.int),K("ttl",at.int)]),kt=[].concat(mt,[K("accountId",at.id,"ak"),K("nonce",at.int),K("name",at.binary,"nm"),K("nameSalt",at.int),K("fee",at.int),K("ttl",at.int)]),Et=[].concat(mt,[K("accountId",at.id,"ak"),K("nonce",at.int),K("name",at.binary,"nm"),K("nameSalt",at.int),K("nameFee",at.amount),K("fee",at.int),K("ttl",at.int)]),At=[].concat(mt,[K("accountId",at.id,"ak"),K("nonce",at.int),K("nameId",at.id,"nm"),K("nameTtl",at.int),K("pointers",at.pointers),K("clientTtl",at.int),K("fee",at.int),K("ttl",at.int)]),jt=[].concat(mt,[K("accountId",at.id,"ak"),K("nonce",at.int),K("nameId",at.id,"nm"),K("recipientId",at.id,["ak","nm"]),K("fee",at.int),K("ttl",at.int)]),_t=[].concat(mt,[K("accountId",at.id,"ak"),K("nonce",at.int),K("nameId",at.id,"nm"),K("fee",at.int),K("ttl",at.int)]),It=[].concat(mt,[K("owner",at.id,"ak"),K("ctVersion",at.int),K("code",at.binary,"cb"),K("log",at.binary,"cb"),K("active",at.bool),K("referers",at.ids,"ak"),K("deposit",at.amount)]),Pt=[].concat(mt,[K("ownerId",at.id,"ak"),K("nonce",at.int),K("code",at.binary,"cb"),K("authFun",at.rawBinary),K("ctVersion",at.ctVersion),K("fee",at.int),K("ttl",at.int),K("gas",at.int),K("gasPrice",at.int),K("callData",at.binary,"cb")]),Ct=[].concat(mt,[K("gaId",at.id,"ak"),K("authData",at.binary,"cb"),K("abiVersion",at.int),K("fee",at.int),K("gas",at.int),K("gasPrice",at.int),K("ttl",at.int),K("tx",at.rlpBinary)]),St=[].concat(mt,[K("ownerId",at.id,"ak"),K("nonce",at.int),K("code",at.binary,"cb"),K("ctVersion",at.ctVersion),K("fee",at.int),K("ttl",at.int),K("deposit",at.amount),K("amount",at.amount),K("gas",at.int),K("gasPrice",at.int),K("callData",at.binary,"cb")]),Nt=[].concat(mt,[K("callerId",at.id,"ak"),K("nonce",at.int),K("contractId",at.id,["ct","nm"]),K("abiVersion",at.int),K("fee",at.int),K("ttl",at.int),K("amount",at.amount),K("gas",at.int),K("gasPrice",at.int),K("callData",at.binary,"cb")]),Mt=[].concat(mt,[K("callerId",at.id,"ak"),K("callerNonce",at.int),K("height",at.int),K("contractId",at.id,"ct"),K("gasPrice",at.int),K("gasUsed",at.int),K("returnValue",at.binary,"cb"),K("returnType",at.callReturnType),K("log",at.rawBinary)]),Dt=[].concat(mt,[K("accountId",at.id,"ak"),K("nonce",at.int),K("queryFormat",at.string),K("responseFormat",at.string),K("queryFee",at.amount),K("oracleTtlType",at.int),K("oracleTtlValue",at.int),K("fee",at.int),K("ttl",at.int),K("abiVersion",at.int)]),Rt=[].concat(mt,[K("oracleId",at.id,["ok","nm"]),K("nonce",at.int),K("oracleTtlType",at.int),K("oracleTtlValue",at.int),K("fee",at.int),K("ttl",at.int)]),Bt=[].concat(mt,[K("senderId",at.id,"ak"),K("nonce",at.int),K("oracleId",at.id,["ok","nm"]),K("query",at.string),K("queryFee",at.amount),K("queryTtlType",at.int),K("queryTtlValue",at.int),K("responseTtlType",at.int),K("responseTtlValue",at.int),K("fee",at.int),K("ttl",at.int)]),Ft=[].concat(mt,[K("oracleId",at.id,"ok"),K("nonce",at.int),K("queryId",at.binary,"oq"),K("response",at.string),K("responseTtlType",at.int),K("responseTtlValue",at.int),K("fee",at.int),K("ttl",at.int)]),Vt=[].concat(mt,[K("initiator",at.id,"ak"),K("initiatorAmount",at.int),K("responder",at.id,"ak"),K("responderAmount",at.int),K("channelReserve",at.int),K("lockPeriod",at.int),K("ttl",at.int),K("fee",at.int),K("delegateIds",at.string),K("stateHash",at.binary,"st"),K("nonce",at.int)]),Lt=[].concat(mt,[K("channelId",at.id,"ch"),K("fromId",at.id,"ak"),K("amount",at.int),K("ttl",at.int),K("fee",at.int),K("stateHash",at.binary,"st"),K("round",at.int),K("nonce",at.int)]),Ut=[].concat(mt,[K("channelId",at.id,"ch"),K("toId",at.id,"ak"),K("amount",at.int),K("ttl",at.int),K("fee",at.int),K("stateHash",at.binary,"st"),K("round",at.int),K("nonce",at.int)]),Yt=[].concat(mt,[K("channelId",at.id,"ch"),K("fromId",at.id,"ak"),K("initiatorAmountFinal",at.int),K("responderAmountFinal",at.int),K("ttl",at.int),K("fee",at.int),K("nonce",at.int)]),qt=[].concat(mt,[K("channelId",at.id,"ch"),K("fromId",at.id,"ak"),K("payload",at.binary,"tx"),K("poi",at.binary,"pi"),K("ttl",at.int),K("fee",at.int),K("nonce",at.int)]),Ht=[].concat(mt,[K("channelId",at.id,"ch"),K("fromId",at.id,"ak"),K("payload",at.binary,"tx"),K("poi",at.binary,"pi"),K("ttl",at.int),K("fee",at.int),K("nonce",at.int)]),Kt=[].concat(mt,[K("channelId",at.id,"ch"),K("fromId",at.id,"ak"),K("initiatorAmountFinal",at.int),K("responderAmountFinal",at.int),K("ttl",at.int),K("fee",at.int),K("nonce",at.int)]),Xt=[].concat(mt,[K("channelId",at.id,"ch"),K("fromId",at.id,"ak"),K("payload",at.binary,"tx"),K("round",at.int),K("update",at.binary),K("stateHash",at.binary),K("offChainTrees",at.stateTree),K("ttl",at.int),K("fee",at.int),K("nonce",at.int)]),Gt=[].concat(mt,[K("channelId",at.id,"ch"),K("round",at.int),K("updates",at.offChainUpdates),K("stateHash",at.binary,"st")]),Wt=[].concat(mt,[K("channelId",at.id,"ch"),K("round",at.int),K("stateHash",at.binary,"st")]),Qt=[].concat(mt,[K("initiator",at.id,"ak"),K("responder",at.id,"ak"),K("channelAmount",at.int),K("initiatorAmount",at.int),K("responderAmount",at.int),K("channelReserve",at.int),K("delegateIds",at.ids),K("stateHash",at.hex),K("round",at.int),K("soloRound",at.int),K("lockPeriod",at.int),K("lockedUntil",at.int)]),zt=[].concat(mt,[K("initiator",at.id,"ak"),K("responder",at.id,"ak"),K("channelAmount",at.int),K("initiatorAmount",at.int),K("responderAmount",at.int),K("channelReserve",at.int),K("delegateIds",at.ids),K("stateHash",at.hex),K("round",at.int),K("soloRound",at.int),K("lockPeriod",at.int),K("lockedUntil",at.int),K("initiatorAuth",at.binary,"cb"),K("responderAuth",at.binary,"cb")]),Jt=[].concat(mt,[K("channelId",at.id,"ch"),K("fromId",at.id,"ak"),K("payload",at.binary,"tx"),K("ttl",at.int),K("fee",at.int),K("nonce",at.int)]),$t=[].concat(mt,[K("owner",at.id,"ak"),K("ctVersion",at.int),K("code",at.binary,"cb"),K("deposit",at.int),K("callData",at.binary,"cb")]),Zt=[].concat(mt,[K("caller",at.id,"ak"),K("contract",at.id,"ct"),K("abiVersion",at.int),K("amount",at.int),K("callData",at.binary,"cb"),K("callStack",at.callStack),K("gasPrice",at.int),K("gasLimit",at.int)]),te=[].concat(mt,[K("channelId",at.id,"ch"),K("round",at.int),K("role",at.string),K("pubkey",at.id,"ak")]),ee=[].concat(mt,[K("from",at.id,"ak"),K("to",at.id,"ak"),K("amount",at.int)]),ne=[].concat(mt,[K("from",at.id,"ak"),K("amount",at.int)]),re=[].concat(mt,[K("from",at.id,"ak"),K("amount",at.int)]),ae=[].concat(mt,[K("accounts",at.mptrees),K("calls",at.mptrees),K("channels",at.mptrees),K("contracts",at.mptrees),K("ns",at.mptrees),K("oracles",at.mptrees)]),oe=[].concat(mt,[K("contracts",at.rlpBinary),K("calls",at.rlpBinary),K("channels",at.rlpBinary),K("ns",at.rlpBinary),K("oracles",at.rlpBinary),K("accounts",at.rlpBinary)]),ie=[].concat(mt,[K("values",at.rlpBinaries)]),ce=[].concat(mt,[K("key",at.hex),K("value",at.rawBinary)]),se=[].concat(mt,[K("contracts",at.rlpBinary)]),ue=[].concat(mt,[K("calls",at.rlpBinary)]),fe=[].concat(mt,[K("channels",at.rlpBinary)]),pe=[].concat(mt,[K("mtree",at.rlpBinary)]),le=[].concat(mt,[K("otree",at.rlpBinary)]),de=[].concat(mt,[K("accounts",at.rlpBinary)]),he=(u={},d()(u,G.account,{1:X(vt,10),2:X(xt,10)}),d()(u,G.signed,{1:X(Ot,H)}),d()(u,G.spend,{1:X(wt,12)}),d()(u,G.namePreClaim,{1:X(Tt,33)}),d()(u,G.nameClaim,{1:X(kt,32),2:X(Et,32)}),d()(u,G.nameUpdate,{1:X(At,34)}),d()(u,G.nameTransfer,{1:X(jt,36)}),d()(u,G.nameRevoke,{1:X(_t,35)}),d()(u,G.contract,{1:X(It,40)}),d()(u,G.contractCreate,{1:X(St,42)}),d()(u,G.contractCall,{1:X(Nt,43)}),d()(u,G.contractCallResult,{1:X(Mt,41)}),d()(u,G.oracleRegister,{1:X(Dt,22)}),d()(u,G.oracleExtend,{1:X(Rt,25)}),d()(u,G.oracleQuery,{1:X(Bt,23)}),d()(u,G.oracleResponse,{1:X(Ft,24)}),d()(u,G.channelCreate,{1:X(Vt,50)}),d()(u,G.channelCloseMutual,{1:X(Yt,53)}),d()(u,G.channelCloseSolo,{1:X(qt,54)}),d()(u,G.channelSlash,{1:X(Ht,55)}),d()(u,G.channelDeposit,{1:X(Lt,51)}),d()(u,G.channelWithdraw,{1:X(Ut,52)}),d()(u,G.channelSettle,{1:X(Kt,56)}),d()(u,G.channelForceProgress,{1:X(Xt,521)}),d()(u,G.channelOffChain,{1:X(Gt,57),2:X(Wt,57)}),d()(u,G.channel,{1:X(Qt,58),2:X(zt,58)}),d()(u,G.channelSnapshotSolo,{1:X(Jt,59)}),d()(u,G.channelOffChainUpdateTransfer,{1:X(ee,570)}),d()(u,G.channelOffChainUpdateDeposit,{1:X(ne,571)}),d()(u,G.channelOffChainUpdateWithdrawal,{1:X(re,572)}),d()(u,G.channelOffChainCreateContract,{1:X($t,573)}),d()(u,G.channelOffChainCallContract,{1:X(Zt,574)}),d()(u,G.channelReconnect,{1:X(te,575)}),d()(u,G.proofOfInclusion,{1:X(ae,60)}),d()(u,G.stateTrees,{1:X(oe,62)}),d()(u,G.merklePatriciaTree,{1:X(ie,63)}),d()(u,G.merklePatriciaTreeValue,{1:X(ce,64)}),d()(u,G.contractsTree,{1:X(se,621)}),d()(u,G.contractCallsTree,{1:X(ue,622)}),d()(u,G.channelsTree,{1:X(fe,623)}),d()(u,G.nameserviceTree,{1:X(pe,624)}),d()(u,G.oraclesTree,{1:X(le,625)}),d()(u,G.accountsTree,{1:X(de,626)}),d()(u,G.gaAttach,{1:X(Pt,80)}),d()(u,G.gaMeta,{1:X(Ct,81)}),u),me=(f={},d()(f,10,{1:X(vt,10),2:X(xt,10)}),d()(f,H,{1:X(Ot,H)}),d()(f,12,{1:X(wt,12)}),d()(f,33,{1:X(Tt,33)}),d()(f,32,{1:X(kt,32),2:X(Et,32)}),d()(f,34,{1:X(At,34)}),d()(f,36,{1:X(jt,36)}),d()(f,35,{1:X(_t,35)}),d()(f,40,{1:X(It,40)}),d()(f,42,{1:X(St,42)}),d()(f,43,{1:X(Nt,43)}),d()(f,41,{1:X(Mt,41)}),d()(f,22,{1:X(Dt,22)}),d()(f,25,{1:X(Rt,25)}),d()(f,23,{1:X(Bt,23)}),d()(f,24,{1:X(Ft,24)}),d()(f,50,{1:X(Vt,50)}),d()(f,53,{1:X(Yt,53)}),d()(f,54,{1:X(qt,54)}),d()(f,55,{1:X(Ht,55)}),d()(f,51,{1:X(Lt,51)}),d()(f,52,{1:X(Ut,52)}),d()(f,56,{1:X(Kt,56)}),d()(f,57,{1:X(Gt,57),2:X(Wt,57)}),d()(f,58,{1:X(Qt,58),2:X(zt,58)}),d()(f,59,{1:X(Jt,59)}),d()(f,570,{1:X(ee,570)}),d()(f,571,{1:X(ne,571)}),d()(f,572,{1:X(re,572)}),d()(f,573,{1:X($t,573)}),d()(f,574,{1:X(Zt,574)}),d()(f,575,{1:X(te,575)}),d()(f,60,{1:X(ae,60)}),d()(f,62,{1:X(oe,62)}),d()(f,63,{1:X(ie,63)}),d()(f,64,{1:X(ce,64)}),d()(f,621,{1:X(se,621)}),d()(f,622,{1:X(ue,622)}),d()(f,623,{1:X(fe,623)}),d()(f,624,{1:X(pe,624)}),d()(f,625,{1:X(le,625)}),d()(f,626,{1:X(de,626)}),d()(f,80,{1:X(Pt,80)}),d()(f,81,{1:X(Ct,81)}),d()(f,521,{1:X(Xt,521)}),d()(f,70,{1:X(yt,70),2:X(gt,70),3:X(bt,70)}),f),ve="error",be="warning",ge=function(t,e,n){return[t,e,n]},ye="insufficientFee",xe="expiredTTL",we="insufficientBalanceForAmountFee",Oe="insufficientBalanceForAmount",Te="nonceUsed",ke="nonceHigh",Ee="minGasPrice",Ae="vmAndAbiVersion",je="insufficientBalanceForFeeNameFee",_e={invalidSignature:{key:"InvalidSignature",type:ve,txKey:"signature"},insufficientFee:{key:"InsufficientFee",type:ve,txKey:"fee"},expiredTTL:{key:"ExpiredTTL",type:ve,txKey:"ttl"},insufficientBalanceForAmountFee:{key:"InsufficientBalanceForAmountFee",type:be,txKey:"fee"},insufficientBalanceForAmount:{key:"InsufficientBalanceForAmount",type:be,txKey:"amount"},nonceUsed:{key:"NonceUsed",type:ve,txKey:"nonce"},nonceHigh:{key:"NonceHigh",type:be,txKey:"nonce"},minGasPrice:{key:"minGasPrice",type:ve,txKey:"gasPrice"},vmAndAbiVersion:{key:"vmAndAbiVersion",type:ve,txKey:"ctVersion"},insufficientBalanceForFeeNameFee:{key:"insufficientBalanceForFeeNameFee",type:ve,txKey:"nameFee"}},Ie=[ge((function(){return"The signature cannot be verified, please verify that you used the correct network id and the correct private key for the sender address"}),"signature",_e.invalidSignature)],Pe=[ge((function(t){t.ctVersion;var e=t.consensusProtocolVersion,n=t.txType;return"Wrong abi/vm version, Supported is: ".concat(nt[e]?JSON.stringify(nt[e][n]):" None for this protocol "+e)}),Ae,_e.vmAndAbiVersion),ge((function(){return"The gasPrice must be bigger then ".concat(_)}),Ee,_e.minGasPrice)],Ce=[ge((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),je,_e.insufficientBalanceForFeeNameFee)],Se=[ge((function(t){var e=t.minFee;return"The fee for the transaction is too low, the minimum fee for this transaction is ".concat(e)}),ye,_e.insufficientFee),ge((function(t){var e=t.height;return"The TTL is already expired, the current height is ".concat(e)}),xe,_e.expiredTTL),ge((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),we,_e.insufficientBalanceForAmountFee),ge((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),Oe,_e.insufficientBalanceForAmount),ge((function(t){var e=t.accountNonce;return"The nonce is invalid(already used). Next valid nonce is ".concat(e+1,")")}),Te,_e.nonceUsed),ge((function(t){var e=t.accountNonce;return"The nonce is technically valid but will not be processed immediately by the node (next valid nonce is ".concat(e+1,")")}),ke,_e.nonceHigh)]},function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ADDRESS_FORMAT",(function(){return g})),n.d(e,"formatAddress",(function(){return y})),n.d(e,"getAddressFromPriv",(function(){return x})),n.d(e,"isAddressValid",(function(){return w})),n.d(e,"addressToHex",(function(){return O})),n.d(e,"addressFromDecimal",(function(){return T})),n.d(e,"hash",(function(){return k})),n.d(e,"sha256hash",(function(){return E})),n.d(e,"salt",(function(){return A})),n.d(e,"encodeBase64Check",(function(){return j})),n.d(e,"checkSumFn",(function(){return _})),n.d(e,"decodeBase64Check",(function(){return I})),n.d(e,"encodeBase58Check",(function(){return P})),n.d(e,"decodeBase58Check",(function(){return C})),n.d(e,"hexStringToByte",(function(){return S})),n.d(e,"encodeUnsigned",(function(){return N})),n.d(e,"encodeContractAddress",(function(){return M})),n.d(e,"generateKeyPairFromSecret",(function(){return D})),n.d(e,"generateKeyPair",(function(){return R})),n.d(e,"encryptPublicKey",(function(){return B})),n.d(e,"encryptPrivateKey",(function(){return F})),n.d(e,"encryptKey",(function(){return V})),n.d(e,"decryptKey",(function(){return L})),n.d(e,"sign",(function(){return U})),n.d(e,"verify",(function(){return Y})),n.d(e,"prepareTx",(function(){return q})),n.d(e,"personalMessageToBinary",(function(){return H})),n.d(e,"signPersonalMessage",(function(){return K})),n.d(e,"verifyPersonalMessage",(function(){return X})),n.d(e,"aeEncodeKey",(function(){return G})),n.d(e,"generateSaveWallet",(function(){return W})),n.d(e,"decryptPrivateKey",(function(){return Q})),n.d(e,"decryptPubKey",(function(){return z})),n.d(e,"assertedType",(function(){return J})),n.d(e,"decodeTx",(function(){return $})),n.d(e,"encodeTx",(function(){return Z})),n.d(e,"isValidKeypair",(function(){return tt})),n.d(e,"envKeypair",(function(){return et})),n.d(e,"encryptData",(function(){return nt})),n.d(e,"decryptData",(function(){return rt})),n.d(e,"decode",(function(){return at})),n.d(e,"encode",(function(){return ot})),n.d(e,"rlp",(function(){return it}));var r=n(84),a=n.n(r),o=n(60),i=n(115),c=n(85),s=n.n(c),u=n(20),f=n.n(u),p=n(116),l=n.n(p),d=n(117),h=n.n(d),m=n(17),v=n(7),b=l.a.ModeOfOperation.ecb,g={sophia:1,api:2,raw:3};function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.api,e=arguments.length>1?arguments[1]:void 0;switch(t){case g.api:return e;case g.sophia:return"0x".concat(Object(v.decode)(e,"ak").toString("hex"))}}function x(e){var n=f.a.sign.keyPair.fromSecretKey(Object(m.str2buf)(e)),r=t.from(n.publicKey);return"ak_".concat(P(r))}function w(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ak";try{e=32===C(J(t,n)).length}catch(t){e=!1}return e}function O(t){return"0x".concat(C(J(t,"ak")).toString("hex"))}function T(t){return G(Object(m.toBytes)(t,!0))}function k(e){return t.from(Object(i.blake2b)(e,null,32))}function E(t){return h()("sha256").update(t).digest()}function A(){return Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER))}function j(e){var n=t.from(e),r=_(e);return t.concat([n,r],n.length+4).toString("base64")}function _(t){return E(E(t)).slice(0,4)}function I(e){var n=function(t){var e=t.slice(0,-4),n=t.slice(-4),r=_(e);if(n.equals(r))return e}(t.from(e,"base64"));if(!n)throw new Error("Invalid checksum");return t.from(n)}function P(e){return a.a.encode(t.from(e))}function C(t){return a.a.decode(t)}function S(t){if(!t)return new Uint8Array;for(var e=[],n=0,r=t.length;n<r;n+=2)e.push(parseInt(t.substr(n,2),16));return new Uint8Array(e)}function N(e){var n=t.allocUnsafe(4);return n.writeUInt32BE(e),n.slice(n.findIndex((function(t){return 0!==t})))}function M(e,n){var r=C(J(e,"ak")),a=t.concat([r,N(n)]);return"ct_".concat(P(k(a)))}function D(t){return f.a.sign.keyPair.fromSecretKey(t)}function R(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=f.a.sign.keyPair(),r=t.from(n.publicKey),a=t.from(n.secretKey);return e?{publicKey:r,secretKey:a}:{publicKey:"ak_".concat(P(r)),secretKey:a.toString("hex")}}function B(t,e){return V(t,Object(m.rightPad)(32,e))}function F(t,e){return V(t,Object(m.leftPad)(64,e))}function V(t,e){var n=E(t);return new b(n).encrypt(e)}function L(e,n){var r=t.from(n),a=E(e),o=new b(a);return t.from(o.decrypt(r))}function U(e,n){return f.a.sign.detached(t.from(e),t.from(n))}function Y(t,e,n){return f.a.sign.detached.verify(new Uint8Array(t),e,n)}function q(e,n){return[t.from([11]),t.from([1]),[t.from(e)],n]}function H(e){var n=t.from("aeternity Signed Message:\n","utf8"),r=t.from(e,"utf8");if(r.length>=253)throw new Error("message too long");return t.concat([t.from([n.length]),n,t.from([r.length]),r])}function K(t,e){return U(k(H(t)),e)}function X(t,e,n){return Y(k(H(t)),e,n)}function G(e){var n=P(t.from(e,"hex"));return"ak_".concat(n)}function W(t){var e=R(!0);return{publicKey:B(t,e.publicKey),secretKey:F(t,e.secretKey)}}function Q(t,e){return L(t,e)}function z(t,e){return L(t,e).slice(0,65)}function J(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(RegExp("^".concat(e,"_.+$")).test(t))return t.split("_")[1];if(!n)throw Error("Data doesn't match expected type ".concat(e));return!1}function $(e){return o.decode(t.from(I(J(e,"tx"))))}function Z(t){var e=j(o.encode(t));return"tx_".concat(e)}function tt(e,n){var r=t.from("TheMessage");return Y(r,U(r,e),n)}function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={secretKey:t.WALLET_PRIV,publicKey:t.WALLET_PUB};if(n.publicKey&&n.secretKey)return n;if(!e)throw Error("Environment variables WALLET_PRIV and WALLET_PUB need to be set")}function nt(e,n){var r=f.a.box.keyPair(),a=C(J(n,"ak")),o=f.a.randomBytes(f.a.box.nonceLength),i=f.a.box(t.from(e),o,s.a.convertPublicKey(a),r.secretKey);return{ciphertext:t.from(i).toString("hex"),ephemPubKey:t.from(r.publicKey).toString("hex"),nonce:t.from(o).toString("hex"),version:"x25519-xsalsa20-poly1305"}}function rt(e,n){var r=s.a.convertSecretKey(t.from(e,"hex")),a=t.from(n.nonce,"hex"),o=t.from(n.ciphertext,"hex"),i=t.from(n.ephemPubKey,"hex"),c=f.a.box.open(o,a,i,r);return c?t.from(c):c}var at=o.decode,ot=o.encode,it=o}.call(this,n(24).Buffer)},function(t,e,n){var r=n(108),a=n(13)((function(t,e){return r({},t,e)}));t.exports=a},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"createSalt",(function(){return E})),n.d(e,"buildContractId",(function(){return j})),n.d(e,"buildHash",(function(){return _})),n.d(e,"oracleQueryId",(function(){return I})),n.d(e,"formatSalt",(function(){return P})),n.d(e,"nameHash",(function(){return C})),n.d(e,"produceNameId",(function(){return S})),n.d(e,"commitmentHash",(function(){return N})),n.d(e,"decode",(function(){return M})),n.d(e,"encode",(function(){return D})),n.d(e,"writeId",(function(){return R})),n.d(e,"readId",(function(){return B})),n.d(e,"writeInt",(function(){return F})),n.d(e,"readInt",(function(){return V})),n.d(e,"buildPointers",(function(){return L})),n.d(e,"readPointers",(function(){return U})),n.d(e,"isNameValid",(function(){return Y})),n.d(e,"classify",(function(){return q})),n.d(e,"validatePointers",(function(){return H})),n.d(e,"getMinimumNameFee",(function(){return K})),n.d(e,"computeBidFee",(function(){return X})),n.d(e,"computeAuctionEndBlock",(function(){return G})),n.d(e,"getContractBackendFromTx",(function(){return W})),n.d(e,"isAuctionName",(function(){return Q}));var r=n(121),a=n.n(r),o=n(120),i=n.n(o),c=n(64),s=n.n(c),u=n(87),f=n.n(u),p=n(119),l=n.n(p),d=n(8),h=n.n(d),m=n(32),v=n.n(m),b=n(10),g=n.n(b),y=n(4),x=n.n(y),w=n(5),O=n(17),T=n(3),k=n(47),E=w.salt,A=["tx","st","ss","pi","ov","or","cb","cs","ba"];function j(e,n){var r=t.from([].concat(g()(M(e,"ak")),g()(Object(O.toBytes)(n))));return D(Object(w.hash)(r),"ct")}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{raw:!1};return n.raw?Object(w.hash)(e):D(Object(w.hash)(e),t)}function I(e,n,r){var a,o;return D(Object(w.hash)(t.from([].concat(g()(M(e,"ak")),g()((a=n,o=Object(O.toBytes)(a,!0),t.concat([t.alloc(32-o.length),o]))),g()(M(r,"ok"))))),"oq")}function P(e){return t.from(e.toString(16).padStart(64,"0"),"hex")}function C(e){var n=t.allocUnsafe(32).fill(0);if(e){for(var r=e.split("."),a=0;a<r.length;a++)n=Object(w.hash)(t.concat([n,Object(w.hash)(r[a])]));return n}return n}function S(t){return D("chain"===v()(t.split("."))?Object(w.hash)(t.toLowerCase()):C(t),"nm")}function N(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E(),r=v()(e.split("."));return"cm_".concat("chain"===r?Object(w.encodeBase58Check)(Object(w.hash)(t.concat([t.from(e.toLowerCase()),P(n)]))):Object(w.encodeBase58Check)(Object(w.hash)(t.concat([C(e.toLowerCase()),P(n)]))))}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||(e=t.split("_")[0]),A.includes(e)?Object(w.decodeBase64Check)(Object(w.assertedType)(t,e)):Object(w.decodeBase58Check)(Object(w.assertedType)(t,e))}function D(t,e){return"".concat(e,"_").concat(A.includes(e)?Object(w.encodeBase64Check)(t):Object(w.encodeBase58Check)(t))}function R(e){var n=e.slice(0,2),r=T.PREFIX_ID_TAG[n];if(!r)throw new Error("Id tag for prefix ".concat(n," not found."));return t.from([].concat(g()(Object(O.toBytes)(r)),g()(M(e,n))))}function B(t){var e=t.readUIntBE(0,1),n=T.ID_TAG_PREFIX[e];if(!n)throw new Error("Prefix for id-tag ".concat(e," not found."));return D(t.slice(1,t.length),n)}function F(t){return Object(O.toBytes)(t,!0)}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.from([]);return x()(e.toString("hex"),16).toString(10)}function L(t){return t.map((function(t){return[Object(O.toBytes)(t.key),R(t.id)]}))}function U(t){return t.map((function(t){var e=h()(t,2),n=e[0],r=e[1];return Object.assign({key:n.toString(),id:B(r)})}))}function Y(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((!t||"string"!=typeof t)&&e)throw new Error("AENS: Name must be a string");if(!T.AENS_NAME_DOMAINS.includes(v()(t.split(".")))){if(e)throw new Error("AENS: Invalid name domain. Possible domains [".concat(T.AENS_NAME_DOMAINS,"]"));return!1}return!0}function q(t){if(!t.match(/^[a-z]{2}_.+/))throw Error("Not a valid hash");var e=t.substr(0,2);if(e in T.NAME_ID_KEY)return T.NAME_ID_KEY[e];throw Error("Unknown class ".concat(e))}function H(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!t.find((function(t){return!t||"string"!=typeof t||!["ak","ok","ct","ch"].includes(t.split("_")[0])}))}function K(t){var e=t.replace(".chain","").length;return T.NAME_BID_RANGES[e>=T.NAME_BID_MAX_LENGTH?T.NAME_BID_MAX_LENGTH:e]}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.NAME_FEE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.NAME_FEE_BID_INCREMENT;if(Number(n)!==n||n%1==0)throw new Error("Increment must be float. Current increment ".concat(n));if(n<T.NAME_FEE_BID_INCREMENT)throw new Error("minimum increment percentage is ".concat(T.NAME_FEE_BID_INCREMENT));return Object(k.b)(x()(x()(e).eq(T.NAME_FEE)?K(t):e).times(x()(T.NAME_FEE_BID_INCREMENT).plus(1)))}function G(t,e){return l()([[f()(5),s()(T.NAME_BID_TIMEOUTS[4].plus(e))],[f()(9),s()(T.NAME_BID_TIMEOUTS[8].plus(e))],[i()(T.NAME_BID_MAX_LENGTH),s()(T.NAME_BID_TIMEOUTS[12].plus(e))],[a.a,s()(x()(e))]])(t.replace(".chain","").length).toString(10)}function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.abiVersion;return T.FATE_ABI.includes(parseInt(e))?T.VM_TYPE.FATE:T.VM_TYPE.AEVM}function Q(t){return t.replace(".chain","").length<13}e.default={readPointers:U,buildPointers:L,buildContractId:j,readId:B,writeId:R,readInt:V,writeInt:F,encode:D,decode:M,commitmentHash:N,formatSalt:P,oracleQueryId:I,getContractBackendFromTx:W,createSalt:E,buildHash:_,isNameValid:Y,produceNameId:S,classify:q,isAuctionName:Q,validatePointers:H}}.call(this,n(24).Buffer)},function(t,e,n){var r=n(97),a=n(143),o=n(76),i=n(99);t.exports=function(t,e){return r(t)||a(t,e)||o(t,e)||i()}},function(t,n){t.exports=e},function(t,e,n){var r=n(144),a=n(100),o=n(76),i=n(145);t.exports=function(t){return r(t)||a(t)||o(t)||i()}},function(t,e,n){var r=n(80)(0);t.exports=r},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var r=n(21),a=n(67);t.exports=function(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return a(n)?e:r((function(e){return t(n,e)}));default:return a(n)&&a(o)?e:a(n)?r((function(e){return t(e,o)})):a(o)?r((function(e){return t(n,e)})):t(n,o)}}}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"calculateMinFee",(function(){return E})),n.d(e,"calculateFee",(function(){return j})),n.d(e,"validateParams",(function(){return _})),n.d(e,"buildRawTx",(function(){return I})),n.d(e,"unpackRawTx",(function(){return P})),n.d(e,"buildTx",(function(){return S})),n.d(e,"unpackTx",(function(){return N})),n.d(e,"buildTxHash",(function(){return M}));var r=n(12),a=n.n(r),o=n(10),i=n.n(o),c=n(1),s=n.n(c),u=n(8),f=n.n(u),p=n(4),l=n.n(p),d=n(25),h=n(5),m=n(3),v=n(7),b=n(17),g=n(88);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w="delta";function O(e,n,r){switch(n){case m.FIELD_TYPES.amount:case m.FIELD_TYPES.int:return Object(v.writeInt)(e);case m.FIELD_TYPES.id:return Object(v.writeId)(e);case m.FIELD_TYPES.ids:return e.map(v.writeId);case m.FIELD_TYPES.bool:return t.from([e?1:0]);case m.FIELD_TYPES.binary:return Object(v.decode)(e,r);case m.FIELD_TYPES.stateTree:return Object(v.decode)(e,"ss");case m.FIELD_TYPES.hex:return t.from(e,"hex");case m.FIELD_TYPES.signatures:return e.map(t.from);case m.FIELD_TYPES.payload:return"string"==typeof e&&"ba"===e.split("_")[0]?Object(v.decode)(e,"ba"):Object(b.toBytes)(e);case m.FIELD_TYPES.string:return Object(b.toBytes)(e);case m.FIELD_TYPES.pointers:return Object(v.buildPointers)(e);case m.FIELD_TYPES.mptree:return e.map(g.b);case m.FIELD_TYPES.ctVersion:return t.from([].concat(i()(Object(b.toBytes)(e.vmVersion)),[0],i()(Object(b.toBytes)(e.abiVersion))));case m.FIELD_TYPES.callReturnType:switch(e){case"ok":return Object(v.writeInt)(0);case"error":return Object(v.writeInt)(1);case"revert":return Object(v.writeInt)(2);default:return e}default:return e}}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.denomination;t=e.filter((function(t){var e=f()(t,2);e[0];return e[1]===m.FIELD_TYPES.amount})).reduce((function(e,n){var a=f()(n,1)[0];return x(x({},t),{},s()({},a,Object(d.formatAmount)(t[a],{denomination:r})))}),t);var a=e.map((function(t){return f()(t,1)[0]}));return Object.entries(t).reduce((function(t,e){var n=f()(e,2),r=n[0],o=n[1];return a.includes(r)&&(t[r]=o),["oracleTtl","queryTtl","responseTtl"].includes(r)&&(t["".concat(r,"Type")]=o.type===w?0:1,t["".concat(r,"Value")]=o.value),t}),{})}function k(t,e){var n,r=(n={},s()(n,m.TX_TYPE.oracleRegister,"oracleTtl"),s()(n,m.TX_TYPE.oracleExtend,"oracleTtl"),s()(n,m.TX_TYPE.oracleQuery,"queryTtl"),s()(n,m.TX_TYPE.oracleResponse,"responseTtl"),n)[e];return t[r]||t["".concat(r,"Value")]?t["".concat(r,"Value")]||t[r].value:1}function E(t,e){var n=e.gas,r=void 0===n?0:n,a=e.params,o=e.vsn,i=l()(1e9);if(!a)return l()(m.DEFAULT_FEE).times(i).toString(10);for(var c=A(t,{params:x(x({},a),{},{fee:0}),multiplier:i,gas:r,vsn:o}),s=l()(0);!c.eq(s);)s=c=A(t,{params:x(x({},a),{},{fee:c}),multiplier:i,gas:r,vsn:o});return s.toString(10)}function A(t,e){var n=e.params,r=(e.gas,e.multiplier),a=e.vsn,o=S(x({},n),t,{vsn:a}).rlpEncoded.length;return Object(m.TX_FEE_BASE_GAS)(t,{backend:Object(v.getContractBackendFromTx)(n)}).plus(Object(m.TX_FEE_OTHER_GAS)(t)({txSize:o,relativeTtl:k(n,t)})).times(r)}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.gas,a=void 0===r?0:r,o=n.params,i=n.showWarning,c=void 0===i||i,s=n.vsn;return!o&&c&&console.warn("Can't build transaction fee, we will use DEFAULT_FEE(".concat(m.DEFAULT_FEE,")")),t||E(e,{params:o,gas:a,vsn:s})}function _(t,e,n){var r=n.excludeKeys,o=void 0===r?[]:r;return e.filter((function(t){var e=f()(t,1)[0];return!o.includes(e)&&"payload"!==e})).reduce((function(e,n){var r=f()(n,3),o=r[0],i=r[1],c=r[2];return Object.assign(e,function(t,e,n,r){var o=function(t,r){return t?{}:s()({},e,m.VALIDATION_MESSAGE[n](r))};if(null==t)return s()({},e,"Field is required");switch(n){case m.FIELD_TYPES.amount:case m.FIELD_TYPES.int:var i=(!isNaN(t)||l.a.isBigNumber(t))&&l()(t).lt(0);return o((!isNaN(t)||l.a.isBigNumber(t))&&l()(t).gte(0),{value:t,isMinusValue:i});case m.FIELD_TYPES.id:return Array.isArray(r)?o(r.find((function(e){return e===t.split("_")[0]}))&&m.PREFIX_ID_TAG[t.split("_")[0]],{value:t,prefix:r}):o(Object(h.assertedType)(t,r)&&m.PREFIX_ID_TAG[t.split("_")[0]]&&t.split("_")[0]===r,{value:t,prefix:r});case m.FIELD_TYPES.binary:return o(t.split("_")[0]===r,{prefix:r,value:t});case m.FIELD_TYPES.string:return o(!0);case m.FIELD_TYPES.ctVersion:return o("object"===a()(t)&&Object.prototype.hasOwnProperty.call(t,"abiVersion")&&Object.prototype.hasOwnProperty.call(t,"vmVersion"));case m.FIELD_TYPES.pointers:return o(Array.isArray(t)&&!t.find((function(t){return t!==Object(t)})),{value:t});default:return{}}}(t[o],o,i,c))}),{})}function I(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,a=void 0===r?[]:r,o=n.denomination,i=void 0===o?d.AE_AMOUNT_FORMATS.AETTOS:o,c=e.filter((function(t){var e=f()(t,1)[0];return!a.includes(e)})),s=_(t=T(t,c,{denomination:i}),e,{excludeKeys:a});if(Object.keys(s).length)throw new Error("Transaction build error. "+JSON.stringify(s));return c.map((function(e){var n=f()(e,3),r=n[0],a=n[1],o=n[2];return O(t[r],a,o)}))}function P(e,n){return n.reduce((function(n,r,a){var o=f()(r,3),i=o[0],c=o[1],u=o[2];return Object.assign(n,s()({},i,function(e,n,r){if(!e)return"";switch(n){case m.FIELD_TYPES.ctVersion:var a=f()(e,3),o=a[0],i=a[2];return{vmVersion:Object(v.readInt)(t.from([o])),abiVersion:Object(v.readInt)(t.from([i]))};case m.FIELD_TYPES.amount:case m.FIELD_TYPES.int:return Object(v.readInt)(e);case m.FIELD_TYPES.id:return Object(v.readId)(e);case m.FIELD_TYPES.ids:return e.map(v.readId);case m.FIELD_TYPES.bool:return 1===e[0];case m.FIELD_TYPES.binary:return Object(v.encode)(e,r);case m.FIELD_TYPES.stateTree:return Object(v.encode)(e,"ss");case m.FIELD_TYPES.string:return e.toString();case m.FIELD_TYPES.payload:return Object(v.encode)(e,"ba");case m.FIELD_TYPES.pointers:return Object(v.readPointers)(e);case m.FIELD_TYPES.rlpBinary:return N(e,!0);case m.FIELD_TYPES.rlpBinaries:return e.map((function(t){return N(t,!0)}));case m.FIELD_TYPES.rawBinary:return e;case m.FIELD_TYPES.hex:return e.toString("hex");case m.FIELD_TYPES.offChainUpdates:return e.map((function(t){return N(t,!0)}));case m.FIELD_TYPES.callStack:return[Object(v.readInt)(e)];case m.FIELD_TYPES.mptree:return e.map(g.a);case m.FIELD_TYPES.callReturnType:switch(Object(v.readInt)(e)){case"0":return"ok";case"1":return"error";case"2":return"revert";default:return e}case m.FIELD_TYPES.sophiaCodeTypeInfo:return e.reduce((function(t,e){var n=f()(e,4),r=n[0],a=n[1],o=n[2],i=n[3];return x(x({},t),{},s()({},a.toString(),{funHash:r,argType:o,outType:i}))}),{});default:return e}}(e[a],c,u)))}),{})}var C=function(t){var e=t.vsn,n=t.objId,r=t.type,a=!!n,o=a?n:r,i=a?m.TX_DESERIALIZATION_SCHEMA:m.TX_SERIALIZATION_SCHEMA;if(!i[o])throw new Error("Transaction ".concat(a?"deserialization":"serialization"," not implemented for ").concat(a?"tag "+n:r));if(!i[o][e])throw new Error("Transaction ".concat(a?"deserialization":"serialization"," not implemented for ").concat(a?"tag "+n:r," version ").concat(e));return i[o][e]};function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,a=void 0===r?[]:r,o=n.prefix,i=void 0===o?"tx":o,c=n.vsn,s=void 0===c?m.VSN:c,u=n.denomination,p=void 0===u?d.AE_AMOUNT_FORMATS.AETTOS:u,l=C({type:e,vsn:s}),b=f()(l,2),g=b[0],y=b[1],w=I(x(x({},t),{},{VSN:s,tag:y}),g,{excludeKeys:a,denomination:t.denomination||p}).filter((function(t){return void 0!==t})),O=h.rlp.encode(w),T=Object(v.encode)(O,i);return{tx:T,rlpEncoded:O,binary:w,txObject:P(w,g)}}function N(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tx",r=e?t:Object(v.decode)(t,n),a=h.rlp.decode(r),o=Object(v.readInt)(a[0]),i=Object(v.readInt)(a[1]),c=C({objId:o,vsn:i}),s=f()(c,1),u=s[0];return{txType:m.OBJECT_ID_TX_TYPE[o],tx:P(a,u),rlpEncoded:r,binary:a}}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{raw:!1};return"string"==typeof t&&-1!==t.indexOf("tx_")?Object(v.buildHash)("th",N(t).rlpEncoded,e):Object(v.buildHash)("th",t,e)}e.default={calculateMinFee:E,calculateFee:j,unpackTx:N,unpackRawTx:P,buildTx:S,buildRawTx:I,validateParams:_,buildTxHash:M}}.call(this,n(24).Buffer)},function(t,e){t.exports=n},function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return l}));var r=n(118),a=n.n(r),o=n(86),i=n.n(o),c=n(5);function s(t){return t.replace(/_./g,(function(t){return i()(t[1])}))}function u(t){return t.replace(/[A-Z]/g,(function(t){return"_".concat(a()(t))}))}function f(t){return!("string"!=typeof t||t.length%2!=0||!t.match(/^[0-9a-f]+$/i))}function p(t){return"string"==typeof t&&(2===t.split("_")[0].length&&Object(c.isAddressValid)(t))}function l(t){if(t.length%4>0||t.match(/[^0-9a-z+/=]/i))return!1;var e=t.indexOf("=");return!(-1!==e&&!t.slice(e).match(/={1,2}/))}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"leftPad",(function(){return i})),n.d(e,"rightPad",(function(){return c})),n.d(e,"bigNumberToByteArray",(function(){return s})),n.d(e,"toBytes",(function(){return u})),n.d(e,"str2buf",(function(){return f}));var r=n(4),a=n.n(r),o=n(16);function i(e,n){var r=e-n.length;if(r>0){var a=new Uint8Array(r);return a.fill(0,r),t.concat([a,n])}return n}function c(e,n){var r=e-n.length;if(r>0){var a=new Uint8Array(r);return a.fill(0,r),t.concat([n,a])}return n}function s(e){if(!e.isInteger())throw new Error("Unexpected not integer value: ".concat(e.toFixed()));var n=e.toString(16);return n.length%2>0&&(n="0"+n),t.from(n,"hex")}function u(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return t.from([]);if(Number.isInteger(e)||a.a.isBigNumber(e)||n)return a.a.isBigNumber(e)||(e=a()(e)),s(e);if("string"==typeof e)return e.toString("utf-8");throw new Error("Byte serialization not supported")}function f(e,n){return e&&e.constructor===String?(!n&&Object(o.c)(e)&&(n="hex"),!n&&Object(o.b)(e)&&(n="base64"),t.from(e,n)):e}}.call(this,n(24).Buffer)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return w}));var r=n(10),a=n.n(r),o=n(1),i=n.n(o),c=n(12),s=n.n(c),u=n(15),f=n.n(u),p=n(5),l=n(14),d=n(3),h=n(7),m=n(16);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==s()(e))throw new Error('"params" should be an object');if("string"!=typeof t||!Object.values(d.TX_TYPE).includes(t))throw new Error("Unknown transaction type ".concat(t));var r=Object(l.calculateFee)(e.fee,t,{gas:e.gas,params:e,vsn:e.vsn}),a=Object(l.buildTx)(b(b({},e),{},{fee:r}),t,b({vsn:e.vsn},n)),o=a.rlpEncoded,i=a.binary,c=a.tx,u=a.txObject;return{rlpEncoded:o,binary:i,encodedTx:c,params:u,type:t}},y=function(e){if(!e)throw new Error("Invalid transaction: ".concat(e));if("string"==typeof e){if(!Object(p.assertedType)(e,"tx",!0))throw new Error("Invalid transaction string. Tx should be `tx` prefixed base58c string");var n=Object(l.unpackTx)(e);return{encodedTx:e,type:n.txType,params:n.tx,rlpEncoded:n.rlpEncoded,binary:n.binary}}if(t.isBuffer(e)){var r=Object(l.unpackTx)(e,!0),a=r.txType,o=r.tx,i=r.rlpEncoded,c=r.binary;return{encodedTx:Object(h.encode)(e,"tx"),type:a,params:o,rlpEncoded:i,binary:c}}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tx,n=t.params,r=t.type,a=t.options,o=void 0===a?{}:a;if(n&&r)return g(r,n,o);if(e)return y(e);throw new Error('Invalid TxObject arguments. Please provide one of { tx: "tx_asdasd23..." } or { type: "spendTx", params: {...} }')},w=f()({init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tx,n=t.params,r=t.type,a=t.options,o=void 0===a?{}:a;if(this.options=o,this.signatures=[],Object.assign(this,x({tx:e,params:n,type:r,options:o})),this.type===d.TX_TYPE.signed){var i=this.params,c=i.signatures,s=i.encodedTx,u=s.txType,f=s.tx;this.signatures=c,this.params=f,this.type=u,this.isSigned=!0}},statics:{fromString:function(t){return w({tx:t})},fromRlp:function(t){return w({tx:t})}},methods:{setProp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==s()(t))throw new Error("Props should be an object");return this.isSigned=!1,this.signatures=[],Object.assign(this,g(this.type,b(b(b({},this.params),t),{},{fee:null}),b(b({},this.options),e))),this},getSignatures:function(){if(!this.isSigned)throw new Error("Signature not found, transaction is not signed");return this.signatures},addSignature:function(e){if(e=Object(m.c)(e)?t.from(e,"hex"):e,!(t.isBuffer(e)||e instanceof Uint8Array))throw new Error("Invalid signature, signature must be of type Buffer or Uint8Array");Object.assign(this,g(d.TX_TYPE.signed,{encodedTx:this.rlpEncoded,signatures:[[].concat(a()(this.signatures),[e])]}));var n=this.params,r=n.signatures,o=n.encodedTx,i=o.txType,c=o.tx;this.signatures=r,this.params=c,this.type=i,this.isSigned=!0},calculateMinFee:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=b(b({},this.params),t);return Object(l.calculateFee)(0,this.type,{gas:e.gas,params:e,vsn:e.vsn})}}});e.b=w}).call(this,n(24).Buffer)},function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(6),s=n.n(c),u=n(2),f=n.n(u),p=n(15),l=n.n(p),d=n(40),h=n(53),m=n(30),v=n(14),b=n(4),g=n.n(b),y=n(25);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(){return(O=f()(a.a.mark((function t(e){var n,r,o,i,c,u,f=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=s()(this.Ae.defaults,n),t.t0=this,t.next=5,this.address(r);case 5:return t.t1=t.sent,t.next=8,t.t0.getAccount.call(t.t0,t.t1);case 8:if(o=t.sent,i=o.contractId,c=o.authFun,!i){t.next=17;break}return t.next=14,this.signUsingGA(e,w(w({},r),{},{authFun:c}));case 14:t.t2=t.sent,t.next=20;break;case 17:return t.next=19,this.signTransaction(e,r);case 19:t.t2=t.sent;case 20:return u=t.t2,t.abrupt("return",this.sendTransaction(u,r));case 22:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function T(){return(T=f()(a.a.mark((function t(e){var n,r,o,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=n.authData,o=n.authFun,t.abrupt("return",this.createMetaTx(e,r,o,n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function k(){return(k=f()(a.a.mark((function t(e,n,r){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=w(w({},this.Ae.defaults),r),t.t0=this,t.t1=this,t.t2=w,t.t3=w({},o),t.t4={},t.next=8,this.address(o);case 8:return t.t5=t.sent,t.next=11,this.resolveName(n,"ak",o);case 11:return t.t6=t.sent,t.t7=e,t.t8={senderId:t.t5,recipientId:t.t6,amount:t.t7},t.t9=(0,t.t2)(t.t3,t.t4,t.t8),t.next=17,t.t1.spendTx.call(t.t1,t.t9);case 17:return t.t10=t.sent,t.t11=o,t.abrupt("return",t.t0.send.call(t.t0,t.t10,t.t11));case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function E(){return(E=f()(a.a.mark((function t(e,n,r){var o,i,c,s,u,f,p,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e<0||e>1)){t.next=2;break}throw new Error("Fraction should be a number between 0 and 1, got ".concat(e));case 2:return o=w(w({},this.Ae.defaults),r),t.next=5,this.resolveName(n,"ak",o);case 5:return i=t.sent,t.next=8,this.address(o);case 8:return c=t.sent,t.t0=g.a,t.next=12,this.balance(c);case 12:return t.t1=t.sent,s=new t.t0(t.t1),u=s.times(e).integerValue(g.a.ROUND_HALF_UP),t.t2=v.default,t.next=18,this.spendTx(w(w({},o),{},{senderId:c,recipientId:i,amount:u}));case 18:return t.t3=t.sent,f=t.t2.unpackTx.call(t.t2,t.t3),p=f.tx.fee,l=u.plus(p).gt(s)?s.minus(p):u,t.t4=this,t.next=25,this.spendTx(w(w({},o),{},{senderId:c,recipientId:i,amount:l}));case 25:return t.t5=t.sent,t.t6=o,t.abrupt("return",t.t4.send.call(t.t4,t.t5,t.t6));case 28:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var A=l()(d.a,m.a,h.a,{methods:{send:function(t){return O.apply(this,arguments)},spend:function(t,e,n){return k.apply(this,arguments)},transferFunds:function(t,e,n){return E.apply(this,arguments)},destroyInstance:function(){var t=this;["destroyClient","destroyServer"].forEach((function(e){return t[e]&&"function"==typeof t[e]&&t[e]()}))},signUsingGA:function(t){return T.apply(this,arguments)}},deepProps:{Ae:{defaults:{denomination:y.AE_AMOUNT_FORMATS.AETTOS}}},deepConfiguration:{Ae:{methods:["signUsingGA"]}}});e.a=A},function(t,e){t.exports=r},function(t,e,n){var r=n(67);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e){t.exports=a},function(t,e,n){"use strict";var r=n(27),a=n.n(r),o=n(73),i=n.n(o),c=n(124),s=n.n(c),u=n(123),f=n.n(u),p=n(122),l=n.n(p),d=n(0),h=n.n(d),m=n(2),v=n.n(m),b=n(15);function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.stamp,r=e.args,a=e.instance;return n.compose.deepConfiguration.AsyncInit.initializers.reduce(function(){var e=v()(h.a.mark((function e(a,o){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(a);case 2:if(a=e.sent,"function"!=typeof o){e.next=8;break}return e.next=6,Promise.resolve(o.call(a,t,{stamp:n,args:r,instance:a}));case 6:return i=e.sent,e.abrupt("return",void 0===i?a:i);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a)}var y=n.n(b)()({deepConf:{AsyncInit:{initializers:[]}},composers:function(t){var e=t.stamp,n=t.composables;e.compose.deepConfiguration.AsyncInit.initializers=l()([g],f()(s.a,i()(n.map((function(t){return a()(["compose","deepConfiguration","AsyncInit","initializers"],t)||(t.compose||t).initializers||[]}))))),e.compose.initializers=[g]}});e.a=y},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(139),a=n(140),o=n(141);function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=l(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),a=(t=c(t,r)).write(e,n);a!==r&&(t=t.slice(0,a));return t}(t,e,n):function(t,e){if(s.isBuffer(e)){var n=0|d(e.length);return 0===(t=c(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?c(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(f(e),t=c(t,e<0?0:0|d(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|d(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function h(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return L(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return j(this,e,n);case"latin1":case"binary":return _(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,a){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,a);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,a);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,a){var o,i=1,c=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;i=2,c/=2,s/=2,n/=2}function u(t,e){return 1===i?t[e]:t.readUInt16BE(e*i)}if(a){var f=-1;for(o=n;o<c;o++)if(u(t,o)===u(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*i}else-1!==f&&(o-=o-f),f=-1}else for(n+s>c&&(n=c-s),o=n;o>=0;o--){for(var p=!0,l=0;l<s;l++)if(u(t,o+l)!==u(e,l)){p=!1;break}if(p)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var a=t.length-n;r?(r=Number(r))>a&&(r=a):r=a;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var i=0;i<r;++i){var c=parseInt(e.substr(2*i,2),16);if(isNaN(c))return i;t[n+i]=c}return i}function x(t,e,n,r){return Y(L(e,t.length-n),t,n,r)}function w(t,e,n,r){return Y(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function O(t,e,n,r){return w(t,e,n,r)}function T(t,e,n,r){return Y(U(e),t,n,r)}function k(t,e,n,r){return Y(function(t,e){for(var n,r,a,o=[],i=0;i<t.length&&!((e-=2)<0);++i)n=t.charCodeAt(i),r=n>>8,a=n%256,o.push(a),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],a=e;a<n;){var o,i,c,s,u=t[a],f=null,p=u>239?4:u>223?3:u>191?2:1;if(a+p<=n)switch(p){case 1:u<128&&(f=u);break;case 2:128==(192&(o=t[a+1]))&&(s=(31&u)<<6|63&o)>127&&(f=s);break;case 3:o=t[a+1],i=t[a+2],128==(192&o)&&128==(192&i)&&(s=(15&u)<<12|(63&o)<<6|63&i)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=t[a+1],i=t[a+2],c=t[a+3],128==(192&o)&&128==(192&i)&&128==(192&c)&&(s=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&c)>65535&&s<1114112&&(f=s)}null===f?(f=65533,p=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),a+=p}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return u(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?c(t,e):void 0!==n?"string"==typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}(null,t,e,n)},s.allocUnsafe=function(t){return p(null,t)},s.allocUnsafeSlow=function(t){return p(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,a=0,o=Math.min(n,r);a<o;++a)if(t[a]!==e[a]){n=t[a],r=e[a];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var i=t[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,a),a+=i.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):m.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,a){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),e<0||n>t.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&e>=n)return 0;if(r>=a)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(a>>>=0)-(r>>>=0),i=(n>>>=0)-(e>>>=0),c=Math.min(o,i),u=this.slice(r,a),f=t.slice(e,n),p=0;p<c;++p)if(u[p]!==f[p]){o=u[p],i=f[p];break}return o<i?-1:i<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(127&t[a]);return r}function _(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(t[a]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var a="",o=e;o<n;++o)a+=V(t[o]);return a}function P(t,e,n){for(var r=t.slice(e,n),a="",o=0;o<r.length;o+=2)a+=String.fromCharCode(r[o]+256*r[o+1]);return a}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,n,r,a,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var a=0,o=Math.min(t.length-n,2);a<o;++a)t[n+a]=(e&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var a=0,o=Math.min(t.length-n,4);a<o;++a)t[n+a]=e>>>8*(r?a:3-a)&255}function D(t,e,n,r,a,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,o){return o||D(t,0,n,4),a.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||D(t,0,n,8),a.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var a=e-t;n=new s(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],a=1,o=0;++o<e&&(a*=256);)r+=this[t+o]*a;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t+--e],a=1;e>0&&(a*=256);)r+=this[t+--e]*a;return r},s.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],a=1,o=0;++o<e&&(a*=256);)r+=this[t+o]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=e,a=1,o=this[t+--r];r>0&&(a*=256);)o+=this[t+--r]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),a.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),a.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),a.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),a.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||S(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,o=0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=t/a&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||S(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,o=1;for(this[e+a]=255&t;--a>=0&&(o*=256);)this[e+a]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);S(this,t,e,n,a-1,-a)}var o=0,i=1,c=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===c&&0!==this[e+o-1]&&(c=1),this[e+o]=(t/i>>0)-c&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);S(this,t,e,n,a-1,-a)}var o=n-1,i=1,c=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===c&&0!==this[e+o+1]&&(c=1),this[e+o]=(t/i>>0)-c&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var a,o=r-n;if(this===t&&n<e&&e<r)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var i=s.isBuffer(t)?t:L(new s(t,r).toString()),c=i.length;for(o=0;o<n-e;++o)this[o+e]=i[o%c]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var n;e=e||1/0;for(var r=t.length,a=null,o=[],i=0;i<r;++i){if((n=t.charCodeAt(i))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(e-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}}).call(this,n(138))},function(t,e,n){"use strict";n.r(e),n.d(e,"AE_AMOUNT_FORMATS",(function(){return u})),n.d(e,"DENOMINATION_MAGNITUDE",(function(){return f})),n.d(e,"toAe",(function(){return p})),n.d(e,"toAettos",(function(){return l})),n.d(e,"formatAmount",(function(){return d}));var r,a=n(1),o=n.n(a),i=n(47),c=n(4),s=n.n(c),u={AE:"ae",MILI_AE:"miliAE",MICRO_AE:"microAE",NANO_AE:"nanoAE",PICO_AE:"picoAE",FEMTO_AE:"femtoAE",AETTOS:"aettos"},f=(r={},o()(r,u.AE,0),o()(r,u.MILI_AE,-3),o()(r,u.MICRO_AE,-6),o()(r,u.NANO_AE,-9),o()(r,u.PICO_AE,-12),o()(r,u.FEMTO_AE,-15),o()(r,u.AETTOS,-18),r),p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.denomination,r=void 0===n?u.AETTOS:n;return d(t,{denomination:r,targetDenomination:u.AE})},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.denomination,r=void 0===n?u.AE:n;return d(t,{denomination:r})},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.denomination,r=void 0===n?u.AETTOS:n,a=e.targetDenomination,o=void 0===a?u.AETTOS:a;if(!Object.values(u).includes(r))throw new Error("Invalid denomination. Current: ".concat(r,", available [").concat(Object.keys(u),"]"));if(!Object.values(u).includes(o))throw new Error("Invalid target denomination. Current: ".concat(o,", available [").concat(Object.keys(u),"]"));if(!Object(i.c)(t))throw new Error("Value ".concat(t," is not type of number"));return Object(i.a)(t).shiftedBy(f[r]-f[o]).toFixed()},h=[{name:"exa",magnitude:18},{name:"giga",magnitude:9},{name:"",magnitude:0},{name:"pico",magnitude:-12}],m=function(t){return h.reduce((function(e,n){return Math.abs(n.magnitude-t)<Math.abs(e.magnitude-t)?n:e}))},v=function(t){return h.find((function(e){return e.magnitude<=t}))||h[h.length-1]};e.default=function(t){s.a.isBigNumber(t)||(t=s()(t));var e=(t.e<0?m:v)(t.e),n=e.name,r=e.magnitude,a=t.shiftedBy(-r).precision(9+Math.min(t.e-r,0)).toFixed();return"".concat(a).concat(n?" ":"").concat(n)}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return X})),n.d(e,"b",(function(){return G}));var r=n(10),a=n.n(r),o=n(8),i=n.n(o),c=n(6),s=n.n(c),u=n(1),f=n.n(u),p=n(0),l=n.n(p),d=n(2),h=n.n(d),m=n(19),v=n(16),b=n(55),g=n(59),y=n(71),x=n(4),w=n.n(x),O=n(41),T=n(3),k=n(7),E=n(18);function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){f()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e){return I.apply(this,arguments)}function I(){return(I=h()(l.a.mark((function t(e,n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send(e,n);case 2:if(r=t.sent,!1!==n.waitMined){t.next=5;break}return t.abrupt("return",{hash:r.hash,rawTx:r.rawTx});case 5:return t.next=7,this.getTxInfo(r.hash);case 7:if("ok"===(a=t.sent).returnType){t.next=11;break}return t.next=11,this.handleCallError({result:a,tx:Object(E.b)({tx:r.rawTx}),rawTx:r.rawTx});case 11:return t.abrupt("return",{hash:r.hash,tx:Object(E.b)({tx:r.rawTx}),result:a,txData:r,rawTx:r.rawTx});case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function P(){return(P=h()(l.a.mark((function e(n){var r,a,o,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.result,a=n.tx,o=n.rawTx,i=t.from(r.returnValue).toString(),!Object(v.b)(i.slice(3))){e.next=6;break}e.t0=t.from(i.slice(3),"base64").toString(),e.next=9;break;case 6:return e.next=8,this.contractDecodeDataAPI("string",i);case 8:e.t0=e.sent;case 9:throw c=e.t0,Object.assign(new Error("Invocation failed: ".concat(i,". Decoded: ").concat(c)),j(j({},r),{},{tx:a,error:i,rawTx:o,decodedError:c}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function C(){return(C=h()(l.a.mark((function t(e,n,r,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractEncodeCallDataAPI(e,n,r,a));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function S(){return(S=h()(l.a.mark((function t(e,n,r,a,o){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractDecodeCallResultAPI(e,n,r,a,o));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function N(){return(N=h()(l.a.mark((function t(e,n,r){var a,o,i,c,u,f,p,d,h,m,v,b,g,y=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=y.length>3&&void 0!==y[3]?y[3]:[],o=y.length>4&&void 0!==y[4]?y[4]:{},i=o.top,c=o.options,u=void 0===c?{}:c,f=o.bytecode,!(p=s()(this.Ae.defaults,u)).onAccount){t.next=9;break}return t.next=6,this.address(p);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,this.address().catch((function(t){return p.dryRunAccount.pub}));case 11:t.t0=t.sent;case 12:if(d=t.t0,!Array.isArray(a)){t.next=19;break}return t.next=16,this.contractEncodeCall(e,r,a,p);case 16:t.t1=t.sent,t.next=20;break;case 19:t.t1=a;case 20:if(h=t.t1,!i||isNaN(i)){t.next=25;break}return t.next=24,this.getKeyBlock(i);case 24:i=t.sent.hash;case 25:if(!i){t.next=32;break}return t.next=28,this.getAccount(d,{hash:i});case 28:t.t3=t.sent.nonce,t.t2=t.t3+1,t.next=33;break;case 32:t.t2=void 0;case 33:if(m=t.t2,"init"!==r){t.next=42;break}return t.next=37,this.contractCreateTx(s()(p,{callData:h,code:f,ownerId:d,nonce:m}));case 37:return v=t.sent,b=v.tx,t.abrupt("return",this.dryRunContractTx(b,d,e,r,j(j({},p),{},{top:i})));case 42:return t.t4=this,t.t5=s.a,t.t6=p,t.t7=d,t.next=48,this.resolveName(n,"ct",{resolveByNode:!0});case 48:return t.t8=t.sent,t.t9=h,t.t10=m,t.t11={callerId:t.t7,contractId:t.t8,callData:t.t9,nonce:t.t10},t.t12=(0,t.t5)(t.t6,t.t11),t.next=55,t.t4.contractCallTx.call(t.t4,t.t12);case 55:return g=t.sent,t.abrupt("return",this.dryRunContractTx(g,d,e,r,j(j({},p),{},{top:i})));case 57:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function M(){return(M=h()(l.a.mark((function t(e,n,r,a){var o,c,s,u,f,p,d,h,m,v,b,g=this,y=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=y.length>4&&void 0!==y[4]?y[4]:{},c=o.top,s=w()(o.dryRunAccount.amount).gt(w()(o.amount||0))?o.dryRunAccount.amount:o.amount,u={amount:s,pubKey:n},t.t0=i.a,t.next=7,this.txDryRun([e],[u],c);case 7:if(t.t1=t.sent.results,f=(0,t.t0)(t.t1,1),p=f[0],d=p.result,h=p.callObj,m=p.reason,"ok"===d){t.next=15;break}throw Object.assign(new Error("Dry run error, "+m),{tx:Object(E.b)({tx:e}),dryRunParams:{accounts:[u],top:c}});case 15:if(v=h.returnType,b=h.returnValue,"ok"===v){t.next=19;break}return t.next=19,this.handleCallError({result:h,tx:Object(E.b)({tx:e})});case 19:return t.abrupt("return",{tx:Object(E.b)({tx:e}),result:h,decode:function(){return g.contractDecodeData(r,a,b,v,o)}});case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function D(){return(D=h()(l.a.mark((function t(e,n,r){var a,o,i,c,u,f,p,d,h,m=this,v=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:[],o=v.length>4&&void 0!==v[4]?v[4]:{},i=s()(this.Ae.defaults,o),t.t0=this,t.t1=s.a,t.t2=i,t.next=8,this.address(i);case 8:return t.t3=t.sent,t.next=11,this.resolveName(n,"ct",{resolveByNode:!0});case 11:if(t.t4=t.sent,!Array.isArray(a)){t.next=18;break}return t.next=15,this.contractEncodeCall(e,r,a,i);case 15:t.t5=t.sent,t.next=19;break;case 18:t.t5=a;case 19:return t.t6=t.t5,t.t7={callerId:t.t3,contractId:t.t4,callData:t.t6},t.t8=(0,t.t1)(t.t2,t.t7),t.next=24,t.t0.contractCallTx.call(t.t0,t.t8);case 24:return c=t.sent,t.next=27,_.call(this,c,i);case 27:return u=t.sent,f=u.hash,p=u.rawTx,d=u.result,h=u.txData,t.abrupt("return",{hash:f,rawTx:p,result:d,txData:h,decode:function(){return d?m.contractDecodeData(e,r,d.returnValue,d.returnType,i):{}}});case 33:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function R(){return(R=h()(l.a.mark((function t(e,n){var r,a,o,i,c,u,f,p,d,m,v,b,g,y=this,x=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=x.length>2&&void 0!==x[2]?x[2]:[],a=x.length>3&&void 0!==x[3]?x[3]:{},o=s()(this.Ae.defaults,a),!Array.isArray(r)){t.next=9;break}return t.next=6,this.contractEncodeCall(n,"init",r,o);case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=r;case 10:return i=t.t0,t.next=13,this.address(o);case 13:return c=t.sent,t.next=16,this.contractCreateTx(s()(o,{callData:i,code:e,ownerId:c}));case 16:return u=t.sent,f=u.tx,p=u.contractId,t.next=21,_.call(this,f,o);case 21:return d=t.sent,m=d.hash,v=d.rawTx,b=d.result,g=d.txData,t.abrupt("return",Object.freeze({result:b,owner:c,transaction:m,rawTx:v,txData:g,address:p,call:function(){var t=h()(l.a.mark((function t(e){var r,a,i=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2&&void 0!==i[2]?i[2]:{},t.abrupt("return",y.contractCall(n,p,e,r,s()(o,a)));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),callStatic:function(){var t=h()(l.a.mark((function t(e){var r,a,i=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2&&void 0!==i[2]?i[2]:{},t.abrupt("return",y.contractCallStatic(n,p,e,r,j(j({},a),{},{options:j({onAccount:o.onAccount},s()(o,a.options))})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createdAt:new Date}));case 27:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function B(){return(B=h()(l.a.mark((function t(e){var n,r,a,o=this,i=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=s()(this.Ae.defaults,n),t.next=4,this.compileContractAPI(e,n);case 4:return a=t.sent,t.abrupt("return",Object.freeze(Object.assign({encodeCall:function(){var t=h()(l.a.mark((function t(a,i){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.contractEncodeCall(e,a,i,s()(r,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deploy:function(){var t=h()(l.a.mark((function t(n){var i,c=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:{},t.abrupt("return",o.contractDeploy(a,e,n,s()(r,i)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deployStatic:function(){var t=h()(l.a.mark((function t(n){var i,c=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:{},t.abrupt("return",o.contractCallStatic(e,null,"init",n,{bytecode:a,top:i.top,options:s()(r,i)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{bytecode:a})));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function F(){return(F=h()(l.a.mark((function e(){var n,r,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:[],r=o.length>1&&void 0!==o[1]?o[1]:{},e.t0=this,e.t1=t,e.t2=t.from(this.getNetworkId(r)),e.t3=k.decode,e.next=8,this.address(r);case 8:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t6=[e.t2,e.t5].concat(a()(n.map((function(t){return Object(k.decode)(t)})))),e.t7=e.t1.concat.call(e.t1,e.t6),e.t8=r,e.abrupt("return",e.t0.sign.call(e.t0,e.t7,e.t8).then((function(e){return t.from(e).toString("hex")})));case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function V(){return(V=h()(l.a.mark((function t(e){var n,r=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function L(){return(L=h()(l.a.mark((function t(e,n){var r,a=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([Object(k.produceNameId)(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function U(){return(U=h()(l.a.mark((function t(e,n){var r,a=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([Object(k.produceNameId)(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Y(){return(Y=h()(l.a.mark((function t(e,n){var r,a=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([Object(k.produceNameId)(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function q(){return(q=h()(l.a.mark((function t(e){var n,r=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function H(){return(H=h()(l.a.mark((function t(e){var n,r=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function K(){return(K=h()(l.a.mark((function t(e,n){var r,a=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([e,n],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var X=m.a.compose(g.a,y.a,{methods:{contractCompile:function(t){return B.apply(this,arguments)},contractCallStatic:function(t,e,n){return N.apply(this,arguments)},contractDeploy:function(t,e){return R.apply(this,arguments)},contractCall:function(t,e,n){return D.apply(this,arguments)},contractEncodeCall:function(t,e,n,r){return C.apply(this,arguments)},contractDecodeData:function(t,e,n,r,a){return S.apply(this,arguments)},dryRunContractTx:function(t,e,n,r){return M.apply(this,arguments)},handleCallError:function(t){return P.apply(this,arguments)},delegateSignatureCommon:function(){return F.apply(this,arguments)},delegateNamePreclaimSignature:function(t){return V.apply(this,arguments)},delegateNameClaimSignature:function(t,e){return L.apply(this,arguments)},delegateNameTransferSignature:function(t,e){return U.apply(this,arguments)},delegateNameRevokeSignature:function(t,e){return Y.apply(this,arguments)},delegateOracleRegisterSignature:function(t){return q.apply(this,arguments)},delegateOracleExtendSignature:function(t){return H.apply(this,arguments)},delegateOracleRespondSignature:function(t,e){return K.apply(this,arguments)}},deepProps:{Ae:{defaults:{deposit:T.DEPOSIT,gasPrice:T.MIN_GAS_PRICE,amount:T.AMOUNT,gas:T.GAS,options:"",dryRunAccount:T.DRY_RUN_ACCOUNT}}}}),G=X.compose(O.b).compose(b.b);e.c=G}).call(this,n(24).Buffer)},function(t,e,n){var r=n(13),a=n(166),o=r((function(t,e){return a([t],e)[0]}));t.exports=o},function(t,e,n){"use strict";n.r(e),n.d(e,"getFunctionACI",(function(){return y})),n.d(e,"buildContractMethods",(function(){return x})),n.d(e,"parseArguments",(function(){return w})),n.d(e,"unpackByteCode",(function(){return O})),n.d(e,"prepareArgsForEncode",(function(){return T})),n.d(e,"decodeEvents",(function(){return k})),n.d(e,"decodeCallResult",(function(){return E}));var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(32),s=n.n(c),u=n(49),f=n.n(u),p=n(10),l=n.n(p),d=n(1),h=n.n(d),m=n(14),v=n(48);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){var r=n.external;if(!t)throw new Error("ACI required");var a=t.functions.find((function(t){return t.name===e}));if(!a&&"init"!==e)throw new Error("Function ".concat(e," doesn't exist in contract"));return g(g({},a),{},{bindings:[{state:t.state,type_defs:t.type_defs,name:t.name}].concat(l()(r.map(f()(["state","type_defs","name"])))),event:t.event?t.event.variant:[]})}var x=function(t){return function(){return g(g({},t.aci?t.aci.functions.reduce((function(e,n){var r=n.name,a=n.arguments,o=n.stateful;return g(g({},e),{},h()({},r,Object.assign((function(){var e=w(a)(arguments),n=e.opt,i=e.args;return"init"===r?t.deploy(i,n):t.call(r,i,g({callStatic:!o},n))}),{get:function(){var e=w(a)(arguments),n=e.opt,o=e.args;return t.call(r,o,g(g({},n),{},{callStatic:!0}))},send:function(){var e=w(a)(arguments),n=e.opt,o=e.args;return"init"===r?t.deploy(o,n):t.call(r,o,g(g({},n),{},{callStatic:!1}))},decodeEvents:function(e){return t.decodeEvents(r,e)}})))}),{}):{}),t.aci?{init:Object.assign((function(){var e=y(t.aci,"init",{external:t.externalAci}),n=e.arguments,r=w(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,a)}),{get:function(){var e=y(t.aci,"init",{external:t.externalAci}),n=e.arguments,r=w(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,g(g({},a),{},{callStatic:!0}))},send:function(){var e=y(t.aci,"init",{external:t.externalAci}),n=e.arguments,r=w(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,g(g({},a),{},{callStatic:!1}))}})}:{})}},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(e){return{opt:e.length>t.length?s()(e):{},args:Object.values(e).slice(0,t.length)}}},O=function(t){return Object(m.unpackTx)(t,!1,"cb").tx},T=function(){var t=i()(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.arguments){t.next=2;break}return t.abrupt("return",n);case 2:if(!(e.arguments.length>n.length)){t.next=4;break}throw new Error('Function "'.concat(e.name,'" require ').concat(e.arguments.length," arguments of types [").concat(e.arguments.map((function(t){return JSON.stringify(t.type)})),"] but get [").concat(n.map(JSON.stringify),"]"));case 4:return Object(v.validateArguments)(e,n),r=e.bindings,t.abrupt("return",Promise.all(e.arguments.map(function(){var t=i()(a.a.mark((function t(e,o){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.type,t.abrupt("return",Object(v.transform)(i,n[o],{bindings:r}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),k=function(t,e){if(!e||!e.event||!e.event.length)return[];var n=e.event.map((function(t){var e=Object.keys(t)[0];return{name:e,types:t[e]}}));return Object(v.decodeEvents)(t,{schema:n})},E=function(){var t=i()(a.a.mark((function t(e,n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=v.transformDecodedData,t.t1=n.returns,t.next=4,e.decode();case 4:return t.t2=t.sent,t.t3=g(g({},r),{},{bindings:n.bindings}),t.next=8,(0,t.t0)(t.t1,t.t2,t.t3);case 8:return t.t4=t.sent,t.t5=k(e.result.log,n),t.abrupt("return",{decodedResult:t.t4,decodedEvents:t.t5});case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},function(t,e,n){var r=n(21),a=n(35),o=n(153),i=!{toString:null}.propertyIsEnumerable("toString"),c=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},f="function"!=typeof Object.keys||s?r((function(t){if(Object(t)!==t)return[];var e,n,r=[],f=s&&o(t);for(e in t)!a(e,t)||f&&"length"===e||(r[r.length]=e);if(i)for(n=c.length-1;n>=0;)a(e=c[n],t)&&!u(r,e)&&(r[r.length]=e),n-=1;return r})):r((function(t){return Object(t)!==t?[]:Object.keys(t)}));t.exports=f},function(t,e,n){"use strict";(function(t){var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(15),s=n.n(c),u=n(9),f=n(5),p=n(14),l=n(7),d=n(3),h=n(54);function m(){return(m=i()(a.a.mark((function e(n){var r,o,i,c,s,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{signHash:!0},o=this.getNetworkId(r),i=Object(f.decodeBase64Check)(Object(f.assertedType)(n,"tx")),c=t.concat([t.from(o),r.signHash?Object(p.buildTxHash)(i,{raw:!0}):i]),e.next=6,this.sign(c,r);case 6:return e.t0=e.sent,s=[e.t0],e.abrupt("return",Object(p.buildTx)({encodedTx:i,signatures:s},d.TX_TYPE.signed).tx);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function v(){return(v=i()(a.a.mark((function e(n){var r,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{returnHex:!1},e.next=3,this.sign(Object(f.hash)(Object(f.personalMessageToBinary)(n)),r);case 3:return o=e.sent,e.abrupt("return",r.returnHex?t.from(o).toString("hex"):o);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function b(){return(b=i()(a.a.mark((function e(n,r){var o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>2&&void 0!==i[2]?i[2]:{},e.t0=f.verifyPersonalMessage,e.t1=n,e.t2="string"==typeof r?t.from(r,"hex"):r,e.t3=l.decode,e.next=7,this.address(o);case 7:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t5));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var g=s()({init:function(t){var e=t.networkId;!this.networkId&&e&&(this.networkId=e)},methods:{signTransaction:function(t){return m.apply(this,arguments)},getNetworkId:h.b,signMessage:function(t){return v.apply(this,arguments)},verifyMessage:function(t,e){return b.apply(this,arguments)}},deepConf:{Ae:{methods:["sign","address","signTransaction","getNetworkId","signMessage","verifyMessage"]}}},Object(u.required)({methods:{sign:u.required,address:u.required}}));e.a=g}).call(this,n(24).Buffer)},function(t,e,n){var r=n(21)((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e}));t.exports=r},function(t,e,n){var r=n(80)(-1);t.exports=r},function(t,e,n){var r=n(70),a=n(13)(r);t.exports=a},function(t,e){t.exports=o},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e){t.exports=i},function(t,e,n){var r=n(21)((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));t.exports=r},function(t,e,n){"use strict";(function(t){var r=n(0),a=n.n(r),o=n(31),i=n.n(o),c=n(2),s=n.n(c),u=n(15),f=n.n(u),p=n(23),l=n(52),d=n(39),h=n(5);function m(){return(m=s()(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=this.accounts[e])){t.next=3;break}throw Error("Account for ".concat(e," not available"));case 3:return t.abrupt("return",r.sign(n));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function v(){return(v=s()(a.a.mark((function t(e){var n,r,o,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=n.select,t.next=3,e.address();case 3:o=t.sent,this.accounts[o]=e,r&&this.selectAccount(o);case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var b=f()(p.a,{init:function(e){var n=this;return s()(a.a.mark((function r(){var o,c,u;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.accounts,c=void 0===o?[]:o,r.t0=i.a,r.next=4,Promise.all(c.map(function(){var t=s()(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.address();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",[t.t0,t.t1]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:if(r.t1=r.sent,n.accounts=(0,r.t0)(r.t1),!(u=Object(h.envKeypair)(t.env,!0))){r.next=10;break}return r.next=10,n.addAccount(Object(l.a)({keypair:u}),{select:!n.Selector.address});case 10:case"end":return r.stop()}}),r)})))()},props:{accounts:{}},methods:{signWith:function(t,e){return m.apply(this,arguments)},addAccount:function(t){return v.apply(this,arguments)},removeAccount:function(t){this.accounts[t]&&delete this.accounts[t],this.Selector.address===t&&(this.Selector.address=void 0)},addresses:function(){return Object.keys(this.accounts)}}},d.a);e.a=b}).call(this,n(181))},function(t,e,n){"use strict";n.d(e,"b",(function(){return h}));var r=n(12),a=n.n(r),o=n(0),i=n.n(o),c=n(2),s=n.n(c),u=n(30),f=n(9),p=n.n(f),l=n(5),d=n(52),h=function(t){return!["sign","address"].find((function(e){return"function"!=typeof t[e]}))};function m(){return(m=s()(i.a.mark((function t(e){var n,r,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},r=n.onAccount){t.next=3;break}return t.abrupt("return",this.signWith(this.Selector.address,e));case 3:return t.abrupt("return",this.resolveOnAccount(r,"sign",e));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function v(){return(v=s()(i.a.mark((function t(e){var n,r,o,c=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:"address",r=c.length>2?c[2]:void 0,t.t0=a()(e),t.next="string"===t.t0?5:"object"===t.t0?14:27;break;case 5:if(Object(l.assertedType)(e,"ak",!0)){t.next=7;break}throw new Error('Invalid account address, check "onAccount" value');case 7:if(this.accounts[e]){t.next=9;break}throw Error("Account for ".concat(e," not available"));case 9:if("sign"!==n){t.next=11;break}return t.abrupt("return",this.signWith(e,r));case 11:if("address"!==n){t.next=13;break}return t.abrupt("return",e);case 13:return t.abrupt("break",28);case 14:if(t.prev=14,o=h(e)?e:Object(d.a)({keypair:e}),"sign"!==n){t.next=18;break}return t.abrupt("return",o.sign(r));case 18:if("address"!==n){t.next=20;break}return t.abrupt("return",o.address());case 20:return t.abrupt("break",28);case 23:throw t.prev=23,t.t1=t.catch(14),t.t1.message="Invalid 'onAccount' option: ".concat(t.t1.message),t.t1;case 27:throw new Error("Invalid `onAccount` option: should be keyPair object or account address");case 28:case"end":return t.stop()}}),t,this,[[14,23]])})))).apply(this,arguments)}function b(){return(b=s()(i.a.mark((function t(){var e,n,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:{},n=e.onAccount){t.next=5;break}if(!this.Selector.address){t.next=4;break}return t.abrupt("return",Promise.resolve(this.Selector.address));case 4:throw new Error("You don't have selected account");case 5:return t.abrupt("return",this.resolveOnAccount(n,"address"));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var g=u.a.compose({init:function(t){var e=this;return s()(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=t.address)||(r=Object.keys(e.accounts)[0]),!r||Object(l.assertedType)(r,"ak",!0)){n.next=4;break}throw new Error("Invalid account address");case 4:e.Selector.address=r;case 5:case"end":return n.stop()}}),n)})))()},methods:{sign:function(t){return m.apply(this,arguments)},address:function(){return b.apply(this,arguments)},selectAccount:function(t){if(!t||!Object(l.assertedType)(t,"ak",!0))throw new Error("Invalid account address");if(!this.accounts[t])throw Error("Account for ".concat(t," not available"));this.Selector.address=t},resolveOnAccount:function(t){return v.apply(this,arguments)}},deepProps:{Selector:{}}},p()({methods:{signWith:p.a}}));e.a=g},function(t,e,n){"use strict";var r=n(15),a=n.n(r),o=n(9),i=a()({deepConf:{Ae:{methods:["spendTx","namePreclaimTx","nameClaimTx","nameTransferTx","nameUpdateTx","nameRevokeTx","contractCreateTx","contractCallTx","oracleRegisterTx","oracleExtendTx","oraclePostQueryTx","oracleRespondTx","getAccountNonce","channelCloseSoloTx","channelSlashTx","channelSettleTx","channelSnapshotSoloTx","getVmVersion","prepareTxParams","gaAttachTx"]}}},Object(o.required)({methods:{spendTx:o.required,namePreclaimTx:o.required,nameClaimTx:o.required,nameTransferTx:o.required,nameUpdateTx:o.required,nameRevokeTx:o.required,contractCreateTx:o.required,contractCallTx:o.required,oracleRegisterTx:o.required,oracleExtendTx:o.required,oraclePostQueryTx:o.required,oracleRespondTx:o.required,getAccountNonce:o.required,channelCloseSoloTx:o.required,channelSlashTx:o.required,channelSettleTx:o.required,channelSnapshotSoloTx:o.required,gaAttachTx:o.required,getVmVersion:o.required,prepareTxParams:o.required}}));e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(12),a=n.n(r),o=n(8),i=n.n(o),c=n(1),s=n.n(c),u=n(0),f=n.n(u),p=n(2),l=n.n(p),d=function(t,e){return{name:t,instance:e,url:e.url,internalUrl:e.internalUrl,networkId:e.nodeNetworkId,version:e.version,consensusProtocolVersion:e.consensusProtocolVersion}},h=n(23),m=n(54);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=h.a.compose({init:function(){var t=arguments,e=this;return l()(f.a.mark((function n(){var r,a,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.length>0&&void 0!==t[0]?t[0]:{},a=r.nodes,o=void 0===a?[]:a,e.pool=new Map,e.validateNodes(o),o.forEach((function(t,n){var r=t.name,a=t.instance;e.addNode(r,a,0===n)})),o.length&&e.selectNode(o[0].name);case 5:case"end":return n.stop()}}),n)})))()},propertyDescriptors:{api:{enumerable:!0,configurable:!1,get:function(){return function(t){if(!t||!t.instance)throw new Error("You can't use Node API. Node is not connected or not defined!");return t.instance.api}(this.selectedNode)}}},methods:{addNode:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.pool.has(t))throw new Error("Node with name ".concat(t," already exist"));this.validateNodes([{name:t,instance:e}]),this.pool.set(t,d(t,e)),!n&&this.selectedNode||this.selectNode(t)},selectNode:function(t){if(!this.pool.has(t))throw new Error("Node with name ".concat(t," not in pool"));this.selectedNode=this.pool.get(t)},getNetworkId:m.b,isNodeConnected:function(){return!!this.selectedNode.instance},getNodeInfo:function(){if(!this.isNodeConnected())throw new Error("Can not get node info. Node is not connected");return b({name:this.selectedNode.name},this.selectedNode.instance.getNodeInfo())},getNodesInPool:function(){return Array.from(this.pool.entries()).map((function(t){var e=i()(t,2);return b({name:e[0]},e[1].instance.getNodeInfo())}))},validateNodes:function(t){var e=["Swagger","api","consensusProtocolVersion","genesisHash","methods"];t.forEach((function(t,n){if("object"!==a()(t))throw new Error('Node must be an object with "name" and "instance" props');if(["name","instance"].find((function(e){return!t[e]})))throw new Error("Node object on index ".concat(n,' must contain node "name" and "ins"'));if(!t.instance||"object"!==a()(t.instance)||e.find((function(e){return!(e in t.instance)})))throw new Error("Invalid node instance object")}))}},props:{selectedNode:{}}});e.b=g},function(t,e,n){var r=n(21),a=n(147),o=r((function(t){return a(t,[])}));t.exports=o},function(t,e,n){"use strict";var r=n(1),a=n.n(r),o=n(8),i=n.n(o),c=n(12),s=n.n(c),u=n(127),f=n.n(u),p=n(4),l=n.n(p);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=f()({storeAsString:!0}),v=function t(e){if("object"===s()(e)&&null!==e&&e.constructor===Object)return Object.entries(e).map((function(e){var n=i()(e,2),r=n[0],a=n[1];return[r,t(a)]})).reduce((function(t,e){var n=i()(e,2),r=n[0],o=n[1];return h(h({},t),{},a()({},r,o))}),{});if(Array.isArray(e))return e.map((function(e){return t(e)}));if("string"==typeof e&&l()(e).toString(10)===e){var n=l()(e);return n.toJSON=function(){return n.toString(10)},n}return e};e.a={stringify:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return m.stringify.apply(m,[v(t)].concat(n))},parse:m.parse}},function(t,e,n){var r=n(13),a=n(107),o=n(57),i=r((function(t,e){return a(o(t),e)}));t.exports=i},function(t,e,n){var r=n(79),a=n(158);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),i=o.pop();if(!r(i)){for(var c=0;c<t.length;){if("function"==typeof i[t[c]])return i[t[c]].apply(i,o);c+=1}if(a(i)){var s=e.apply(null,o);return s(i)}}return n.apply(this,arguments)}}},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s}));var r=n(4),a=n.n(r);function o(t){return a()(t.toString()).toString(10)}function i(t){return a()(t.toString())}function c(t){return!isNaN(t)||Number.isInteger(t)||a.a.isBigNumber(t)}function s(t){return t.integerValue(a.a.ROUND_CEIL)}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"SOPHIA_TYPES",(function(){return O})),n.d(e,"decodeEvents",(function(){return T})),n.d(e,"transformEvent",(function(){return k})),n.d(e,"injectVars",(function(){return E})),n.d(e,"linkTypeDefs",(function(){return A})),n.d(e,"readType",(function(){return I})),n.d(e,"transform",(function(){return P})),n.d(e,"transformVariant",(function(){return C})),n.d(e,"transformMap",(function(){return S})),n.d(e,"transformDecodedData",(function(){return N})),n.d(e,"prepareSchema",(function(){return M})),n.d(e,"getJoiErrorMsg",(function(){return D})),n.d(e,"validateArguments",(function(){return B}));var r=n(12),a=n.n(r),o=n(8),i=n.n(o),c=n(10),s=n.n(c),u=n(50),f=n.n(u),p=n(1),l=n.n(p),d=n(22),h=n.n(d),m=n(16),v=n(17),b=n(7),g=n(47),y=n(5);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O=["int","string","tuple","address","bool","list","map","record","option","oracle","oracleQuery","hash","signature","bytes","variant"].reduce((function(t,e){return w(w({},t),{},l()({},e,e))}),{ChainTtl:"Chain.ttl"});function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{schema:[]};return t.length?t.map((function(t){var n=f()(t.topics),r=n[0],a=n.slice(1),o=Object(v.toBytes)(r,!0).toString("hex"),i=e.schema.reduce((function(e,n){return Object(y.hash)(n.name).toString("hex")===o?(t.name=n.name,{schema:n.types,name:n.name}):e}),{schema:[]}).schema.reduce((function(e,n){if(n===O.string)return{decoded:[].concat(s()(e.decoded),[k(t.data,n)]),params:e.params};var r=f()(e.params),a=r[0],o=r.slice(1);return{decoded:[].concat(s()(e.decoded),[k(a,n)]),params:o}}),{decoded:[],params:a}).decoded;return w(w({},t),{},{decoded:i})})):[]}function k(t,e){switch(e){case O.int:return Object(g.d)(t);case O.bool:return!!t;case O.hash:return Object(v.toBytes)(t,!0).toString("hex");case O.address:return Object(y.addressFromDecimal)(t).split("_")[1];case O.string:return Object(b.decode)(t).toString("utf-8");default:return Object(v.toBytes)(t,!0)}}function E(t,e){var n=Object.entries(e.typedef),r=i()(n,1),a=i()(r[0],2),o=a[0],c=a[1],s=Object.entries(t),u=i()(s,1),f=i()(u[0],2)[1];switch(o){case O.variant:return l()({},o,c.map((function(t){var n=i()(Object.entries(t)[0],2),r=n[0],a=n[1];return l()({},r,a.map((function(t){var n=e.vars.map((function(t){return t.name})).indexOf(t);return-1===n?t:f[n]})))})))}}function A(t,e){var n="object"===a()(t)?Object.keys(t)[0].split("."):t.split("."),r=i()(n,2),o=r[0],c=r[1],u=e.find((function(t){return t.name===o})),f=[].concat(s()(u.type_defs),[{name:"state",typedef:u.state,vars:[]}]).find((function(t){return t.name===c}));return f.vars.length&&(f.typedef=E(t,f)),j(f.typedef,e)?A(f.typedef,e):f.typedef}var j=function(t,e){if(!["string","object"].includes(a()(t)))return!1;var n=(t="object"===a()(t)?Object.keys(t)[0]:t).split("."),r=f()(n),o=r[0];return!!r.slice(1).length&&e.map((function(t){return t.name})).includes(o)},_=function(t){if("string"!=typeof t)return!1;var e=t.split("."),n=f()(e),r=n[0];return!n.slice(1).length&&!Object.values(O).includes(r)};function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bindings,r=Array.isArray(t)?t:[t],o=i()(r,1),c=o[0];if(_(c))return{t:O.address};if(j(c,n)&&(c=A(c,n)),"object"===a()(c)){var s=Object.entries(c),u=i()(s,1),f=i()(u[0],2),p=f[0],l=f[1];return{t:p,generic:l}}return"string"==typeof c?{t:c}:void 0}function P(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.bindings,o=I(e,{bindings:a}),i=o.t,c=o.generic;switch(i){case O.ChainTtl:return"".concat(n);case O.string:return'"'.concat(n,'"');case O.list:return"[".concat(n.map((function(t){return P(c,t,{bindings:a})})),"]");case O.tuple:return"(".concat(n.map((function(t,e){return P(c[e],t,{bindings:a})})),")");case O.option:return void 0===n?"None":"Some(".concat(P(c,n,{bindings:a}),")");case O.hash:case O.bytes:case O.signature:if("string"==typeof n){if(Object(m.c)(n))return"#".concat(n);if(Object(m.a)(n))return"#".concat(Object(b.decode)(n).toString("hex"))}return"#".concat(t.from(n).toString("hex"));case O.record:return"{".concat(c.reduce((function(t,e,r){var o=e.name,i=e.type;return t+="".concat(0!==r?",":"").concat(o," = ").concat(P(i,n[o],{bindings:a}))}),""),"}");case O.map:return S(n,c,{bindings:a});case O.variant:return C(n,c,{bindings:a})}return"".concat(n)}function C(t,e,n){var r=n.bindings,a="string"==typeof t?[[t,[]]]:Object.entries(t),o=i()(a,1),c=i()(o[0],2),s=c[0],u=c[1],f=Object.entries(e.find((function(t){return Object.keys(t)[0].toLowerCase()===s.toLowerCase()}))),p=i()(f,1),l=i()(p[0],2),d=l[0],h=l[1];return"".concat(d).concat(h.length?"(".concat(u.slice(0,h.length).map((function(t,e){return P(h[e],t,{bindings:r})})),")"):"")}function S(t,e,n){var r=n.bindings;return t instanceof Map&&(t=Array.from(t.entries())),!Array.isArray(t)&&t instanceof Object&&(t=Object.entries(t)),"{".concat(t.reduce((function(t,n,a){var o=i()(n,2),c=o[0],s=o[1];return 0!==a&&(t+=","),t+="[".concat(P(e[0],c,{bindings:r}),"] = ").concat(P(e[1],s,{bindings:r}))}),""),"}")}function N(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipTransformDecoded,a=void 0!==r&&r,o=(n.addressPrefix,n.bindings);if(a)return e;var c=I(t,{bindings:o}),s=c.t,u=c.generic;switch(s){case O.bool:return!!e;case O.address:return 0===e?0:e;case O.hash:case O.bytes:case O.signature:return e.split("#")[1];case O.map:var f=i()(u,2),p=f[0],d=f[1];return e.reduce((function(t,e){var n=i()(e,2),r=n[0],a=n[1];return r=N(p,r,{bindings:o}),a=N(d,a,{bindings:o}),t.push([r,a]),t}),[]);case O.option:if("None"===e)return;var h=Object.entries(e),m=i()(h,1),v=i()(m[0],2),b=v[0],g=i()(v[1],1),y=g[0];return"Some"===b?N(u,y,{bindings:o}):void 0;case O.list:return e.map((function(t){return N(u,t,{bindings:o})}));case O.tuple:return e.map((function(t,e){return N(u[e],t,{bindings:o})}));case O.record:var x=u.reduce((function(t,e){return w(w({},t),{},l()({},e.name,{type:e.type}))}),{});return Object.entries(e).reduce((function(t,e){var n=i()(e,2),r=n[0],a=n[1];return w(w({},t),{},l()({},r,N(x[r].type,a,{bindings:o})))}),{})}return e}function M(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.bindings,o=I(t,{bindings:a}),c=o.t,u=o.generic;switch(c){case O.int:return h.a.number().error(D);case O.variant:return h.a.alternatives().try([(e=h.a.string()).valid.apply(e,s()(u.reduce((function(t,e){var n=Object.entries(e),r=i()(n,1),a=i()(r[0],2),o=a[0],c=a[1];return c&&c.length||t.push(o),t}),[]))),(n=h.a.object(u.reduce((function(t,e){var n=Object.keys(e)[0];return w(w({},t),{},l()({},n,h.a.array()))}),{}))).or.apply(n,s()(u.map((function(t){return Object.keys(t)[0]}))))]);case O.ChainTtl:case O.string:return h.a.string().error(D);case O.address:return h.a.string().regex(/^(ak_|ct_|ok_|oq_)/).error(D);case O.bool:return h.a.boolean().error(D);case O.list:return h.a.array().items(M(u,{bindings:a})).error(D);case O.tuple:return h.a.array().ordered(u.map((function(t){return M(t,{bindings:a}).required()}))).label("Tuple argument").error(D);case O.record:return h.a.object(u.reduce((function(t,e){var n=e.name,r=e.type;return w(w({},t),{},l()({},n,M(r,{bindings:a})))}),{})).error(D);case O.hash:return R.binary().bufferCheck(32).error(D);case O.bytes:return R.binary().bufferCheck(u).error(D);case O.signature:return R.binary().bufferCheck(64).error(D);case O.option:return M(u,{bindings:a}).optional().error(D);default:return h.a.any()}}function D(e){return e.map((function(e){var n=e.path,r=e.type,o=e.context,i=Object.prototype.hasOwnProperty.call(o,"value")?o.value:o.label;switch(i="object"===a()(i)?JSON.stringify(i).slice(1).slice(0,-1):i,r){case"string.base":return w(w({},e),{},{message:'Value "'.concat(i,'" at path: [').concat(n,"] not a string")});case"number.base":return w(w({},e),{},{message:'Value "'.concat(i,'" at path: [').concat(n,"] not a number")});case"boolean.base":return w(w({},e),{},{message:'Value "'.concat(i,'" at path: [').concat(n,"] not a boolean")});case"array.base":return w(w({},e),{},{message:'Value "'.concat(i,'" at path: [').concat(n,"] not a array")});case"object.base":return w(w({},e),{},{message:"Value '".concat(i,"' at path: [").concat(n,"] not a object")});case"object.type":return w(w({},e),{},{message:"Value '".concat(i,"' at path: [").concat(n,"] not a ").concat(o.type)});case"binary.bufferCheck":return w(w({},e),{},{message:"Value '".concat(t.from(i).toString("hex"),"' at path: [").concat(n,"] not a ").concat(o.size," bytes")});default:return e}}))}var R=h.a.extend((function(e){return{name:"binary",base:e.any(),pre:function(e,n,r){if(r.convert&&"string"==typeof e){if(Object(m.a)(e))return Object(b.decode)(e);try{return t.from(e,"hex")}catch(t){return}}return t.from(e)},rules:[{name:"bufferCheck",params:{size:e.number().required()},validate:function(e,n,r,a){return t.isBuffer(n)?n.length!==e.size?this.createError("binary.bufferCheck",{value:n,size:e.size},r,a):n:this.createError("binary.base",{value:n},r,a)}}]}}));function B(t,e){var n=h.a.array().ordered(t.arguments.map((function(n,r){return M(n.type,{bindings:t.bindings}).label("[".concat(e[r],"]"))}))).sparse(!0).label("Argument"),r=h.a.validate(e,n,{abortEarly:!1}).error;if(r)throw r}}.call(this,n(24).Buffer)},function(t,e,n){var r=n(13)((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n}));t.exports=r},function(t,e,n){var r=n(97),a=n(100),o=n(76),i=n(99);t.exports=function(t){return r(t)||a(t)||o(t)||i()}},function(t,e,n){var r=n(77)(1,"join");t.exports=r},function(t,e,n){"use strict";(function(t){var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(2),s=n.n(c),u=n(30),f=n(5),p=n(16),l=n(7),d=new WeakMap;function h(){return(h=s()(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isGa){t.next=2;break}throw new Error("You are trying to sign data using GA account without keypair");case 2:return t.abrupt("return",Promise.resolve(f.sign(e,d.get(this).secretKey)));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function m(){return(m=s()(a.a.mark((function t(){var e,n=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{format:f.ADDRESS_FORMAT.api},t.abrupt("return",Promise.resolve(f.formatAddress(e.format,d.get(this).publicKey)));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var v=u.a.compose({init:function(e){var n=e.keypair,r=e.gaId;if(this.isGa=!!r,r){if(!f.isAddressValid(r))throw new Error("Invalid GA address");d.set(this,{publicKey:r})}else!function(e){if(!e||"object"!==i()(e))throw new Error("KeyPair must be an object");if(!e.secretKey||!e.publicKey)throw new Error('KeyPair must must have "secretKey", "publicKey" properties');if("string"!=typeof e.publicKey||-1===e.publicKey.indexOf("ak_"))throw new Error('Public Key must be a base58c string with "ak_" prefix');if(!t.isBuffer(e.secretKey)&&"string"==typeof e.secretKey&&!Object(p.c)(e.secretKey))throw new Error("Secret key must be hex string or Buffer");var n=t.from(Object(l.decode)(e.publicKey,"ak"));if(!f.isValidKeypair(t.from(e.secretKey,"hex"),n))throw new Error("Invalid Key Pair")}(n),this.setSecret(n)},props:{isGa:!1},methods:{sign:function(t){return h.apply(this,arguments)},address:function(){return m.apply(this,arguments)},setSecret:function(e){d.set(this,{secretKey:t.isBuffer(e.secretKey)?e.secretKey:t.from(e.secretKey,"hex"),publicKey:e.publicKey})}}});e.a=v}).call(this,n(24).Buffer)},function(t,e,n){"use strict";var r=n(75),a=n(9),o=r.a.compose({deepProps:{Ae:{defaults:{waitMined:!0}}},statics:{waitMined:function(t){return this.deepProps({Ae:{defaults:{waitMined:t}}})}},deepConf:{Ae:{methods:["sendTransaction","height","awaitHeight","poll","balance","getBalance","tx","mempool","topBlock","getTxInfo","txDryRun","getName","getNodeInfo","getAccount","getContractByteCode","getContract","waitForTxConfirm","resolveName"]}}},Object(a.required)({methods:{sendTransaction:a.required,height:a.required,awaitHeight:a.required,topBlock:a.required,poll:a.required,balance:a.required,getBalance:a.required,tx:a.required,getTxInfo:a.required,mempool:a.required,txDryRun:a.required,getAccount:a.required}}));e.a=o},function(t,e,n){"use strict";n.d(e,"b",(function(){return Xt}));var r=n(0),a=n.n(r),o=n(42),i=n.n(o),c=n(56),s=n.n(c),u=n(33),f=n.n(u),p=n(2),l=n.n(p),d=n(15),h=n.n(d),m=n(34),v=n.n(m),b=n(23),g=n(94),y=n.n(g),x=n(73),w=n.n(x),O=n(74),T=n.n(O),k=n(32),E=n.n(k),A=n(6),j=n.n(A),_=n(131),I=n.n(_),P=n(57),C=n.n(P),S=n(93),N=n.n(S),M=n(130),D=n.n(M),R=n(129),B=n.n(R),F=n(11),V=n.n(F),L=n(92),U=n.n(L),Y=n(31),q=n.n(Y),H=n(83),K=n.n(H),X=n(128),G=n.n(X),W=n(44),Q=n.n(W),z=n(91),J=n.n(z),$=n(90),Z=n.n($),tt=n(126),et=n.n(tt),nt=n(49),rt=n.n(nt),at=n(63),ot=n.n(at),it=n(65),ct=n.n(it),st=n(29),ut=n.n(st),ft=n(125),pt=n.n(ft),lt=n(51),dt=n.n(lt),ht=n(37),mt=n.n(ht),vt=n(27),bt=n.n(vt),gt=n(8),yt=n.n(gt),xt=n(89),wt=n.n(xt),Ot=n(43),Tt=n(16),kt=n(4),Et=n.n(kt);function At(t,e){return wt()(e).reduce((function(t,e){var n=yt()(e,2),r=n[0],a=n[1];return t.replace("{".concat(r,"}"),a)}),t)}function jt(t,e,n){var r=function(){var n=bt()(t,e).match(/^#\/definitions\/(.+)/);if(void 0!==n)return n[1];throw Error("Reference path does not meet specification: ".concat(t))}();if(r in n)return n[r];throw Error("Couldn't find definition for ".concat(r))}function _t(t,e,n){var r=Error(t);return Object.assign(r,{spec:e,value:n})}var It={integer:function(t,e,n){if("Number"===mt()(t)||Et()(t).toString(10)===t)return"Number"===mt()(t)?Math.floor(t):t;throw _t("Not an integer",e,t)},enum:function(t,e,n){var r=e.enum;if(f()(t,r))return t;throw _t("Not one of [".concat(dt()(", ",r),"]"),e,t)},string:function(t,e,n){if("String"===mt()(t))return t;throw _t("Not a string",e,t)},object:function(t,e,n){if("Object"===mt()(t)){var r=(e.required||[]).map(Tt.e),a=Bt(e.properties),o=pt()(r,ut()(t));if(o.length>0)throw _t("Required properties missing: ".concat(dt()(", ",o)),e,t);return ct()((function(t,e){return function(t,e){try{return e()}catch(e){throw Object.assign(e,{path:[t].concat(e.path||[])})}}(e,(function(){return Pt(t,a[e],n)}))}),ot()(s.a,rt()(ut()(a),t)))}throw _t("Not an object",e,t)},array:function(t,e,n){if("Array"===mt()(t))return t.map((function(t){return Pt(t,e.items,n)}));throw _t("Not an array",e,t)},schema:function(t,e,n){return Pt(t,jt(["schema","$ref"],e,n),n)},$ref:function(t,e,n){return Pt(t,jt(["$ref"],e,n),n)},allOf:function(t,e,n){return et()(e.allOf.map((function(e){return Pt(t,e,n)})))}};function Pt(t,e,n){return(It[function(t){if("schema"in t)return"schema";if("$ref"in t)return"$ref";if("enum"in t)return"enum";if("allOf"in t)return"allOf";if("type"in t)return t.type;throw Object.assign(Error("Could not determine type"),{spec:t})}(e)]||function(){throw Object.assign(Error("Unsupported type"),{spec:e})})(t,e,n)}var Ct={headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return Ot.a.parse(t)}catch(e){return t}}],transformRequest:[function(t){try{return Ot.a.stringify(t)}catch(e){return t}}]},St={get:function(t){return function(e,n){return v.a.get(e,[Ct,t,n].reduce(Z.a))}},post:function(t){return function(e,n){return v.a.post(e,n,Z()(Ct,t))}}};function Nt(t){var e=J()((function(t){return t.required?"req":"opts"}),t),n=e.req,r=e.opts,a=J()((function(t){return t.in}),t),o=a.path,i=a.query,c=a.body;return{pathArgs:Q()("name",o||[]),queryArgs:Q()("name",i||[]),bodyArgs:Q()("name",c||[]),req:n||[],opts:r||[]}}function Mt(t){return t.map((function(t){return G()("name",Object(Tt.e)(t.name),t)}))}var Dt=K()((function(t,e){return({Object:function(e){return q()(wt()(e).map((function(e){var n=e[0],r=e[1];return[t(n),Dt(t,r)]})))},Array:function(e){return e.map(Dt(t))}}[mt()(e)]||U.a)(e)}));function Rt(t){return Dt(Tt.d,t)}function Bt(t){return Dt(Tt.e,t)}function Ft(t,e,n){var r=e.length?"".concat(dt()(", ",Q()("name",e))):null,a=n.length?"{".concat(dt()(", ",Q()("name",n)),"}"):null;return"".concat(t," (").concat(dt()(", ",[r,a].filter(U.a)),")")}function Vt(t){if(1===t.length)return V()(t);throw Error("Expected exactly one element in ".concat(t))}function Lt(t){var e=t.config,n=e.method,r=e.url,a=t.response,o=a.status,c=a.data,s=a.statusText,u=B()("reason",c)?c.reason:c?i()(c):s;return"".concat(n.toUpperCase()," to ").concat(r," failed with ").concat(o,": ").concat(u)}function Ut(t,e){var n=t.match(/^#\/(.+)$/);if(void 0!==n){var r=bt()(n[1].split("/"),e);if(null!=r)return r}throw Error("Could not resolve reference: ".concat(t))}var Yt=h()({init:function(t,e){var n=this,r=t.swag,o=void 0===r?this.swag:r,c=t.axiosConfig,u=(e.stamp,o.paths),f=N()(C()("name"),w()(y()(ct()((function(t,e){return y()(ct()((function(t,r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=o.config,u=o.errorHandler;delete(c=c||{}).transformResponse;var f=n.operationId,p=n.description,d=(n.parameters||[]).map((function(t){return t.$ref?Ut(t.$ref,r):t})),h="".concat(V()(f).toLowerCase()).concat(D()(1,f)),m=Mt(d),v=Nt(m),b=v.pathArgs,g=v.queryArgs,y=v.bodyArgs,x=v.req,w=v.opts,O=Q()("name",w),k=N()(C()("name"),m),A=Ft(h,x,w),_=St[e](c);return function(n,o){var c=l()(a.a.mark((function n(){var c,f,p,l,d,m,v,w,P,C,S=arguments;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=this.Swagger.defaults,n.prev=1,f=function(){if(S.length===x.length)return[Array.from(S),c];if(S.length===x.length+1)return[I()(1,S),j()(c,E()(S))];throw Error("Function call doesn't conform to ".concat(A))}(),p=yt()(f,2),l=p[0],(d=p[1]).debug&&console.log("Invoked ".concat(h," with ").concat(i()(l)," ").concat(i()(d))),m=j()(ot()(s.a,rt()(O,d)),T()(Q()("name",x),l)),v=ct()((function(t,e){try{return Pt(t,k[e],r.definitions)}catch(r){var n=[e].concat(r.path||[]);throw Object.assign(r,{path:n,value:t,message:"validating ".concat(dt()(" -> ",n),": ").concat(r.message)})}}),m),w=At(t,Rt(rt()(b,v))),P=Rt(function(){if("get"===e)return{params:rt()(g,v)};if("post"===e)return v[Vt(y)];throw Error("Unsupported method ".concat(e))}()),d.debug&&console.log("Going to ".concat(e.toUpperCase()," ").concat(o).concat(w," with ").concat(i()(P))),n.prev=9,n.next=12,_("".concat(o).concat(w),P).catch(this.axiosError(u));case 12:return C=n.sent,n.abrupt("return",d.fullResponse?C:Bt(C.data));case 16:throw n.prev=16,n.t0=n.catch(9),bt()(["response","data"],n.t0)&&(n.t0.message=Lt(n.t0)),n.t0;case 20:n.next=26;break;case 22:throw n.prev=22,n.t1=n.catch(1),n.t1.message="While calling ".concat(A,", ").concat(n.t1.message),n.t1;case 26:case"end":return n.stop()}}),n,this,[[1,22],[9,16]])}))).bind(n);return Object.assign(c,{signature:A,description:p}),Object.defineProperties(c,{name:{value:h,writable:!1},length:{value:x.length+(w.length?1:0),writable:!1}})}}(e,r,t,o,c)(n,n.urlFor(o.basePath,t))}),t))}),u))));return Object.assign(this,{methods:ut()(f),api:f})},deepProps:{Swagger:{defaults:{debug:!1,txEncoding:"json"}}},statics:{debugSwagger:function(t){return this.deepProps({Swagger:{defaults:{debug:t}}})}}}),qt=n(58);function Ht(t,e){return Kt.apply(this,arguments)}function Kt(){return(Kt=l()(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("".concat(e,"/api"),n);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.networkId,n=t.force,r=void 0!==n&&n;if(!(r||e||this.networkId||this.selectedNode&&this.selectedNode.networkId))throw new Error("networkId is not provided");return!r||e||this.networkId||this.selectedNode&&this.selectedNode.networkId?e||this.networkId||this.selectedNode.networkId:null}var Gt=function(t){var e=t.url,n=t.internalUrl;return function(t,r){var a=r.tags,o=r.operationId;if(f()("external",a))return"".concat(e).concat(t);if(!s()(n)&&f()("internal",a))return"".concat(n).concat(t);throw Error("Method ".concat(o," is unsupported. No interface for ").concat(i()(a)))}};function Wt(){return(Wt=l()(a.a.mark((function t(){var e,n,r,o,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:[],n=i.length>1?i[1]:void 0,e){t.next=4;break}throw new Error("Protocols must be an array");case 4:if(n){t.next=8;break}return t.next=7,this.api.getCurrentKeyBlock();case 7:n=t.sent.height;case 8:if(!(n<0)){t.next=10;break}throw new Error("height must be a number >= 0");case 10:return r=e.reduce((function(t,e){var r=t.effectiveAtHeight,a=t.version;return n>=e.effectiveAtHeight&&e.effectiveAtHeight>r?{effectiveAtHeight:e.effectiveAtHeight,version:e.version}:{effectiveAtHeight:r,version:a}}),{effectiveAtHeight:-1,version:0}),o=r.version,t.abrupt("return",o);case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Qt=h()(b.a,{init:function(t){var e=this;return l()(a.a.mark((function n(){var r,o,i,c,s,u,f,p;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.url,o=void 0===r?e.url:r,i=t.internalUrl,c=void 0===i?e.internalUrl:i,s=t.axiosConfig,u=(s=void 0===s?{}:s).config,f=s.errorHandler,o){n.next=5;break}throw new Error('"url" required');case 5:return o=o.replace(/\/?$/,""),c=c?c.replace(/\/?$/,""):o,n.next=9,Ht(o,u).catch(e.axiosError(f));case 9:return p=n.sent,e.version=p.info.version,n.abrupt("return",Object.assign(e,{url:o,internalUrl:c,swag:p,urlFor:Gt({url:o,internalUrl:c})}));case 12:case"end":return n.stop()}}),n)})))()},methods:{axiosError:function(t){return function(e){throw t&&"function"==typeof t&&t(e),e}},getNodeInfo:function(){return{url:this.url,internalUrl:this.internalUrl,nodeNetworkId:this.nodeNetworkId,version:this.version,consensusProtocolVersion:this.consensusProtocolVersion}},getConsensusProtocolVersion:function(){return Wt.apply(this,arguments)}},props:{version:null,consensusProtocolVersion:null,nodeNetworkId:null}},Yt,{init:function(t){var e=this;return l()(a.a.mark((function n(){var r,o,i,c,s,u,f;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.forceCompatibility,o=void 0!==r&&r,n.next=3,e.api.getStatus();case 3:return i=n.sent,c=i.nodeRevision,s=i.genesisKeyBlockHash,u=i.networkId,f=i.protocols,n.next=10,e.getConsensusProtocolVersion(f);case 10:if(e.consensusProtocolVersion=n.sent,Object(qt.a)(e.version.split("-")[0],zt,Jt)&&"5.0.0-rc1"!==e.version||o){n.next=13;break}throw new Error("Unsupported node version ".concat(e.version,". ")+"Supported: >= ".concat(zt," < ").concat(Jt));case 13:return e.nodeNetworkId=u,n.abrupt("return",Object.assign(e,{revision:c,genesisHash:s}));case 15:case"end":return n.stop()}}),n)})))()}}),zt="5.0.0",Jt="6.0.0";e.a=Qt},function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));var r=n(12),a=n.n(r),o=n(0),i=n.n(o),c=n(2),s=n.n(c),u=n(6),f=n.n(u),p=n(34),l=n.n(p),d=n(43),h=n(15),m=n.n(h);function v(){return(v=s()(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x(l.a.get("".concat(this.baseUrl).concat(e),f()(this.httpConfig,n))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function b(){return(b=s()(i.a.mark((function t(e,n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x(l.a.post("".concat(this.baseUrl).concat(e),n,f()(this.httpConfig,r))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function g(){return(g=s()(i.a.mark((function t(e,n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x(l.a.put("".concat(this.baseUrl).concat(e),n,f()(this.httpConfig,r))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function y(){return(y=s()(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x(l.a.delete("".concat(this.baseUrl).concat(e),f()(this.httpConfig,n))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var x=function(){var t=s()(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return t.abrupt("return",t.sent.data);case 6:if(t.prev=6,t.t0=t.catch(0),t.t0.response){t.next=10;break}throw t.t0;case 10:throw Object.assign(Error("Http request for ".concat(t.t0.config.url," failed with status code ").concat(t.t0.response.status,". Status: ").concat(t.t0.response.statusText,". \nError data: ").concat(JSON.stringify(t.t0.response.data))),{error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),w=m()({init:function(t){var e=t.baseUrl;this.baseUrl=e},methods:{changeBaseUrl:function(t){this.baseUrl=t},get:function(t,e){return v.apply(this,arguments)},post:function(t,e,n){return b.apply(this,arguments)},put:function(t,e,n){return g.apply(this,arguments)},delete:function(t,e){return y.apply(this,arguments)}},props:{httpConfig:{headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return d.a.parse(t)}catch(e){return t}}]}}}),O=n(59),T=n(58),k=n(23),E=n(3);function A(){return(A=s()(i.a.mark((function t(){var e,n=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.abrupt("return",this.http.get("/api-version",e).then((function(t){return t["api-version"]})));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function j(){return(j=s()(i.a.mark((function t(e,n){var r,a,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:[],a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/encode-calldata",{source:e,function:n,arguments:r,options:this.prepareCompilerOption(a)},a).then((function(t){return t.calldata})));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _(){return(_=s()(i.a.mark((function t(e,n){var r,a,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:this.compilerOptions.backend,a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-calldata/bytecode",{bytecode:e,calldata:n,backend:r},a));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function I(){return(I=s()(i.a.mark((function t(e,n,r){var a,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-calldata/source",{function:n,source:e,calldata:r,options:this.prepareCompilerOption(a)},a));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function P(){return(P=s()(i.a.mark((function t(e,n,r,a){var o,c=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-call-result",{function:n,source:e,"call-result":a,"call-value":r,options:this.prepareCompilerOption(o)},o));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function C(){return(C=s()(i.a.mark((function t(e,n){var r,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-data",{data:n,"sophia-type":e},r).then((function(t){return t.data})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function S(){return(S=s()(i.a.mark((function t(e,n){var r,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},this.isInit(),t.abrupt("return",this.http.post("/validate-byte-code",{bytecode:e,source:n,options:this.prepareCompilerOption(r)},r).then((function(t){return"object"===a()(t)||t})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function N(){return(N=s()(i.a.mark((function t(e){var n,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/compile",{code:e,options:this.prepareCompilerOption(n)},n).then((function(t){return t.bytecode})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function M(){return(M=s()(i.a.mark((function t(e){var n,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/aci",{code:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function D(){return(D=s()(i.a.mark((function t(e){var n,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/fate-assembler",{bytecode:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function R(){return(R=s()(i.a.mark((function t(e){var n,r=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/compiler-version",{bytecode:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function B(){return(B=s()(i.a.mark((function t(e){var n,r,a,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.forceCompatibility,a=void 0!==r&&r,this.http.changeBaseUrl(e),t.next=4,this.getCompilerVersion().catch((function(t){return null}));case 4:return this.compilerVersion=t.sent,t.next=7,this.checkCompatibility({forceCompatibility:a});case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function F(){return(F=s()(i.a.mark((function t(){var e,n,r,a,o,c,s=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:{},n=e.force,r=void 0!==n&&n,a=e.forceCompatibility,o=void 0!==a&&a,this.compilerVersion||r){t.next=3;break}throw new Error("Compiler do not respond");case 3:if(o||!this.compilerVersion||Object(T.a)(this.compilerVersion.split("-")[0],L,U)){t.next=7;break}throw c=this.compilerVersion,this.compilerVersion=null,new Error("Unsupported compiler version ".concat(c,". ")+"Supported: >= ".concat(L," < ").concat(U));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var V=k.a.compose(O.a,{init:function(t){var e=this;return s()(i.a.mark((function n(){var r,a,o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.compilerUrl,a=void 0===r?e.compilerUrl:r,o=t.forceCompatibility,c=void 0!==o&&o,e.http=w({baseUrl:a}),n.next=4,e.getCompilerVersion().catch((function(t){return null}));case 4:return e.compilerVersion=n.sent,n.next=7,e.checkCompatibility({force:!0,forceCompatibility:c});case 7:case"end":return n.stop()}}),n)})))()},methods:{contractEncodeCallDataAPI:function(t,e){return j.apply(this,arguments)},contractDecodeDataAPI:function(t,e){return C.apply(this,arguments)},compileContractAPI:function(t){return N.apply(this,arguments)},contractGetACI:function(t){return M.apply(this,arguments)},contractDecodeCallDataByCodeAPI:function(t,e){return _.apply(this,arguments)},contractDecodeCallDataBySourceAPI:function(t,e,n){return I.apply(this,arguments)},contractDecodeCallResultAPI:function(t,e,n,r){return P.apply(this,arguments)},setCompilerUrl:function(t){return B.apply(this,arguments)},getCompilerVersion:function(){return A.apply(this,arguments)},validateByteCodeAPI:function(t,e){return S.apply(this,arguments)},isInit:function(){if(null===this.compilerVersion)throw Error("Compiler not defined");return!0},checkCompatibility:function(){return F.apply(this,arguments)},prepareCompilerOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backend,n=void 0===e?this.compilerOptions.backend:e,r=t.filesystem,a=void 0===r?{}:r;return{backend:n,file_system:a}},getFateAssembler:function(t){return D.apply(this,arguments)},getBytecodeCompilerVersion:function(t){return R.apply(this,arguments)}},props:{compilerVersion:null,compilerOptions:{backend:E.VM_TYPE.FATE}}}),L="4.0.0",U="5.0.0";e.b=V},function(t,e,n){var r=n(21)((function(t){return null==t}));t.exports=r},function(t,e,n){var r=n(13),a=n(27),o=r((function(t,e){return a([t],e)}));t.exports=o},function(t,e,n){"use strict";var r=n(10),a=n.n(r);e.a=function(t,e,n){var r=t.split("-")[0].split("."),o=e.split("-")[0].split("."),i=n.split("-")[0].split("."),c=Math.max.apply(Math,a()(r).concat(a()(o),a()(i)))+1,s=function(t){return t.reverse().reduce((function(t,e,n){return t+e*Math.pow(c,n)}),0)},u=s(r),f=s(o),p=s(i);return u>=f&&u<p}},function(t,e,n){"use strict";var r=n(15),a=n.n(r),o=n(9),i=a()({deepConf:{Contract:{methods:["contractEncodeCallDataAPI","contractDecodeDataAPI","compileContractAPI","contractDecodeCallDataBySourceAPI","contractDecodeCallDataByCodeAPI","contractGetACI","setCompilerUrl","getCompilerVersion","contractDecodeCallResultAPI","validateByteCodeAPI","getFateAssembler","getBytecodeCompilerVersion"]}}},Object(o.required)({methods:{contractEncodeCallDataAPI:o.required,contractDecodeDataAPI:o.required,compileContractAPI:o.required,contractGetACI:o.required,setCompilerUrl:o.required,getCompilerVersion:o.required,contractDecodeCallResultAPI:o.required,validateByteCodeAPI:o.required,getFateAssembler:o.required,getBytecodeCompilerVersion:o.required}}));e.a=i},function(t,e){t.exports=c},function(t,e,n){var r=n(105),a=n(160),o=n(161);function i(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function c(t,e,n,r){return t["@@transducer/result"](n[r](o(t["@@transducer/step"],t),e))}var s="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(t,e,n){if("function"==typeof t&&(t=a(t)),r(n))return function(t,e,n){for(var r=0,a=n.length;r<a;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return c(t,e,n,"fantasy-land/reduce");if(null!=n[s])return i(t,e,n[s]());if("function"==typeof n.next)return i(t,e,n);if("function"==typeof n.reduce)return c(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t,e,n){var r=n(21),a=n(13),o=n(67);t.exports=function(t){return function e(n,i,c){switch(arguments.length){case 0:return e;case 1:return o(n)?e:a((function(e,r){return t(n,e,r)}));case 2:return o(n)&&o(i)?e:o(n)?a((function(e,n){return t(e,i,n)})):o(i)?a((function(e,r){return t(n,e,r)})):r((function(e){return t(n,i,e)}));default:return o(n)&&o(i)&&o(c)?e:o(n)&&o(i)?a((function(e,n){return t(e,n,c)})):o(n)&&o(c)?a((function(e,n){return t(e,i,n)})):o(i)&&o(c)?a((function(e,r){return t(n,e,r)})):o(n)?r((function(e){return t(e,i,c)})):o(i)?r((function(e){return t(n,e,c)})):o(c)?r((function(e){return t(n,i,e)})):t(n,i,c)}}}},function(t,e,n){var r=n(156),a=n(13),o=n(157),i=a((function(t,e){return o(r(t),e)}));t.exports=i},function(t,e,n){var r=n(21)((function(t){return function(){return t}}));t.exports=r},function(t,e,n){var r=n(13),a=n(61),o=n(29),i=r((function(t,e){return a((function(n,r){return n[r]=t(e[r],r,e),n}),{},o(e))}));t.exports=i},function(t,e){t.exports=s},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e,n){var r=n(69),a=n(21),o=n(13),i=n(78),c=o((function(t,e){return 1===t?a(e):r(t,i(t,[],e))}));t.exports=c},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,a){return e.apply(this,arguments)};case 5:return function(t,n,r,a,o){return e.apply(this,arguments)};case 6:return function(t,n,r,a,o,i){return e.apply(this,arguments)};case 7:return function(t,n,r,a,o,i,c){return e.apply(this,arguments)};case 8:return function(t,n,r,a,o,i,c,s){return e.apply(this,arguments)};case 9:return function(t,n,r,a,o,i,c,s,u){return e.apply(this,arguments)};case 10:return function(t,n,r,a,o,i,c,s,u,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(148);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){"use strict";var r=n(27),a=n.n(r),o=n(57),i=n.n(o),c=n(95),s=n.n(c),u=n(0),f=n.n(u),p=n(1),l=n.n(p),d=n(6),h=n.n(d),m=n(2),v=n.n(m),b=n(4),g=n.n(b),y=n(23),x=n(58),w=n(28),O=n(5),T=n(55),k=n(3);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}w.prepareArgsForEncode;function j(){return(j=v()(f.a.mark((function t(e){var n,r,o,c,u,p,l,d,m,v,b,g,y=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=y.length>1&&void 0!==y[1]?y[1]:{},r=n.aci,o=n.contractAddress,c=n.filesystem,u=void 0===c?{}:c,p=n.forceCodeCheck,l=void 0===p||p,d=n.opt,t.t0=r,t.t0){t.next=6;break}return t.next=5,this.contractGetACI(e,{filesystem:u});case 5:t.t0=t.sent;case 6:if(r=t.t0,!o){t.next=11;break}return t.next=10,this.resolveName(o,"ct",{resolveByNode:!0});case 10:o=t.sent;case 11:if(m={skipArgsConvert:!1,skipTransformDecoded:!1,callStatic:!1,deposit:k.DEPOSIT,gasPrice:k.MIN_GAS_PRICE,amount:k.AMOUNT,gas:k.GAS,top:null,waitMined:!0,verify:!1,filesystem:u},v={interface:s()(null,i()("interface",r)),aci:s()(null,a()(["encoded_aci","contract"],r)),externalAci:r.external_encoded_aci?r.external_encoded_aci.map((function(t){return t.contract||t.namespace})):[],source:e,compiled:null,deployInfo:{address:o},options:h()(m,d),compilerVersion:this.compilerVersion,setOptions:function(t){this.options=h()(this.options,t)}},!o){t.next=30;break}if(Object(O.isAddressValid)(o,"ct")){t.next=16;break}throw new Error("Invalid contract address");case 16:return t.next=18,this.getContract(o).catch((function(t){return null}));case 18:if((b=t.sent)&&b.active){t.next=21;break}throw new Error("Contract with address ".concat(o," not found on-chain or not active"));case 21:if(l||!Object(x.a)(this.compilerVersion,"4.1.0",T.a)){t.next=30;break}return t.next=24,this.getContractByteCode(o);case 24:return g=t.sent.bytecode,t.next=27,this.validateByteCodeAPI(g,v.source,v.options).catch((function(t){return!1}));case 27:if(t.sent){t.next=30;break}throw new Error("Contract source do not correspond to the contract bytecode deployed on the chain");case 30:return v.compile=C({client:this,instance:v}),v.deploy=P({client:this,instance:v}),v.call=I({client:this,instance:v}),v.decodeEvents=_({instance:v}),v.methods=Object(w.buildContractMethods)(v)(),t.abrupt("return",v);case 36:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var _=function(t){var e=t.instance;return function(t,n){return Object(w.decodeEvents)(n,Object(w.getFunctionACI)(e.aci,t,{external:e.externalAci}))}},I=function(t){var e=t.client,n=t.instance;return function(){var t=v()(f.a.mark((function t(r){var a,o,i,c,s,u,p=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p.length>1&&void 0!==p[1]?p[1]:[],o=p.length>2&&void 0!==p[2]?p[2]:{},i=h()(n.options,o),c=Object(w.getFunctionACI)(n.aci,r,{external:n.externalAci}),s=i.source||n.source,r){t.next=7;break}throw new Error("Function name is required");case 7:if(n.deployInfo.address){t.next=9;break}throw new Error("You need to deploy contract before calling!");case 9:if(!g()(i.amount).gt(0)||!Object.prototype.hasOwnProperty.call(c,"payable")||c.payable){t.next=11;break}throw new Error('You try to pay "'.concat(i.amount,'" to function "').concat(r,'" which is not payable. Only payable function can accept tokens'));case 11:if(i.skipArgsConvert){t.next=17;break}return t.next=14,Object(w.prepareArgsForEncode)(c,a);case 14:t.t0=t.sent,t.next=18;break;case 17:t.t0=a;case 18:if(a=t.t0,!i.callStatic){t.next=25;break}return t.next=22,e.contractCallStatic(s,n.deployInfo.address,r,a,{top:i.top,options:i});case 22:t.t1=t.sent,t.next=28;break;case 25:return t.next=27,e.contractCall(s,n.deployInfo.address,r,a,i);case 27:t.t1=t.sent;case 28:if(u=t.t1,t.t2=A,t.t3=A({},u),!i.waitMined){t.next=37;break}return t.next=34,Object(w.decodeCallResult)(u,c,i);case 34:t.t4=t.sent,t.next=38;break;case 37:t.t4={};case 38:return t.t5=t.t4,t.abrupt("return",(0,t.t2)(t.t3,t.t5));case 40:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(t){var e=t.client,n=t.instance;return v()(f.a.mark((function t(){var r,a,o,i,c,s,u,p,l,d,m,v,b=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=b.length>0&&void 0!==b[0]?b[0]:[],a=b.length>1&&void 0!==b[1]?b[1]:{},o=h()(n.options,a),i=Object(w.getFunctionACI)(n.aci,"init",{external:n.externalAci}),c=o.source||n.source,n.compiled){t.next=8;break}return t.next=8,n.compile(o);case 8:if(o.skipArgsConvert){t.next=14;break}return t.next=11,Object(w.prepareArgsForEncode)(i,r);case 11:t.t0=t.sent,t.next=15;break;case 14:t.t0=r;case 15:if(r=t.t0,!o.callStatic){t.next=20;break}return t.abrupt("return",e.contractCallStatic(c,null,"init",r,{top:o.top,options:o,bytecode:n.compiled}));case 20:return t.next=22,e.contractDeploy(n.compiled,o.source||n.source,r,o);case 22:return s=t.sent,u=s.owner,p=s.transaction,l=s.address,d=s.createdAt,m=s.result,v=s.rawTx,n.deployInfo={owner:u,transaction:p,address:l,createdAt:d,result:m,rawTx:v},t.abrupt("return",n.deployInfo);case 31:case"end":return t.stop()}}),t)})))},C=function(t){var e=t.client,n=t.instance;return v()(f.a.mark((function t(){var r,a,o,i=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.contractCompile(n.source,A(A({},n.options),r));case 3:return a=t.sent,o=a.bytecode,n.compiled=o,t.abrupt("return",n.compiled);case 7:case"end":return t.stop()}}),t)})))},S=y.a.compose({methods:{getContractInstance:function(t){return j.apply(this,arguments)}}});e.a=S},function(t,e,n){"use strict";(function(t){var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),s=n.n(c),u=n(10),f=n.n(u),p=n(8),l=n.n(p),d=n(5),h=n(7),m=n(4),v=n.n(m),b=n(3),g=n(14),y=n(41);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O={signature:function(e){var n=e.rlpEncoded,r=e.signature,a=e.ownerPublicKey,o=e.networkId,i=void 0===o?"ae_mainnet":o,c=t.concat([t.from(i),n]),s=t.concat([t.from(i),Object(g.buildTxHash)(n,{raw:!0})]),u=Object(d.decodeBase58Check)(Object(d.assertedType)(a,"ak"));return Object(d.verify)(c,r,u)||Object(d.verify)(s,r,u)},insufficientFee:function(t){var e=t.minFee,n=t.fee;return v()(e).lte(v()(n))},expiredTTL:function(t){var e=t.ttl,n=t.height;return v()(e).eq(0)||v()(e).gte(v()(n))},insufficientBalanceForAmountFee:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n,a=t.fee;return v()(e).gte(v()(r).plus(a))},insufficientBalanceForAmount:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n;return v()(e).gte(v()(r))},nonceUsed:function(t){var e=t.accountNonce,n=t.nonce;return v()(n).gt(v()(e))},nonceHigh:function(t){var e=t.accountNonce,n=t.nonce;return!v()(n).gt(v()(e).plus(1))},minGasPrice:function(t){var e=t.gasPrice;return isNaN(e)||v()(e).gte(v()(b.MIN_GAS_PRICE))},vmAndAbiVersion:function(t){var e=t.ctVersion,n=t.abiVersion,r=t.consensusProtocolVersion,a=t.txType;e||(e={abiVersion:n});var o=b.PROTOCOL_VM_ABI[r];if(!o)return!0;var i=o[a];return!Object.entries(e).reduce((function(t,e){var n=l()(e,2),r=n[0],a=n[1];return[].concat(f()(t),[void 0===a||i[r].includes(parseInt(a))])}),[]).includes(!1)},insufficientBalanceForFeeNameFee:function(t){var e=t.nameFee,n=t.fee,r=t.balance;return 1===t.VSN||v()(r).gte(v()(e).plus(n))}},T=function(){var t=s()(a.a.mark((function t(e,n){var r,o,i,c,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.ownerPublicKey,o=0,i=0,t.prev=3,t.next=6,e.api.getAccountByPubkey(r);case 6:c=t.sent,s=c.nonce,u=c.balance,o=s,i=u,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log("We can not get info about this publicKey");case 16:return t.t1=w,t.next=19,e.api.getCurrentKeyBlockHeight();case 19:return t.t2=t.sent.height,t.t3=i,t.t4=o,t.t5=r,t.t6={height:t.t2,balance:t.t3,accountNonce:t.t4,ownerPublicKey:t.t5},t.t7=e.getNodeInfo(),t.abrupt("return",(0,t.t1)(t.t6,t.t7));case 26:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n){return t.apply(this,arguments)}}(),k=function(t,e){return t.reduce((function(t,n){var r=l()(n,3),a=r[0],o=r[1],i=r[2],c=(i.key,i.type),s=i.txKey;return O[o](e)||t.push({msg:a(e),txKey:s,type:c}),t}),[])};function E(){return(E=s()(a.a.mark((function t(e){var n,r,o,i,c,s,u,f,p,l,d,m=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},r=n.networkId,o=Object(g.unpackTx)(e),i=o.tx,c=o.rlpEncoded,s=o.txType,+i.tag!==b.OBJECT_TAG_SIGNED_TRANSACTION){t.next=13;break}return u=i.encodedTx,f=u.txType,p=u.tx,l=i.signatures.map((function(t){return{raw:t,hash:Object(h.encode)(t,"sg")}})),d=i.encodedTx.rlpEncoded,t.next=8,this.verifyTx({tx:p,signatures:l,rlpEncoded:d},r);case 8:return t.t0=t.sent,t.t1=p,t.t2=l,t.t3=f,t.abrupt("return",{validation:t.t0,tx:t.t1,signatures:t.t2,txType:t.t3});case 13:return t.next=15,this.verifyTx({tx:i,rlpEncoded:c},r);case 15:return t.t4=t.sent,t.t5=i,t.t6=s,t.abrupt("return",{validation:t.t4,tx:t.t5,txType:t.t6});case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var A=function(t){return t[["senderId","accountId","ownerId","callerId","oracleId","fromId","initiator","gaId"].find((function(e){return t[e]}))].replace("ok_","ak_")};function j(){return(j=s()(a.a.mark((function t(e,n){var r,o,i,c,s,u,p,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tx,o=e.signatures,i=e.rlpEncoded,n=n||this.getNetworkId()||"ae_mainnet",c=A(r),s=Object.prototype.hasOwnProperty.call(r,"gas")?+r.gas:0,u=b.OBJECT_ID_TX_TYPE[+r.tag],t.t0=w,t.t1=w,t.t2=w,t.t3={minFee:Object(g.calculateFee)(0,u,{gas:s,params:r,showWarning:!1})},t.next=11,T(this,{ownerPublicKey:c});case 11:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=r,t.t7=(0,t.t1)(t.t5,t.t6),t.t8={},t.t9={txType:u},p=(0,t.t0)(t.t7,t.t8,t.t9),l=o&&o.length?k(b.SIGNATURE_VERIFICATION_SCHEMA,{rlpEncoded:i,signature:o[0].raw,ownerPublicKey:c,networkId:n}):[],d=k(b.BASE_VERIFICATION_SCHEMA,p),t.abrupt("return",[].concat(f()(d),f()(l),f()(_(u,p))));case 21:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _(t,e){switch(t){case b.TX_TYPE.contractCreate:case b.TX_TYPE.contractCall:case b.TX_TYPE.oracleRegister:return k(b.CONTRACT_VERIFICATION_SCHEMA,e);case b.TX_TYPE.nameClaim:return k(b.NAME_CLAIM_VERIFICATION_SCHEMA,e);default:return[]}}var I=y.a.compose({methods:{verifyTx:function(t,e){return j.apply(this,arguments)},unpackAndVerify:function(t){return E.apply(this,arguments)}}});e.a=I}).call(this,n(24).Buffer)},function(t,e,n){var r=n(21)(n(165)(!0));t.exports=r},function(t,e,n){var r=n(13)((function(t,e){for(var n=0,r=Math.min(t.length,e.length),a={};n<r;)a[t[n]]=e[n],n+=1;return a}));t.exports=r},function(t,e,n){"use strict";var r=n(9),a=n(15),o=n.n(a)()({deepConf:{Contract:{methods:["getOracle","getOracleQueries","getOracleQuery"]}}},Object(r.required)({methods:{getOracle:r.required,getOracleQueries:r.required,getOracleQuery:r.required}}));e.a=o},function(t,e,n){var r=n(98);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e,n){var r=n(13),a=n(146),o=n(68),i=n(42),c=r((function(t,e){return o(t+1,(function(){var n=arguments[t];if(null!=n&&a(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(i(n)+' does not have a method named "'+e+'"')}))}));t.exports=c},function(t,e,n){var r=n(69),a=n(67);t.exports=function t(e,n,o){return function(){for(var i=[],c=0,s=e,u=0;u<n.length||c<arguments.length;){var f;u<n.length&&(!a(n[u])||c>=arguments.length)?f=n[u]:(f=arguments[c],c+=1),i[u]=f,a(f)||(s-=1),u+=1}return s<=0?o.apply(this,i):r(s,t(e,i,o))}}},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(13),a=n(106),o=r((function(t,e){var n=t<0?e.length+t:t;return a(e)?e.charAt(n):e[n]}));t.exports=o},function(t,e,n){var r=n(62)(n(61));t.exports=r},function(t,e,n){var r=n(21),a=n(68),o=r((function(t){return a(t.length,(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))}));t.exports=o},function(t,e,n){var r=n(21),a=n(68),o=r((function(t){return a(t.length,t)}));t.exports=o},function(t,e){t.exports=u},function(t,e){t.exports=f},function(t,e,n){var r=n(77)(0,"toUpperCase");t.exports=r},function(t,e,n){var r=n(13)((function(t,e){return t<e}));t.exports=r},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return f}));var r=n(8),a=n.n(r),o=n(1),i=n.n(o);n(5);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){return{rootHash:t[0].toString("hex"),nodes:t[1].reduce((function(t,e){return s(s({},t),{},i()({},e[0].toString("hex"),e[1]))}),{})}}function f(e){return[t.from(e.rootHash,"hex"),Object.entries(e.nodes).map((function(e){var n=a()(e,2),r=n[0],o=n[1];return[t.from(r,"hex"),o]}))]}}).call(this,n(24).Buffer)},function(t,e,n){var r=n(21),a=n(35),o=r((function(t){var e=[];for(var n in t)a(n,t)&&(e[e.length]=[n,t[n]]);return e}));t.exports=o},function(t,e,n){var r=n(13),a=n(169),o=r((function(t,e){return a((function(t,e,n){return n}),t,e)}));t.exports=o},function(t,e,n){var r=n(109),a=n(13)(r("groupBy",n(110)((function(t,e){return null==t&&(t=[]),t.push(e),t}),null)));t.exports=a},function(t,e,n){var r=n(21)(n(174));t.exports=r},function(t,e,n){var r=n(110)((function(t,e){return e}),null);t.exports=r},function(t,e,n){var r=n(21),a=n(29),o=r((function(t){for(var e=a(t),n=e.length,r=[],o=0;o<n;)r[o]=t[e[o]],o+=1;return r}));t.exports=o},function(t,e,n){var r=n(13)((function(t,e){return null==e||e!=e?t:e}));t.exports=r},function(t,e){t.exports=p},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(t,e,n){for(var r=0,a=n.length;r<a;){if(t(e,n[r]))return!0;r+=1}return!1}},function(t,e){t.exports="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=Array(r);n<r;)a[n]=t(e[n]),n+=1;return a}},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(21),a=n(79),o=n(106),i=r((function(t){return!!a(t)||!!t&&("object"==typeof t&&(!o(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}));t.exports=i},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(13),a=n(45),o=n(103),i=n(61),c=n(163),s=n(68),u=n(29),f=r(a(["fantasy-land/map","map"],c,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return s(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return i((function(n,r){return n[r]=t(e[r]),n}),{},u(e));default:return o(t,e)}})));t.exports=f},function(t,e,n){var r=n(35);t.exports="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,a=arguments.length;n<a;){var o=arguments[n];if(null!=o)for(var i in o)r(i,o)&&(e[i]=o[i]);n+=1}return e}},function(t,e,n){var r=n(79);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var a=arguments[n-1];return r(a)||"function"!=typeof a[t]?e.apply(this,arguments):a[t].apply(a,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(171),a=n(78),o=n(45),i=n(35),c=n(61),s=a(4,[],o([],n(173),(function(t,e,n,a){return c((function(a,o){var c=n(o);return a[c]=t(i(c,a)?a[c]:r(e,[],[],!1),o),a}),{},a)})));t.exports=s},function(t,e,n){var r=n(109),a=n(62)(r("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})));t.exports=a},function(t,e){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"deriveKeyUsingArgon2id",(function(){return y})),n.d(e,"getAddressFromPriv",(function(){return _})),n.d(e,"recover",(function(){return I})),n.d(e,"dump",(function(){return C})),n.d(e,"validateKeyObj",(function(){return N}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(2),s=n.n(c),u=n(20),f=n.n(u),p=n(36),l=n(5),d=n(16);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=n(184),b={crypto:{secret_type:"ed25519",symmetric_alg:"xsalsa20-poly1305",kdf:"argon2id",kdf_params:{memlimit_kib:65536,opslimit:3,parallelism:1}}},g={argon2id:y};function y(t,e,n){return x.apply(this,arguments)}function x(){return(x=s()(a.a.mark((function e(n,r,o){var i,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.kdf_params,c=i.memlimit_kib,u=i.opslimit,e.abrupt("return",v.ready.then(s()(a.a.mark((function e(){var o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(o=v).crypto_pwhash(32,n,r,u,1024*c,o.crypto_pwhash_ALG_ARGON2ID13),e.abrupt("return",t.from(i));case 3:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={"xsalsa20-poly1305":{encrypt:function(t){var e=t.plaintext,n=t.key,r=t.nonce;return f.a.secretbox(e,r,n)},decrypt:function(t){var e=t.ciphertext,n=t.key,r=t.nonce,a=f.a.secretbox.open(e,r,n);if(!a)throw new Error("Invalid password or nonce");return a}}};function O(e,n){return e&&e.constructor===String?(!n&&Object(d.c)(e)&&(n="hex"),!n&&Object(d.b)(e)&&(n="base64"),t.from(e,n)):e}function T(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.crypto.symmetric_alg;if(!w[r])throw new Error(r+" is not available");return w[r].encrypt({plaintext:t,nonce:n,key:e})}function k(t,e,n,r){if(!w[r])throw new Error(r+" is not available");return w[r].decrypt({ciphertext:t,nonce:n,key:e})}function E(t,e){return A.apply(this,arguments)}function A(){return(A=s()(a.a.mark((function t(e,n){var r,o=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:{kdf_params:b.crypto.kdf_params,kdf:b.crypto.kdf},null!=e&&n){t.next=3;break}throw new Error("Must provide password and nonce to derive a key");case 3:if(Object.prototype.hasOwnProperty.call(g,r.kdf)){t.next=5;break}throw new Error("Unsupported kdf type");case 5:return t.abrupt("return",g[r.kdf](e,n,r));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(e,n,r,a,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=Object.assign({},b.crypto,i);return Object.assign({name:e,version:1,public_key:_(r),id:Object(p.v4)()},{crypto:Object.assign({secret_type:c.secret_type,symmetric_alg:c.symmetric_alg,ciphertext:t.from(T(t.from(r),n,a,c.symmetric_alg)).toString("hex"),cipher_params:{nonce:t.from(a).toString("hex")}},{kdf:c.kdf,kdf_params:m(m({},c.kdf_params),{},{salt:t.from(o).toString("hex")})})})}function _(e){var n=f.a.sign.keyPair.fromSecretKey(O(e)),r=t.from(n.publicKey);return"ak_".concat(Object(l.encodeBase58Check)(r))}function I(t,e){return P.apply(this,arguments)}function P(){return(P=s()(a.a.mark((function e(n,r){var o,i,c,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(r),o=Uint8Array.from(O(r.crypto.cipher_params.nonce)),i=Uint8Array.from(O(r.crypto.kdf_params.salt)),c=r.crypto.kdf_params,s=r.crypto.kdf,e.t0=k,e.t1=Uint8Array.from(O(r.crypto.ciphertext)),e.next=9,E(n,i,{kdf:s,kdf_params:c});case 9:return e.t2=e.sent,e.t3=o,e.t4=r.crypto.symmetric_alg,e.next=14,(0,e.t0)(e.t1,e.t2,e.t3,e.t4);case 14:if(u=e.sent){e.next=17;break}throw new Error("Invalid password");case 17:if(64!==t.from(u).length){e.next=19;break}return e.abrupt("return",t.from(u).toString("hex"));case 19:return e.abrupt("return",t.from(u).toString("utf-8"));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(t,e,n){return S.apply(this,arguments)}function S(){return(S=s()(a.a.mark((function t(e,n,r){var o,i,c,s,u=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:f.a.randomBytes(24),i=u.length>4&&void 0!==u[4]?u[4]:f.a.randomBytes(16),c=u.length>5&&void 0!==u[5]?u[5]:{},s=Object.assign({},b.crypto,c),t.t0=j,t.t1=e,t.next=8,E(n,i,s);case 8:return t.t2=t.sent,t.t3=r,t.t4=o,t.t5=i,t.t6=s,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5,t.t6));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){var e=["crypto","id","version","public_key"].filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)}));if(e.length)throw new Error("Invalid key file format. Require properties: ".concat(e));var n=["cipher_params","ciphertext","symmetric_alg","kdf","kdf_params"].filter((function(e){return!Object.prototype.hasOwnProperty.call(t.crypto,e)}));if(n.length)throw new Error("Invalid key file format. Require properties: ".concat(n));return!0}}.call(this,n(24).Buffer)},function(t,e,n){"use strict";(function(t){var r=n(1),a=n.n(r),o=n(20),i=n.n(o),c=n(96),s=n(137),u=n(66),f=n(5);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=t.from("ed25519 seed"),h=function(e){return t.from(e).toString("hex")};function m(t,e){var n=""===t?[]:Object(s.fromString)(t).toPathArray();return n.forEach((function(t,e){if(t<2147483648)throw new Error("Segment #".concat(e+1," is not hardened"))})),n.reduce((function(t,e){return x(t,e)}),e)}function v(t,e){if(!["m","m/"].includes(t.slice(0,2)))throw new Error("Invalid path");var n=y(e);return m(t.slice(2),n)}function b(t){var e=t.secretKey,n=t.publicKey;return{secretKey:h(e),publicKey:"ak_".concat(Object(f.encodeBase58Check)(n))}}function g(t){return i.a.sign.keyPair.fromSeed(t)}function y(t){var e=Object(c.full)(t,d);return{secretKey:e.slice(0,32),chainCode:e.slice(32)}}function x(e,n){var r=e.secretKey,a=e.chainCode;if(n<2147483648)throw new Error("Child index #".concat(n," is not supported"));var o=t.allocUnsafe(4);o.writeUInt32BE(n,0);var i=t.concat([t.alloc(1,0),t.from(r),t.from(o)]),s=Object(c.full)(i,a);return{secretKey:s.slice(0,32),chainCode:s.slice(32)}}e.a={getHdWalletAccountFromMnemonic:function(t,e){var n=v("m/44h/457h",Object(u.mnemonicToSeed)(t));return l(l({},b(g(m("".concat(e,"h/0h/0h"),n).secretKey))),{},{idx:e})},getSaveHDWalletAccounts:function(e,n,r){var a={secretKey:Object(f.decryptKey)(n,t.from(e.secretKey,"hex")),chainCode:Object(f.decryptKey)(n,t.from(e.chainCode,"hex"))};return new Array(r).fill().map((function(t,e){return b(g(m("".concat(e,"h/0h/0h"),a).secretKey))}))},generateSaveHDWallet:function(t,e){if(!Object(u.validateMnemonic)(t))throw new Error("Invalid mnemonic");var n=v("m/44h/457h",Object(u.mnemonicToSeed)(t));return{secretKey:h(Object(f.encryptKey)(e,n.secretKey)),chainCode:h(Object(f.encryptKey)(e,n.chainCode))}},generateMnemonic:function(){return Object(u.generateMnemonic)()},deriveChild:x,getMasterKeyFromSeed:y}}).call(this,n(24).Buffer)},function(t,e){t.exports=l},function(t,e){t.exports=d},function(t,e){t.exports=h},function(t,e,n){var r=n(77)(0,"toLowerCase");t.exports=r},function(t,e,n){var r=n(69),a=n(21),o=n(107),i=n(164),c=n(81),s=a((function(t){var e=c(i,0,o((function(t){return t[0].length}),t));return r(e,(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))}));t.exports=s},function(t,e,n){var r=n(13)((function(t,e){return t<=e}));t.exports=r},function(t,e){t.exports=function(){return!0}},function(t,e,n){var r=n(70),a=n(13),o=n(82),i=n(63),c=a((function(t,e){return i(o(r)(t),e)}));t.exports=c},function(t,e,n){var r=n(101),a=n(13)((function(t,e){for(var n,a=0,o=e.length,i=[];a<o;)n=e[a],r(t,n,i)||(i[i.length]=n),a+=1;return i}));t.exports=a},function(t,e,n){var r=n(102),a=n(13)(r);t.exports=a},function(t,e,n){var r=n(13),a=n(168),o=r((function(t,e){for(var n=[],r=0,o=t.length,i=e.length,c=new a,s=0;s<i;s+=1)c.add(e[s]);for(;r<o;)c.add(t[r])&&(n[n.length]=t[r]),r+=1;return n}));t.exports=o},function(t,e,n){var r=n(108),a=n(21)((function(t){return r.apply(null,[{}].concat(t))}));t.exports=a},function(t,e){t.exports=m},function(t,e,n){var r=n(62)((function(t,e,n){var r={};for(var a in n)r[a]=n[a];return r[t]=e,r}));t.exports=r},function(t,e,n){var r=n(13),a=n(175),o=r((function(t,e){return a([t],e)}));t.exports=o},function(t,e,n){var r=n(13),a=n(45),o=n(176),i=n(111),c=r(a(["drop"],o,(function(t,e){return i(Math.max(0,t),1/0,e)})));t.exports=c},function(t,e,n){var r=n(13),a=n(45),o=n(177),i=r(a([],n(180),o));t.exports=i},function(t,e,n){var r=n(83)((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}));t.exports=r},function(t,e,n){var r=n(13)(n(45)(["find"],n(182),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}})));t.exports=r},function(t,e,n){var r=n(183);t.exports=function(t,e){if(null==t)return{};var n,a,o=r(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e){t.exports=v},function(t,e,n){"use strict";var r,a="object"==typeof Reflect?Reflect:null,o=a&&"function"==typeof a.apply?a.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function p(t,e,n,r){var a,o,i,c;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),i=o[e]),void 0===i)i=o[e]=n,++t._eventsCount;else if("function"==typeof i?i=o[e]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(a=f(t))>0&&i.length>a&&!i.warned){i.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=i.length,c=s,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},a=l.bind(r);return a.listener=n,r.wrapFn=a,a}function h(t,e,n){var r=t._events;if(void 0===r)return[];var a=r[e];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(a):v(a,a.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var c=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw c.context=i,c}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,e);else{var u=s.length,f=v(s,u);for(n=0;n<u;++n)o(f[n],this,e)}return!0},c.prototype.addListener=function(t,e){return p(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return p(this,t,e,!0)},c.prototype.once=function(t,e){return u(e),this.on(t,d(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,d(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,a,o,i;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){i=n[o].listener,a=o;break}if(a<0)return this;0===a?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,a),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,i||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var a,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(a=o[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return h(this,t,!0)},c.prototype.rawListeners=function(t){return h(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},c.prototype.listenerCount=m,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e){t.exports=b},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),i=r[0],c=r[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,c)),f=0,p=c>0?i-4:i;for(n=0;n<p;n+=4)e=a[t.charCodeAt(n)]<<18|a[t.charCodeAt(n+1)]<<12|a[t.charCodeAt(n+2)]<<6|a[t.charCodeAt(n+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;2===c&&(e=a[t.charCodeAt(n)]<<2|a[t.charCodeAt(n+1)]>>4,s[f++]=255&e);1===c&&(e=a[t.charCodeAt(n)]<<10|a[t.charCodeAt(n+1)]<<4|a[t.charCodeAt(n+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,o=[],i=0,c=n-a;i<c;i+=16383)o.push(f(t,i,i+16383>c?c:i+16383));1===a?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,s=i.length;c<s;++c)r[c]=i[c],a[i.charCodeAt(c)]=c;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var a,o,i=[],c=e;c<n;c+=3)a=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),i.push(r[(o=a)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,a){var o,i,c=8*a-r-1,s=(1<<c)-1,u=s>>1,f=-7,p=n?a-1:0,l=n?-1:1,d=t[e+p];for(p+=l,o=d&(1<<-f)-1,d>>=-f,f+=c;f>0;o=256*o+t[e+p],p+=l,f-=8);for(i=o&(1<<-f)-1,o>>=-f,f+=r;f>0;i=256*i+t[e+p],p+=l,f-=8);if(0===o)o=1-u;else{if(o===s)return i?NaN:1/0*(d?-1:1);i+=Math.pow(2,r),o-=u}return(d?-1:1)*i*Math.pow(2,o-r)},e.write=function(t,e,n,r,a,o){var i,c,s,u=8*o-a-1,f=(1<<u)-1,p=f>>1,l=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,i=f):(i=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-i))<1&&(i--,s*=2),(e+=i+p>=1?l/s:l*Math.pow(2,1-p))*s>=2&&(i++,s/=2),i+p>=f?(c=0,i=f):i+p>=1?(c=(e*s-1)*Math.pow(2,a),i+=p):(c=e*Math.pow(2,p-1)*Math.pow(2,a),i=0));a>=8;t[n+d]=255&c,d+=h,c/=256,a-=8);for(i=i<<a|c,u+=a;u>0;t[n+d]=255&i,d+=h,i/=256,u-=8);t[n+d-h]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=y(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var f=s(t,e,n);if("normal"===f.type){if(r=n.done?"completed":"suspendedYield",f.arg===u)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(r="completed",n.method="throw",n.arg=f.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function f(){}function p(){}function l(){}var d={};d[a]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(T([])));m&&m!==e&&n.call(m,a)&&(d=m);var v=l.prototype=f.prototype=Object.create(d);function b(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function g(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var f=u.arg,p=f.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(p).then((function(t){f.value=t,i(f)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function y(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,y(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=v.constructor=l,l.constructor=p,l[i]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(g.prototype),g.prototype[o]=function(){return this},t.AsyncIterator=g,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new g(c(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(v),v[i]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}},function(t,e,n){var r=n(98);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e}},function(t,e,n){var r=n(70),a=n(103),o=n(154),i=n(155),c=n(29),s=n(63);t.exports=function t(e,n){var u=function(a){var o=n.concat([e]);return r(a,o)?"<Circular>":t(a,o)},f=function(t,e){return a((function(e){return o(e)+": "+u(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+a(u,e).join(", ")+"))";case"[object Array]":return"["+a(u,e).concat(f(e,s((function(t){return/^\d+$/.test(t)}),c(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+u(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?u(NaN):o(i(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+u(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+u(e.valueOf())+")":o(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var p=e.toString();if("[object Object]"!==p)return p}return"{"+f(e,c(e)).join(", ")+"}"}}},function(t,e,n){var r=n(149);t.exports=function(t,e,n){var a,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(a=1/e;n<t.length;){if(0===(o=t[n])&&1/o===a)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!=o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(13),a=n(150),o=r((function(t,e){return a(t,e,[],[])}));t.exports=o},function(t,e,n){var r=n(151),a=n(101),o=n(152),i=n(35),c=n(102),s=n(29),u=n(37);function f(t,e,n,o){var i=r(t),c=r(e);function s(t,e){return p(t,e,n.slice(),o.slice())}return!a((function(t,e){return!a(s,e,t)}),c,i)}function p(t,e,n,r){if(c(t,e))return!0;var a=u(t);if(a!==u(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===o(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!c(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!c(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var l=n.length-1;l>=0;){if(n[l]===t)return r[l]===e;l-=1}switch(a){case"Map":return t.size===e.size&&f(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&f(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var d=s(t);if(d.length!==s(e).length)return!1;var h=n.concat([t]),m=r.concat([e]);for(l=d.length-1;l>=0;){var v=d[l];if(!i(v,e)||!p(e[v],t[v],h,m))return!1;l-=1}return!0}t.exports=p},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e,n){var r=n(35),a=Object.prototype.toString,o=function(){return"[object Arguments]"===a.call(arguments)?function(t){return"[object Arguments]"===a.call(t)}:function(t){return r("callee",t)}}();t.exports=o},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e){var n=function(t){return(t<10?"0":"")+t},r="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};t.exports=r},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(13),a=n(45),o=n(159),i=n(104),c=n(61),s=n(162),u=n(29),f=r(a(["filter"],s,(function(t,e){return i(e)?c((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},u(e)):o(t,e)})));t.exports=f},function(t,e){t.exports=function(t){return null!=t&&"function"==typeof t["@@transducer/step"]}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=[];n<r;)t(e[n])&&(a[a.length]=e[n]),n+=1;return a}},function(t,e){var n=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();t.exports=function(t){return new n(t)}},function(t,e,n){var r=n(69),a=n(13)((function(t,e){return r(t.length,(function(){return t.apply(e,arguments)}))}));t.exports=a},function(t,e,n){var r=n(13),a=n(46),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e,n){var r=n(13),a=n(46),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e,n){var r=n(13)((function(t,e){return e>t?e:t}));t.exports=r},function(t,e,n){var r=n(105);t.exports=function(t){return function e(n){for(var a,o,i,c=[],s=0,u=n.length;s<u;){if(r(n[s]))for(i=0,o=(a=t?e(n[s]):n[s]).length;i<o;)c[c.length]=a[i],i+=1;else c[c.length]=n[s];s+=1}return c}}},function(t,e,n){var r=n(13),a=n(167),o=n(80),i=r((function(t,e){return t.map((function(t){for(var n,r=e,i=0;i<t.length;){if(null==r)return;n=t[i],r=a(n)?o(n,r):r[n],i+=1}return r}))}));t.exports=i},function(t,e){t.exports=Number.isInteger||function(t){return t<<0===t}},function(t,e,n){var r=n(70),a=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!o(t,!0,this)},t.prototype.has=function(t){return o(t,!1,this)},t}();function o(t,e,n){var a,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(a=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===a):n._nativeSet.has(t):o in n._items?t in n._items[o]||(e&&(n._items[o][t]=!0),!1):(e&&(n._items[o]={},n._items[o][t]=!0),!1);case"boolean":if(o in n._items){var i=t?1:0;return!!n._items[o][i]||(e&&(n._items[o][i]=!0),!1)}return e&&(n._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(a=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===a):n._nativeSet.has(t):o in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1);case"undefined":return!!n._items[o]||(e&&(n._items[o]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1)}}t.exports=a},function(t,e,n){var r=n(62),a=n(104),o=n(170),i=r((function t(e,n,r){return o((function(n,r,o){return a(r)&&a(o)?t(e,r,o):e(n,r,o)}),n,r)}));t.exports=i},function(t,e,n){var r=n(62),a=n(35),o=r((function(t,e,n){var r,o={};for(r in e)a(r,e)&&(o[r]=a(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)a(r,n)&&!a(r,o)&&(o[r]=n[r]);return o}));t.exports=o},function(t,e,n){var r=n(172),a=n(37);t.exports=function t(e,n,o,i){var c=function(r){for(var a=n.length,c=0;c<a;){if(e===n[c])return o[c];c+=1}for(var s in n[c+1]=e,o[c+1]=r,e)r[s]=i?t(e[s],n,o,!0):e[s];return r};switch(a(e)){case"Object":return c({});case"Array":return c([]);case"Date":return new Date(e.valueOf());case"RegExp":return r(e);default:return e}}},function(t,e){t.exports=function(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}},function(t,e,n){var r=n(78),a=n(35),o=n(46),i=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(a(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),c=r(4,[],(function(t,e,n,r){return new i(t,e,n,r)}));t.exports=c},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(13),a=n(35),o=n(56),i=r((function(t,e){if(0===t.length||o(e))return!1;for(var n=e,r=0;r<t.length;){if(o(n)||!a(t[r],n))return!1;n=n[t[r]],r+=1}return!0}));t.exports=i},function(t,e,n){var r=n(13),a=n(46),o=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e,n){var r=n(178);t.exports=function(t,e){return r(t<e.length?e.length-t:0,e)}},function(t,e,n){var r=n(13),a=n(45),o=n(179),i=n(111),c=r(a(["take"],o,(function(t,e){return i(0,t<0?1/0:t,e)})));t.exports=c},function(t,e,n){var r=n(13),a=n(112),o=n(46),i=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?a(n):n},t}(),c=r((function(t,e){return new i(t,e)}));t.exports=c},function(t,e,n){var r=n(13),a=n(46),o=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),i=r((function(t,e){return new o(t,e)}));t.exports=i},function(t,e){var n,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var s,u=[],f=!1,p=-1;function l(){f&&s&&(f=!1,s.length?u=s.concat(u):p=-1,u.length&&d())}function d(){if(!f){var t=c(l);f=!0;for(var e=u.length;e;){for(s=u,u=[];++p<e;)s&&s[p].run();p=-1,e=u.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||f||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){var r=n(13),a=n(112),o=n(46),i=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=a(this.xf["@@transducer/step"](t,e))),t},t}(),c=r((function(t,e){return new i(t,e)}));t.exports=c},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}},function(t,e){t.exports=g},function(t,e,n){"use strict";n.r(e),n.d(e,"AmountFormatter",(function(){return p})),n.d(e,"Account",(function(){return Mt.a})),n.d(e,"Accounts",(function(){return Dt.a})),n.d(e,"Ae",(function(){return d.a})),n.d(e,"Aens",(function(){return zt})),n.d(e,"Aepp",(function(){return An})),n.d(e,"Bytes",(function(){return o})),n.d(e,"Contract",(function(){return Jt.c})),n.d(e,"ContractCompilerAPI",(function(){return pe.b})),n.d(e,"ContractACI",(function(){return Ga.a})),n.d(e,"ACIHelpers",(function(){return u})),n.d(e,"ACITransformation",(function(){return f})),n.d(e,"ChainNode",(function(){return tt})),n.d(e,"RpcAepp",(function(){return jn})),n.d(e,"RpcWallet",(function(){return er})),n.d(e,"Channel",(function(){return Ka})),n.d(e,"Crypto",(function(){return r})),n.d(e,"Keystore",(function(){return a})),n.d(e,"Chain",(function(){return h.a})),n.d(e,"GeneralizeAccount",(function(){return ce})),n.d(e,"HdWallet",(function(){return l.a})),n.d(e,"MemoryAccount",(function(){return Rt.a})),n.d(e,"Node",(function(){return et.a})),n.d(e,"NodePool",(function(){return _.b})),n.d(e,"Oracle",(function(){return En})),n.d(e,"OracleNodeAPI",(function(){return A})),n.d(e,"Selector",(function(){return Xe.a})),n.d(e,"Transaction",(function(){return Nt})),n.d(e,"TransactionValidator",(function(){return j.a})),n.d(e,"Tx",(function(){return nt.a})),n.d(e,"TxBuilder",(function(){return i})),n.d(e,"TxBuilderHelper",(function(){return c})),n.d(e,"Universal",(function(){return Xa})),n.d(e,"Wallet",(function(){return tr})),n.d(e,"SCHEMA",(function(){return s}));var r=n(5),a=n(113),o=n(17),i=n(14),c=n(7),s=n(3),u=n(28),f=n(48),p=n(25),l=n(114),d=n(19),h=n(53),m=n(0),v=n.n(m),b=n(1),g=n.n(b),y=n(6),x=n.n(y),w=n(2),O=n.n(w);function T(){return(T=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleByPubkey(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function k(){return(k=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueriesByPubkey(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function E(){return(E=O()(v.a.mark((function t(e,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueryByPubkeyAndQueryId(e,n));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var A=n(75).a.compose({methods:{getOracle:function(t){return T.apply(this,arguments)},getOracleQueries:function(t){return k.apply(this,arguments)},getOracleQuery:function(t,e){return E.apply(this,arguments)}}}),j=n(72),_=n(41),I=function(t){return new Promise((function(e){return setTimeout(e,t)}))};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(){return(S=O()(v.a.mark((function t(e){var n,r,a,o,i,c,s,u,f,p,l,d=this,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},r=x()(this.Ae.defaults,n),a=r.waitMined,!((o=r.verify)||"boolean"!=typeof o&&this.verifyTxBeforeSend)){t.next=11;break}return t.next=5,this.unpackAndVerify(e);case 5:if(i=t.sent,c=i.validation,s=i.tx,u=i.txType,!c.length){t.next=11;break}throw Object.assign(Error("Transaction verification error: "+JSON.stringify(c)),{code:"TX_VERIFICATION_ERROR",errorData:{validation:c,tx:s,txType:u},txHash:e});case 11:return t.prev=11,t.next=14,this.api.postTransaction({tx:e});case 14:if(f=t.sent,p=f.txHash,!a){t.next=37;break}return t.t0=C,t.t1=C,t.t2={},t.next=22,this.poll(p,n);case 22:if(t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.t6={rawTx:e},l=(0,t.t0)(t.t4,t.t5,t.t6),!n.confirm){t.next=36;break}return t.t7=C,t.t8=C({},l),t.t9={},t.next=33,this.waitForTxConfirm(p,n);case 33:return t.t10=t.sent,t.t11={confirmationHeight:t.t10},t.abrupt("return",(0,t.t7)(t.t8,t.t9,t.t11));case 36:return t.abrupt("return",l);case 37:return t.abrupt("return",{hash:p,rawTx:e});case 40:throw t.prev=40,t.t12=t.catch(11),Object.assign(t.t12,{rawTx:e,verifyTx:function(){return d.unpackAndVerify(e)}});case 43:case"end":return t.stop()}}),t,this,[[11,40]])})))).apply(this,arguments)}function N(){return(N=O()(v.a.mark((function t(e){var n,r,a,o=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=o.length>1&&void 0!==o[1]?o[1]:{confirm:3}).confirm=!0===n.confirm?3:n.confirm,t.next=4,this.tx(e);case 4:return r=t.sent,a=r.blockHeight,t.abrupt("return",this.awaitHeight(a+n.confirm,n));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function M(){return(M=O()(v.a.mark((function t(e){var n,r,a,o=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.height,a=n.hash,!r){t.next=3;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHeight(e,r));case 3:if(!a){t.next=5;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHash(e,a));case 5:return t.abrupt("return",this.api.getAccountByPubkey(e));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function D(){return(D=O()(v.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,o=n.format,i=void 0===o?p.AE_AMOUNT_FORMATS.AETTOS:o,t.next=3,this.getAccount(e,{hash:a,height:r});case 3:return c=t.sent,s=c.balance,t.abrupt("return",Object(p.formatAmount)(s,{targetDenomination:i}).toString());case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function R(){return(R=O()(v.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,o=n.format,i=void 0===o?p.AE_AMOUNT_FORMATS.AETTOS:o,t.next=3,this.getAccount(e,{hash:a,height:r}).catch((function(t){return{balance:0}}));case 3:return c=t.sent,s=c.balance,t.abrupt("return",Object(p.formatAmount)(s,{targetDenomination:i}).toString());case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function B(){return(B=O()(v.a.mark((function t(e){var n,r,a=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],t.next=3,this.api.getTransactionByHash(e);case 3:if(r=t.sent,!["ContractCreateTx","ContractCallTx","ChannelForceProgressTx"].includes(r.tx.type)||!n||-1===r.blockHeight){t.next=16;break}return t.prev=5,t.t0=C,t.t1=C({},r),t.next=10,this.getTxInfo(e);case 10:return t.t2=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 14:t.prev=14,t.t3=t.catch(5);case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,this,[[5,14]])})))).apply(this,arguments)}function F(){return(F=O()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getCurrentKeyBlockHeight();case 2:return t.abrupt("return",t.sent.height);case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function V(){return(V=O()(v.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.interval,a=void 0===r?5e3:r,o=n.attempts,i=void 0===o?20:o,s=0;case 2:if(!(s<i)){t.next=14;break}if(!s){t.next=6;break}return t.next=6,I(a);case 6:return t.next=8,this.height();case 8:if(!((c=t.sent)>=e)){t.next=11;break}return t.abrupt("return",c);case 11:s++,t.next=2;break;case 14:throw Error("Giving up after ".concat((i-1)*a,"ms, current height: ").concat(c,", desired height: ").concat(e));case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function L(){return(L=O()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Object,t.next=3,this.api.getTopBlock();case 3:return t.t1=t.sent,t.abrupt("return",t.t0.values.call(t.t0,t.t1)[0]);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function U(){return(U=O()(v.a.mark((function t(e){var n,r,a,o,i,c,s,u,f,p=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},r=n.blocks,a=void 0===r?10:r,o=n.interval,i=void 0===o?5e3:o,c=n.allowUnsynced,s=void 0!==c&&c,t.next=3,this.height();case 3:t.t0=t.sent,t.t1=a,u=t.t0+t.t1;case 6:return t.next=8,this.tx(e).catch((function(t){return null}));case 8:if(!(f=t.sent)||!(-1!==f.blockHeight||s&&f.height)){t.next=11;break}return t.abrupt("return",f);case 11:return t.next=13,I(i);case 13:return t.next=15,this.height();case 15:if(t.t2=t.sent,t.t3=u,t.t2<t.t3){t.next=6;break}case 18:throw new Error("Giving up after ".concat(a," blocks mined, transaction hash: ").concat(e));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Y(){return(Y=O()(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getTransactionInfoByHash(e);case 2:return n=t.sent,t.abrupt("return",n.callInfo||n);case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function q(){return(q=O()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getPendingTransactions());case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function H(){return(H=O()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getCurrentGeneration());case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function K(){return(K=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getGenerationByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getGenerationByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function X(){return(X=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getMicroBlockTransactionsByHash(e);case 2:return t.abrupt("return",t.sent.transactions);case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function G(){return(G=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getKeyBlockByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getKeyBlockByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function W(){return(W=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getMicroBlockHeaderByHash(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Q(){return(Q=O()(v.a.mark((function t(e,n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.dryRunTxs({txs:e.map((function(t){return{tx:t}})),accounts:n,top:r}));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function z(){return(z=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContractCode(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function J(){return(J=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContract(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function $(){return($=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getNameEntryByName(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Z(){return(Z=O()(v.a.mark((function t(e,n){var a,o,i,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=h.length>2&&void 0!==h[2]?h[2]:{},o=a.verify,i=void 0!==o&&o,u=a.resolveByNode,f=void 0!==u&&u,p=Object.keys(s.NAME_ID_KEY),e&&"string"==typeof e){t.next=4;break}throw new Error("Invalid name or address. Should be a string");case 4:if(p.includes(n)){t.next=6;break}throw new Error("Invalid prefix ".concat(n,". Should be one of [").concat(p,"]"));case 6:if(!Object(r.assertedType)(e,n,!0)){t.next=8;break}return t.abrupt("return",e);case 8:if(!Object(c.isNameValid)(e)){t.next=20;break}if(!f&&!i){t.next=19;break}return t.next=12,this.getName(e).catch((function(t){return null}));case 12:if(l=t.sent){t.next=15;break}throw new Error("Name not found");case 15:if(d=l.pointers.find((function(t){return t.id.split("_")[0]===n}))){t.next=18;break}throw new Error("Name ".concat(e," do not have pointers for ").concat(n));case 18:return t.abrupt("return",d.id);case 19:return t.abrupt("return",Object(c.produceNameId)(e));case 20:throw new Error("Invalid name or address");case 21:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var tt=h.a.compose(A,j.a,_.b,{init:function(t){var e=t.verifyTx,n=void 0===e||e;this.verifyTxBeforeSend=n},methods:{sendTransaction:function(t){return S.apply(this,arguments)},balance:function(t){return D.apply(this,arguments)},getBalance:function(t){return R.apply(this,arguments)},getAccount:function(t){return M.apply(this,arguments)},topBlock:function(){return L.apply(this,arguments)},tx:function(t){return B.apply(this,arguments)},height:function(){return F.apply(this,arguments)},awaitHeight:function(t){return V.apply(this,arguments)},poll:function(t){return U.apply(this,arguments)},getTxInfo:function(t){return Y.apply(this,arguments)},mempool:function(){return q.apply(this,arguments)},getCurrentGeneration:function(){return H.apply(this,arguments)},getGeneration:function(t){return K.apply(this,arguments)},getMicroBlockHeader:function(t){return W.apply(this,arguments)},getMicroBlockTransactions:function(t){return X.apply(this,arguments)},getKeyBlock:function(t){return G.apply(this,arguments)},txDryRun:function(t,e,n){return Q.apply(this,arguments)},getContractByteCode:function(t){return z.apply(this,arguments)},getContract:function(t){return J.apply(this,arguments)},getName:function(t){return $.apply(this,arguments)},waitForTxConfirm:function(t){return N.apply(this,arguments)},resolveName:function(t,e){return Z.apply(this,arguments)}}}),et=n(54),nt=n(40),rt=n(32),at=n.n(rt),ot=n(11),it=n.n(ot),ct=n(33),st=n.n(ct),ut=n(18);function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(){return(lt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.senderId,r=e.recipientId,a=e.amount,o=e.payload,i=void 0===o?"":o,t.next=3,this.prepareTxParams(s.TX_TYPE.spend,pt(pt({senderId:n},it()(h)),{},{payload:i}));case 3:if(c=t.sent,u=c.fee,f=c.ttl,p=c.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:x()(it()(h),{recipientId:r,senderId:n,nonce:p,ttl:f,payload:i}),type:s.TX_TYPE.spend}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postSpend(x()(it()(h),{amount:parseInt(a),recipientId:r,senderId:n,nonce:p,ttl:f,fee:parseInt(u),payload:i}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function dt(){return(dt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.commitmentId,t.next=3,this.prepareTxParams(s.TX_TYPE.namePreClaim,pt({senderId:n},it()(f)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,i=r.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:x()(it()(f),{nonce:i,ttl:o,fee:a}),type:s.TX_TYPE.namePreClaim}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNamePreclaim(x()(it()(f),{nonce:i,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return c=t.t0,u=c.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ht(){return(ht=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p,l=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.name,e.nameSalt,r=e.vsn,a=void 0===r?2:r,t.next=3,this.prepareTxParams(s.TX_TYPE.nameClaim,pt(pt({senderId:n},it()(l)),{},{vsn:a}));case 3:if(o=t.sent,i=o.fee,c=o.ttl,u=o.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:x()(it()(l),{nonce:u,ttl:c,fee:i,vsn:a}),type:s.TX_TYPE.nameClaim}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameClaim(x()(it()(l),{nonce:u,ttl:c,fee:parseInt(i)}));case 13:t.t0=t.sent;case 14:return f=t.t0,p=f.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function mt(){return(mt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,r=e.recipientId,t.next=3,this.prepareTxParams(s.TX_TYPE.nameTransfer,pt({senderId:n},it()(p)));case 3:if(a=t.sent,o=a.fee,i=a.ttl,c=a.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:x()(it()(p),{recipientId:r,nonce:c,ttl:i,fee:o}),type:s.TX_TYPE.nameTransfer}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameTransfer(x()(it()(p),{recipientId:r,nonce:c,ttl:i,fee:parseInt(o)}));case 13:t.t0=t.sent;case 14:return u=t.t0,f=u.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function vt(){return(vt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,e.nameTtl,e.pointers,e.clientTtl,t.next=3,this.prepareTxParams(s.TX_TYPE.nameUpdate,pt({senderId:n},it()(f)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,i=r.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:x()(it()(f),{nonce:i,ttl:o,fee:a}),type:s.TX_TYPE.nameUpdate}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameUpdate(x()(it()(f),{nonce:i,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return c=t.t0,u=c.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function bt(){return(bt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,t.next=3,this.prepareTxParams(s.TX_TYPE.nameRevoke,pt({senderId:n},it()(f)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,i=r.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:x()(it()(f),{nonce:i,ttl:o,fee:a}),type:s.TX_TYPE.nameRevoke}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameRevoke(x()(it()(f),{nonce:i,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return c=t.t0,u=c.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function gt(){return(gt=O()(v.a.mark((function t(e){var n,r,a,o,i,u,f,p,l,d=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.deposit,e.amount,r=e.gas,a=e.gasPrice,o=void 0===a?s.MIN_GAS_PRICE:a,e.callData,e.backend,i=this.getVmVersion(s.TX_TYPE.contractCreate,it()(d)),t.next=4,this.prepareTxParams(s.TX_TYPE.contractCreate,pt(pt({senderId:n},it()(d)),{},{ctVersion:i,gasPrice:o}));case 4:return u=t.sent,f=u.fee,p=u.ttl,l=u.nonce,t.abrupt("return",this.nativeMode?pt(pt({},{tx:Object(ut.a)({params:x()(it()(d),{nonce:l,ttl:p,fee:f,ctVersion:i,gasPrice:o}),type:s.TX_TYPE.contractCreate}).encodedTx}),{},{contractId:Object(c.buildContractId)(n,l)}):this.api.postContractCreate(x()(it()(d),{nonce:l,ttl:p,fee:parseInt(f),gas:parseInt(r),gasPrice:o,vmVersion:i.vmVersion,abiVersion:i.abiVersion})));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function yt(){return(yt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.callerId,e.contractId,e.abiVersion,e.amount,r=e.gas,a=e.gasPrice,o=void 0===a?s.MIN_GAS_PRICE:a,e.callData,e.backend,i=this.getVmVersion(s.TX_TYPE.contractCall,it()(h)),t.next=4,this.prepareTxParams(s.TX_TYPE.contractCall,pt(pt({senderId:n},it()(h)),{},{gasPrice:o,abiVersion:i.abiVersion}));case 4:if(c=t.sent,u=c.fee,f=c.ttl,p=c.nonce,!this.nativeMode){t.next=12;break}t.t0={tx:Object(ut.a)({params:x()(it()(h),{nonce:p,ttl:f,fee:u,abiVersion:i.abiVersion,gasPrice:o}),type:s.TX_TYPE.contractCall}).encodedTx},t.next=15;break;case 12:return t.next=14,this.api.postContractCall(x()(it()(h),{nonce:p,ttl:f,fee:parseInt(u),gas:parseInt(r),gasPrice:o,abiVersion:i.abiVersion}));case 14:t.t0=t.sent;case 15:return l=t.t0,d=l.tx,t.abrupt("return",d);case 18:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xt(){return(xt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p,l,d,h,m,b=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,r=e.queryFormat,a=e.responseFormat,o=e.queryFee,i=e.oracleTtl,c=e.abiVersion,u=void 0===c?s.ABI_VERSIONS.NO_ABI:c,t.next=3,this.prepareTxParams(s.TX_TYPE.oracleRegister,pt(pt({senderId:n},it()(b)),{},{abiVersion:u}));case 3:if(f=t.sent,p=f.fee,l=f.ttl,d=f.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:{accountId:n,queryFee:o,abiVersion:u,fee:p,oracleTtl:i,nonce:d,ttl:l,queryFormat:r,responseFormat:a},type:s.TX_TYPE.oracleRegister}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleRegister({accountId:n,queryFee:o,abiVersion:u,fee:parseInt(p),oracleTtl:i,nonce:d,ttl:l,queryFormat:r,responseFormat:a});case 13:t.t0=t.sent;case 14:return h=t.t0,m=h.tx,t.abrupt("return",m);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function wt(){return(wt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p,l=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.oracleTtl,t.next=3,this.prepareTxParams(s.TX_TYPE.oracleExtend,pt({senderId:r},it()(l)));case 3:if(o=t.sent,i=o.fee,c=o.ttl,u=o.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:{oracleId:n,fee:i,oracleTtl:a,nonce:u,ttl:c},type:s.TX_TYPE.oracleExtend}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleExtend({oracleId:n,fee:parseInt(i),oracleTtl:a,nonce:u,ttl:c});case 13:t.t0=t.sent;case 14:return f=t.t0,p=f.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ot(){return(Ot=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p,l,d,h,m=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.responseTtl,a=e.query,o=e.queryTtl,i=e.queryFee,c=e.senderId,t.next=3,this.prepareTxParams(s.TX_TYPE.oracleQuery,pt({senderId:c},it()(m)));case 3:if(u=t.sent,f=u.fee,p=u.ttl,l=u.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:{oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:f,queryFee:i,ttl:p,nonce:l,senderId:c},type:s.TX_TYPE.oracleQuery}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleQuery({oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:parseInt(f),queryFee:i,ttl:p,nonce:l,senderId:c});case 13:t.t0=t.sent;case 14:return d=t.t0,h=d.tx,t.abrupt("return",h);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Tt(){return(Tt=O()(v.a.mark((function t(e){var n,r,a,o,i,c,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.responseTtl,o=e.queryId,i=e.response,t.next=3,this.prepareTxParams(s.TX_TYPE.oracleResponse,pt({senderId:r},it()(h)));case 3:if(c=t.sent,u=c.fee,f=c.ttl,p=c.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:Object(ut.a)({params:{oracleId:n,responseTtl:a,queryId:o,response:i,fee:u,ttl:f,nonce:p},type:s.TX_TYPE.oracleResponse}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleRespond({oracleId:n,responseTtl:a,queryId:o,response:i,fee:parseInt(u),ttl:f,nonce:p});case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function kt(){return(kt=O()(v.a.mark((function t(e){var n,r,a,o,c,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,o=e.poi,t.next=3,this.prepareTxParams(s.TX_TYPE.channelCloseSolo,pt(pt({senderId:r},it()(h)),{},{payload:a}));case 3:if(c=t.sent,u=c.fee,f=c.ttl,p=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(i.buildTx)(x()(it()(h),{channelId:n,fromId:r,payload:a,poi:o,ttl:f,fee:u,nonce:p}),s.TX_TYPE.channelCloseSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelCloseSolo(x()(it()(h),{channelId:n,fromId:r,payload:a,poi:o,ttl:f,fee:parseInt(u),nonce:p}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Et(){return(Et=O()(v.a.mark((function t(e){var n,r,a,o,c,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,o=e.poi,t.next=3,this.prepareTxParams(s.TX_TYPE.channelSlash,pt(pt({senderId:r},it()(h)),{},{payload:a}));case 3:if(c=t.sent,u=c.fee,f=c.ttl,p=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(i.buildTx)(x()(it()(h),{channelId:n,fromId:r,payload:a,poi:o,ttl:f,fee:u,nonce:p}),s.TX_TYPE.channelSlash),t.next=14;break;case 11:return t.next=13,this.api.postChannelSlash(x()(it()(h),{channelId:n,fromId:r,payload:a,poi:o,ttl:f,fee:parseInt(u),nonce:p}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function At(){return(At=O()(v.a.mark((function t(e){var n,r,a,o,c,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.initiatorAmountFinal,o=e.responderAmountFinal,t.next=3,this.prepareTxParams(s.TX_TYPE.channelSettle,pt({senderId:r},it()(h)));case 3:if(c=t.sent,u=c.fee,f=c.ttl,p=c.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(i.buildTx)(x()(it()(h),{channelId:n,fromId:r,initiatorAmountFinal:a,responderAmountFinal:o,ttl:f,fee:u,nonce:p}),s.TX_TYPE.channelSettle),t.next=14;break;case 11:return t.next=13,this.api.postChannelSettle(x()(it()(h),{channelId:n,fromId:r,initiatorAmountFinal:parseInt(a),responderAmountFinal:parseInt(o),ttl:f,fee:parseInt(u),nonce:p}));case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function jt(){return(jt=O()(v.a.mark((function t(e){var n,r,a,o,c,u,f,p,l,d=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,t.next=3,this.prepareTxParams(s.TX_TYPE.channelSnapshotSolo,pt(pt({senderId:r},it()(d)),{},{payload:a}));case 3:if(o=t.sent,c=o.fee,u=o.ttl,f=o.nonce,!this.nativeMode){t.next=11;break}t.t0=Object(i.buildTx)(x()(it()(d),{channelId:n,fromId:r,payload:a,ttl:u,fee:c,nonce:f}),s.TX_TYPE.channelSnapshotSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelSnapshotSolo(x()(it()(d),{channelId:n,fromId:r,payload:a,ttl:u,fee:parseInt(c),nonce:f}));case 13:t.t0=t.sent;case 14:return p=t.t0,l=p.tx,t.abrupt("return",l);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _t(){return(_t=O()(v.a.mark((function t(e){var n,r,a,o,i,u,f,p,l=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.authFun,e.gas,r=e.gasPrice,a=void 0===r?s.MIN_GAS_PRICE:r,e.callData,e.backend,o=this.getVmVersion(s.TX_TYPE.contractCreate,it()(l)),t.next=4,this.prepareTxParams(s.TX_TYPE.gaAttach,pt(pt({senderId:n},it()(l)),{},{ctVersion:o,gasPrice:a}));case 4:return i=t.sent,u=i.fee,f=i.ttl,p=i.nonce,t.abrupt("return",pt(pt({},{tx:Object(ut.a)({params:x()(it()(l),{nonce:p,ttl:f,fee:u,ctVersion:o,gasPrice:a}),type:s.TX_TYPE.gaAttach}).encodedTx}),{},{contractId:Object(c.buildContractId)(n,p)}));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function It(){return Pt.apply(this,arguments)}function Pt(){return(Pt=O()(v.a.mark((function t(){var e,n,r,a,o=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:s.TX_TTL,n=!(o.length>1&&void 0!==o[1])||o[1],0!==e){t.next=4;break}return t.abrupt("return",0);case 4:if(!(e<0)){t.next=6;break}throw new Error("ttl must be greater than 0");case 6:if(!n){t.next=12;break}return t.next=9,this.api.getCurrentKeyBlock();case 9:return r=t.sent,a=r.height,t.abrupt("return",+a+e);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ct(){return(Ct=O()(v.a.mark((function t(e,n){var r,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,this.api.getAccountByPubkey(e).catch((function(){return{nonce:0}}));case 4:return r=t.sent,a=r.nonce,t.abrupt("return",a+1);case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function St(){return(St=O()(v.a.mark((function t(e,n){var r,a,o,c,s,u,f,p,l,d,h=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.senderId,a=n.nonce,o=n.ttl,c=n.fee,s=n.gas,u=n.absoluteTtl,f=n.vsn,t.next=3,this.getAccount(r).catch((function(t){return{nonce:0}}));case 3:return p=t.sent,a=p.contractId?0:a||p.nonce+1,t.next=7,It.call(this,o,!u);case 7:return l=t.sent,d=Object(i.calculateFee)(c,e,{showWarning:this.showWarning,gas:s,params:x()(at()(h),{nonce:a,ttl:l}),vsn:f}),t.abrupt("return",{fee:d,ttl:l,nonce:a});case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Nt=tt.compose(nt.a,{init:function(t){var e=t.nativeMode,n=void 0===e||e,r=t.showWarning,a=void 0!==r&&r;this.nativeMode=n,this.showWarning=a},props:{nativeMode:!0,showWarning:!1},methods:{spendTx:function(t){return lt.apply(this,arguments)},namePreclaimTx:function(t){return dt.apply(this,arguments)},nameClaimTx:function(t){return ht.apply(this,arguments)},nameTransferTx:function(t){return mt.apply(this,arguments)},nameUpdateTx:function(t){return vt.apply(this,arguments)},nameRevokeTx:function(t){return bt.apply(this,arguments)},contractCreateTx:function(t){return gt.apply(this,arguments)},contractCallTx:function(t){return yt.apply(this,arguments)},prepareTxParams:function(t,e){return St.apply(this,arguments)},oracleRegisterTx:function(t){return xt.apply(this,arguments)},oracleExtendTx:function(t){return wt.apply(this,arguments)},oraclePostQueryTx:function(t){return Ot.apply(this,arguments)},oracleRespondTx:function(t){return Tt.apply(this,arguments)},channelCloseSoloTx:function(t){return kt.apply(this,arguments)},channelSlashTx:function(t){return Et.apply(this,arguments)},channelSettleTx:function(t){return At.apply(this,arguments)},channelSnapshotSoloTx:function(t){return jt.apply(this,arguments)},gaAttachTx:function(t){return _t.apply(this,arguments)},getAccountNonce:function(t,e){return Ct.apply(this,arguments)},getVmVersion:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.vmVersion,r=e.abiVersion,a=e.backend,o=this.getNodeInfo(),i=o.consensusProtocolVersion,c=s.PROTOCOL_VM_ABI[i];if(!c)throw new Error("Not supported consensus protocol version");var u=c[t];if(!u)throw new Error("Not supported tx type");var f={abiVersion:void 0!==r?r:a===s.VM_TYPE.AEVM?u.abiVersion[1]:(s.VM_TYPE.FATE,u.abiVersion[0]),vmVersion:void 0!==n?n:a===s.VM_TYPE.AEVM?u.vmVersion[1]:(s.VM_TYPE.FATE,u.vmVersion[0])};if(u.vmVersion.length&&!st()(f.vmVersion,u.vmVersion))throw new Error("VM VERSION ".concat(f.vmVersion," do not support by this node. Supported: [").concat(u.vmVersion,"]"));if(u.abiVersion.length&&!st()(f.abiVersion,u.abiVersion))throw new Error("ABI VERSION ".concat(f.abiVersion," do not support by this node. Supported: [").concat(u.abiVersion,"]"));return f}}}),Mt=n(30),Dt=n(38),Rt=n(52),Bt=n(31),Ft=n.n(Bt),Vt=n(10),Lt=n.n(Vt);function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qt(){return(qt=O()(v.a.mark((function t(e){var n,r,a,o=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},Object(c.isNameValid)(e),r=x()(this.Ae.defaults,n),t.t0=this,t.t1=x.a,t.t2=r,t.t3=Object(c.produceNameId)(e),t.next=9,this.address(r);case 9:return t.t4=t.sent,t.t5={nameId:t.t3,accountId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=14,t.t0.nameRevokeTx.call(t.t0,t.t6);case 14:return a=t.sent,t.abrupt("return",this.send(a,r));case 16:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ht(){return(Ht=O()(v.a.mark((function t(e){var n,r,a,o,i=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:[],r=i.length>2&&void 0!==i[2]?i[2]:{extendPointers:!1},Object(c.isNameValid)(e),a=x()(this.Ae.defaults,r),Object(c.validatePointers)(n)){t.next=6;break}throw new Error("Invalid pointers array");case 6:if(t.t0=[],t.t1=Lt.a,!r.extendPointers){t.next=14;break}return t.next=11,this.getName(e);case 11:t.t2=t.sent.pointers,t.next=15;break;case 14:t.t2=[];case 15:return t.t3=t.t2,t.t4=(0,t.t1)(t.t3),t.t5=Lt()(n.map((function(t){return Ft()([["id",t],["key",Object(c.classify)(t)]])}))),n=t.t0.concat.call(t.t0,t.t4,t.t5).reduce((function(t,e){return[].concat(Lt()(t.filter((function(t){return t.key!==e.key}))),[e])}),[]),t.t6=this,t.t7=x.a,t.t8=a,t.t9=Object(c.produceNameId)(e),t.next=25,this.address(a);case 25:return t.t10=t.sent,t.t11=n,t.t12={nameId:t.t9,accountId:t.t10,pointers:t.t11},t.t13=(0,t.t7)(t.t8,t.t12),t.next=31,t.t6.nameUpdateTx.call(t.t6,t.t13);case 31:return o=t.sent,t.abrupt("return",this.send(o,a));case 33:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Kt(){return(Kt=O()(v.a.mark((function t(e,n){var r,a,o,i=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},Object(c.isNameValid)(e),a=x()(this.Ae.defaults,r),t.t0=this,t.t1=x.a,t.t2=a,t.t3=Object(c.produceNameId)(e),t.next=9,this.address(a);case 9:return t.t4=t.sent,t.t5=n,t.t6={nameId:t.t3,accountId:t.t4,recipientId:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=15,t.t0.nameTransferTx.call(t.t0,t.t7);case 15:return o=t.sent,t.abrupt("return",this.send(o,a));case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Xt(){return(Xt=O()(v.a.mark((function t(e){var n,r,a=this,o=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},Object(c.isNameValid)(e),t.next=4,this.getName(e);case 4:return r=t.sent,t.abrupt("return",Object.freeze(Object.assign(r,{pointers:r.pointers||[],update:function(){var t=O()(v.a.mark((function t(){var r,o,i=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:[],o=i.length>1&&void 0!==i[1]?i[1]:{},t.t0=Yt,t.t1=Yt,t.t2={},t.next=7,a.aensUpdate(e,r,x()(n,o));case 7:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=11,a.aensQuery(e);case 11:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),transfer:function(){var t=O()(v.a.mark((function t(r){var o,i=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>1&&void 0!==i[1]?i[1]:{},t.t0=Yt,t.t1=Yt,t.t2={},t.next=6,a.aensTransfer(e,r,x()(n,o));case 6:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=10,a.aensQuery(e);case 10:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),revoke:function(){var t=O()(v.a.mark((function t(){var r,o=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},t.abrupt("return",a.aensRevoke(e,x()(n,r)));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),extendTtl:function(){var t=O()(v.a.mark((function t(){var o,i,c=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=c.length>0&&void 0!==c[0]?c[0]:s.NAME_TTL,i=c.length>1&&void 0!==c[1]?c[1]:{},o&&"number"==typeof o&&!(o>s.NAME_TTL)){t.next=4;break}throw new Error("Ttl must be an number and less then 50000 blocks");case 4:return t.t0=Yt,t.t1=Yt,t.t2={},t.next=9,a.aensUpdate(e,r.pointers.map((function(t){return t.id})),Yt(Yt({},x()(n,i)),{},{nameTtl:o}));case 9:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=13,a.aensQuery(e);case 13:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Gt(){return(Gt=O()(v.a.mark((function t(e,n){var r,a,o,i,s,u,f=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:{vsn:2},Object(c.isNameValid)(e),a=x()(this.Ae.defaults,r),o=Object(c.getMinimumNameFee)(e),a.nameFee===this.Ae.defaults.nameFee||!o.gt(a.nameFee)){t.next=6;break}throw new Error("the provided fee ".concat(a.nameFee," is not enough to execute the claim, required: ").concat(o));case 6:return a.nameFee=a.nameFee!==this.Ae.defaults.nameFee?a.nameFee:o,t.t0=this,t.t1=x.a,t.t2=a,t.next=12,this.address(a);case 12:return t.t3=t.sent,t.t4=n,t.t5=Object(c.encode)(e,"nm"),t.t6={accountId:t.t3,nameSalt:t.t4,name:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=19,t.t0.nameClaimTx.call(t.t0,t.t7);case 19:return i=t.sent,t.next=22,this.send(i,a);case 22:if(s=t.sent,Object(c.isAuctionName)(e)){t.next=34;break}if(delete a.vsn,!a.waitMined){t.next=31;break}return t.next=28,this.aensQuery(e,a);case 28:t.t8=t.sent,t.next=32;break;case 31:t.t8={};case 32:return u=t.t8,t.abrupt("return",Object.assign(s,u));case 34:return t.abrupt("return",Yt(Yt({},s),{},{nameFee:a.nameFee}));case 35:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Wt(){return(Wt=O()(v.a.mark((function t(e){var n,a,o,i,s,u,f,p=this,l=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},Object(c.isNameValid)(e),a=x()(this.Ae.defaults,n),o=Object(r.salt)(),t.next=6,this.height();case 6:return i=t.sent,s=Object(c.commitmentHash)(e,o),t.t0=this,t.t1=x.a,t.t2=a,t.next=13,this.address(a);case 13:return t.t3=t.sent,t.t4=s,t.t5={accountId:t.t3,commitmentId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=19,t.t0.namePreclaimTx.call(t.t0,t.t6);case 19:return u=t.sent,t.next=22,this.send(u,a);case 22:return f=t.sent,t.abrupt("return",Object.freeze(Yt(Yt({},f),{},{height:i,claim:function(t){return p.aensClaim(e,o,Yt(Yt({},t),{},{onAccount:a.onAccount}))},salt:o,commitmentId:s})));case 24:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Qt(){return(Qt=O()(v.a.mark((function t(e){var n,r,a=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:s.NAME_FEE,r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.aensClaim(e,0,Yt(Yt({},r),{},{nameFee:n,vsn:2})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var zt=d.a.compose({methods:{aensQuery:function(t){return Xt.apply(this,arguments)},aensPreclaim:function(t){return Wt.apply(this,arguments)},aensClaim:function(t,e){return Gt.apply(this,arguments)},aensUpdate:function(t){return Ht.apply(this,arguments)},aensTransfer:function(t,e){return Kt.apply(this,arguments)},aensRevoke:function(t){return qt.apply(this,arguments)},aensBid:function(t){return Qt.apply(this,arguments)}},deepProps:{Ae:{defaults:{clientTtl:s.CLIENT_TTL,nameTtl:s.NAME_TTL,nameFee:s.NAME_FEE}}}}),Jt=n(26),$t=n(12),Zt=n.n($t),te=n(4),ee=n.n(te),ne=function(t){return function(){var e=O()(v.a.mark((function e(n,r){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===Zt()(n)){e.next=2;break}throw new Error("AuthData must be an object");case 2:if(!n.gas||!ee()(n.gas).gt(s.MAX_AUTH_FUN_GAS)){e.next=4;break}throw new Error("the maximum gas value for ga authFun is ".concat(s.MAX_AUTH_FUN_GAS,", got ").concat(n.gas));case 4:if(a=n.gas||s.MAX_AUTH_FUN_GAS,!n.callData){e.next=11;break}if("cb"===n.callData.split("_")[0]){e.next=8;break}throw new Error('Auth data must be a string with "cb" prefix.');case 8:return e.abrupt("return",{authCallData:n.callData,gas:a});case 11:if(n.source&&n.args){e.next=13;break}throw new Error("Auth data must contain source code and arguments.");case 13:return e.next=15,t.contractEncodeCall(n.source,r,n.args);case 15:return e.t0=e.sent,e.t1=a,e.abrupt("return",{authCallData:e.t0,gas:e.t1});case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},re=function(t){return function(){var e=O()(v.a.mark((function e(n,a){var o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contractCompile(n);case 2:return o=e.sent,i=o.bytecode,e.abrupt("return",{bytecode:i,authFun:Object(r.hash)(a)});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ae=function(t){return Object(i.buildTx)({encodedTx:t,signatures:[]},s.TX_TYPE.signed)};function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ce=Jt.a.compose({methods:{createGeneralizeAccount:function(t,e,n){return ue.apply(this,arguments)},createMetaTx:function(t,e,n){return fe.apply(this,arguments)},isGA:function(t){return se.apply(this,arguments)}}});function se(){return(se=O()(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccount(e);case 2:return n=t.sent,r=n.contractId,t.abrupt("return",!!r);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ue(){return(ue=O()(v.a.mark((function t(e,n,r){var a,o,i,c,s,u,f,p,l,d,h,m,b,g=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=g.length>3&&void 0!==g[3]?g[3]:{},o=x()(this.Ae.defaults,a),t.next=4,this.address(o);case 4:return i=t.sent,t.next=7,this.isGA(i);case 7:if(!t.sent){t.next=9;break}throw new Error("Account ".concat(i," is already GA"));case 9:return t.next=11,re(this)(n,e);case 11:return c=t.sent,s=c.authFun,u=c.bytecode,t.next=16,this.contractEncodeCall(n,"init",r);case 16:return f=t.sent,t.next=19,this.gaAttachTx(x()(o,{ownerId:i,code:u,callData:f,authFun:s}));case 19:return p=t.sent,l=p.tx,d=p.contractId,t.next=24,this.send(l,o);case 24:return h=t.sent,m=h.hash,b=h.rawTx,t.abrupt("return",Object.freeze({owner:i,transaction:m,rawTx:b,gaContractId:d}));case 28:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function fe(){return(fe=O()(v.a.mark((function t(e,n,a){var o,c,u,f,p,l,d,h,m,b,g,y,w,O,T,k,E,A,j=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=j.length>3&&void 0!==j[3]?j[3]:{},n){t.next=3;break}throw new Error("authData is required");case 3:return t.next=5,ne(this)(n,a);case 5:return c=t.sent,u=c.authCallData,f=c.gas,p=x()(this.Ae.defaults,o),l=Object(r.decodeBase64Check)(Object(r.assertedType)(e,"tx")),d=ae(l),h=d.rlpEncoded,t.next=13,this.getVmVersion(s.TX_TYPE.contractCall);case 13:return m=t.sent,b=m.abiVersion,t.t0=ie,t.t1=ie({},p),t.t2={},t.t3=h,t.next=21,this.address(p);case 21:return t.t4=t.sent,t.t5=b,t.t6=u,t.t7=f,t.t8={tx:t.t3,gaId:t.t4,abiVersion:t.t5,authData:t.t6,gas:t.t7},g=(0,t.t0)(t.t1,t.t2,t.t8),t.next=29,this.prepareTxParams(s.TX_TYPE.gaMeta,g);case 29:return y=t.sent,w=y.fee,O=y.ttl,T=Object(i.buildTx)(ie(ie({},g),{},{fee:"".concat(w),ttl:O}),s.TX_TYPE.gaMeta),k=T.rlpEncoded,E=ae(k),A=E.tx,t.abrupt("return",A);case 35:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var pe=n(55),le=n(27),de=n.n(le),he=n(15),me=n.n(he),ve=n(23);var be,ge,ye,xe=me()(ve.a,{init:function(t,e){var n=this;return O()(v.a.mark((function r(){var a,o,i,c,s,u,f,p;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f=function(t){var e=t.data;if("object"===Zt()(e)&&"webpackOk"!==e.type){var n=e.result,r=n.resolve,a=n.reject,o=e.id;u[o]&&(void 0!==r?u[o].resolve(r):a&&u[o].reject(a),delete u[o])}},a=t.parent,o=void 0===a?window.parent:a,i=t.self,c=void 0===i?window:i,e.stamp,o!==c){r.next=5;break}throw new Error("rpc client: Can't send messages to itself");case 5:return s=0,u={},n.post=function(t,e){var r=new Promise((function(t,e){u[s]={resolve:t,reject:e}}));return o.postMessage({jsonrpc:"2.0",id:s,method:t,params:e,session:n.session},"*"),s++,r},p=f,c.addEventListener("message",p,!1),n.destroyClient=function(){return c.removeEventListener("message",p,!1)},r.next=13,n.post("hello");case 13:n.session=r.sent;case 14:case"end":return r.stop()}}),r)})))()},props:{handler:null},methods:{},composers:function(t){var e=t.stamp,n=(t.composables,[].concat(Lt()(de()(["compose","deepConfiguration","Ae","methods"],e)||[]),Lt()(de()(["compose","deepConfiguration","Contract","methods"],e)||[]))),r=Ft()(n.map((function(t){return[t,(e=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.post(e,n)})];var e})));e.compose.methods&&["signTransaction","getNetworkId"].forEach((function(t){return delete e.compose.methods[t]})),e.compose.methods=Object.assign(r,e.compose.methods)}}),we=n(36),Oe=n(8),Te=n.n(Oe),ke=n(74),Ee=n.n(ke),Ae=function(t){return Ee()(t,t)},je=(Ae(["to_waellet","to_aepp"]),Ae(["window","extension"])),_e=Ae(["readyToConnect","closeConnection","updateNetwork","updateAddress"]),Ie=Ae(["connect","subscribeAddress","sign","address","signMessage"]),Pe=(Ae(["current","connected"]),Ae(["subscribe","unsubscribe"])),Ce=(ye={wallet:(be={},g()(be,_e.readyToConnect,"connection.announcePresence"),g()(be,_e.updateAddress,"address.update"),be),aepp:(ge={},g()(ge,Ie.address,"address.get"),g()(ge,Ie.connect,"connection.open"),g()(ge,Ie.sign,"transaction.sign"),g()(ge,Ie.signMessage,"message.sign"),g()(ge,Ie.subscribeAddress,"address.subscribe"),ge)},g()(ye,_e.updateNetwork,"networkId.update"),g()(ye,_e.closeConnection,"connection.close"),ye),Se="CONNECTED",Ne="DISCONNECTED",Me="CONNECTION_REJECTED",De="WAITING_FOR_CONNECTION_APPROVE",Re="WAITING_FOR_CONNECTION_REQUEST",Be=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:3,data:t,message:"Broadcast failed"}},Fe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:2,data:t,message:"Invalid transaction"}},Ve=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:4,data:t,message:"Operation rejected by user"}},Le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:9,data:t,message:"Wallet deny your connection request"}},Ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:11,data:t,message:"You are not subscribed for account ".concat(t.account)}},Ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:12,data:t,message:t.msg}},qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:10,data:t,message:"You are not connected to the wallet"}},He=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:5,data:t,message:"Unsupported Protocol Version"}},Ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:8,data:t,message:"Unsupported Network"}},Xe=n(39);function Ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qe=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=window,n=e.chrome,r=e.browser;if(void 0!==n&&n===Object(n))return n;if(void 0!==r&&r===Object(r))return r;if(!t)throw new Error("Browser is not detected");return{}},ze=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.debug,a=void 0!==r&&r,o=t[e.method];return o&&"function"==typeof o?o:(a&&console.log("Unknown message method ".concat(e.method)),function(){return O()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})))})},Je=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{method:t,params:e}},$e=function(t){return function(e,n,r){return t.sendMessage(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.error,a=n.result;return We({id:t,method:e},r?{error:r}:{result:a})}(e,n,r),!0)}},Ze=function(){},tn=function(t){return 3===["","connected","current"].filter((function(e){return"object"===Zt()(e?t[e]:t)})).length},en=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.find((function(t){return t===e}))){if("object"!==Zt()(n.onAccount)||!Object(Xe.b)(n.onAccount))throw new Error("Provided onAccount should be a MemoryAccount");e=n.onAccount}return e};function nn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var an,on,cn=me()({init:function(){this.clients=new Map},methods:{hasClient:function(t){return this.clients.has(t)},addClient:function(t,e){this.hasClient(t)&&console.warn("Wallet RpcClient with id ".concat(t," already exist")),this.clients.set(t,sn(rn({id:t},e)))},getClient:function(t){return this.clients.get(t)},removeClient:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.forceConnectionClose,r=void 0!==n&&n;if(!this.hasClient(t))throw new Error("Wallet RpcClient with id ".concat(t," do not exist"));return this.clients.get(t).disconnect(r),this.clients.delete(t),!0},updateClientInfo:function(t,e){var n=this.getClient(t);n.info=rn(rn({},n.info),e),this.clients.set(t,n)},sendNotificationByCondition:function(t,e,n){if("function"!=typeof e)throw new Error("Condition argument must be a function which return boolean");Array.from(this.clients.values()).filter(e).forEach((function(e){return e.sendMessage("function"==typeof n?n(e,t):t,!0)}))},operationByCondition:function(t,e){if("function"!=typeof t)throw new Error("Condition argument must be a function which return boolean");if("function"!=typeof e)throw new Error("Operation argument must be a function which return boolean");Array.from(this.clients.values()).filter(t).forEach(e)}}}),sn=me()({init:function(t){var e=this,n=t.id,r=t.name,a=t.networkId,o=t.icons,i=t.connection,c=Te()(t.handlers,2),s=c[0],u=c[1];this.id=n,this.connection=i,this.info={name:r,networkId:a,icons:o},this.callbacks={},this.actions={},this.addressSubscription=[],this.accounts={},this.sendMessage=function(t){var e=0;return function(n){var r=n.id,a=n.method,o=n.params,i=n.result,c=n.error,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s||(e+=1),r=s?r||null:e;var u=o?{params:o}:i?{result:i}:{error:c};return t.sendMessage(We(We({jsonrpc:"2.0"},r?{id:r}:{}),{},{method:a},u)),r}}(this.connection);var f;i.connect((f=s,function(t,e){t&&t.jsonrpc&&"2.0"===t.jsonrpc&&t.method?f(t,e):console.warn("Receive invalid message",t)}),(function(t,n){e.disconnect(!0),"function"==typeof u&&u(n,e)}))},propertyDescriptors:{currentAccount:{enumerable:!0,configurable:!1,get:function(){return this.isHasAccounts()?Object.keys(this.accounts.current)[0]:void 0}},addresses:{enumerable:!0,configurable:!1,get:function(){return this.isHasAccounts()?[].concat(Lt()(Object.keys(this.accounts.current)),Lt()(Object.keys(this.accounts.connected))):[]}},origin:{enumerable:!0,configurable:!1,get:function(){return this.connection}}},methods:{isHasAccounts:function(){return"object"===Zt()(this.accounts)&&"object"===Zt()(this.accounts.connected)&&"object"===Zt()(this.accounts.current)},isSubscribed:function(){return this.addressSubscription.length&&this.isHasAccounts()},hasAccessToAccount:function(t){return!!t&&this.addresses.find((function(e){return e===t}))},isConnected:function(){return this.connection.isConnected()&&this.info.status===Se},getCurrentAccount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onAccount;return e||Object.keys(this.accounts.current)[0]},disconnect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.info.status=Ne,this.addressSubscription=[],this.accounts={},t||this.connection.disconnect()},setAccounts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.forceNotification,r=void 0!==n&&n;if(!tn(t))throw new Error("Invalid accounts object. Should be object like: `{ connected: {}, selected: {} }`");this.accounts=t,r||this.sendMessage(Je(Ce.wallet.updateAddress,this.accounts),!0)},updateSubscription:function(t,e){return t!==Pe.subscribe||this.addressSubscription.includes(e)||this.addressSubscription.push(e),t===Pe.unsubscribe&&this.addressSubscription.includes(e)&&(this.addressSubscription=this.addressSubscription.filter((function(t){return t!==e}))),this.addressSubscription},addAction:function(t,e){var n,r=Te()(e,2),a=r[0],o=r[1],i=(n=this.actions,function(t){return delete n[t]});if(Object.prototype.hasOwnProperty.call(this.callbacks,t.id))throw new Error("Action for this request already exist");return this.actions[t.id]=rn(rn({},t),{},{accept:function(){i(t.id),a.apply(void 0,arguments)},deny:function(){i(t.id),o.apply(void 0,arguments)}}),this.actions[t.id]},request:function(t,e){var n=this,r=this.sendMessage(Je(t,e));if(Object.prototype.hasOwnProperty.call(this.callbacks,r))throw new Error("Callback Already exist");return new Promise((function(t,e){n.callbacks[r]={resolve:t,reject:e}}))},processResponse:function(t,e){var n,r=t.id,a=t.error,o=t.result;if(!this.callbacks[r])throw new Error("Can't find callback for this messageId ".concat(r));o?(n=this.callbacks[r]).resolve.apply(n,Lt()("function"==typeof e?e({id:r,result:o}):[o])):this.callbacks[r].reject(a);delete this.callbacks[r]}}});function un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?un(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var pn=(an={},g()(an,Ce.wallet.updateAddress,(function(t){return function(e){var n=e.params;t.rpcClient.accounts=n,t.onAddressChange(n)}})),g()(an,Ce.updateNetwork,(function(t){return function(e){t.rpcClient.info.networkId=e.params.networkId,t.onNetworkChange(e.params)}})),g()(an,Ce.closeConnection,(function(t){return function(e){t.disconnectWallet(),t.onDisconnect(e.params)}})),an),ln=(on={},g()(on,Ce.aepp.address,(function(t){return function(e){return t.rpcClient.processResponse(e)}})),g()(on,Ce.aepp.connect,(function(t){return function(e){e.result&&(t.rpcClient.info.status=Se),t.rpcClient.processResponse(e)}})),g()(on,Ce.aepp.subscribeAddress,(function(t){return function(e){e.result&&(e.result.address&&(t.rpcClient.accounts=e.result.address),e.result.subscription&&(t.rpcClient.addressSubscription=e.result.subscription)),t.rpcClient.processResponse(e,(function(t){t.id;return[t.result]}))}})),g()(on,Ce.aepp.sign,(function(t){return function(e){t.rpcClient.processResponse(e,(function(t){t.id;var e=t.result;return[e.signedTransaction||e.transactionHash]}))}})),g()(on,Ce.aepp.signMessage,(function(t){return function(e){t.rpcClient.processResponse(e,(function(t){t.id;return[t.result.signature]}))}})),on),dn={},hn=function(t){return function(){var e=O()(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=4;break}return e.abrupt("return",ze(pn,n,{debug:t.debug})(t)(n));case 4:if(!Object.prototype.hasOwnProperty.call(t.rpcClient.callbacks,n.id)){e.next=8;break}return e.abrupt("return",ze(ln,n,{debug:t.debug})(t)(n));case 8:return e.abrupt("return",ze(dn,n,{debug:t.debug})(t)(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},mn=d.a.compose({init:function(t){var e=this;return O()(v.a.mark((function n(){var r,a,o,i,c,s,u,f,p,l,d,h,m;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.name,a=t.onAddressChange,o=void 0===a?Ze:a,i=t.onDisconnect,c=void 0===i?Ze:i,s=t.onNetworkChange,u=void 0===s?Ze:s,f=t.connection,p=t.forceValidation,l=void 0!==p&&p,d=t.debug,h=void 0!==d&&d,m=["onDisconnect","onAddressChange","onNetworkChange"],e.connection=f,e.name=r,e.debug=h,!f){n.next=8;break}return n.next=8,e.connectToWallet(f);case 8:e.onDisconnect=c,e.onAddressChange=o,e.onNetworkChange=u,m.forEach((function(t){if(!l&&"function"!=typeof e[t])throw new Error("Call-back for ".concat(t," must be an function!"))}));case 12:case"end":return n.stop()}}),n)})))()},deepProps:{Ae:{defaults:{walletBroadcast:!0}}},methods:{sign:function(){},addresses:function(){if(!this.rpcClient.currentAccount)throw new Error("You do not subscribed for account.");return[this.rpcClient.currentAccount].concat(Lt()(Object.keys(this.rpcClient.accounts.connected)))},connectToWallet:function(t){var e=this;return O()(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.rpcClient||!e.rpcClient.isConnected()){n.next=2;break}throw new Error("You are already connected to wallet "+e.rpcClient);case 2:return e.rpcClient=sn(fn(fn({connection:t,networkId:e.getNetworkId({force:!0})},t.connectionInfo),{},{id:Object(we.v4)(),handlers:[hn(e),e.onDisconnect]})),n.abrupt("return",e.sendConnectRequest());case 4:case"end":return n.stop()}}),n)})))()},disconnectWallet:function(){var t=arguments,e=this;return O()(v.a.mark((function n(){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!(t.length>0&&void 0!==t[0])||t[0],e.rpcClient&&e.rpcClient.isConnected()){n.next=3;break}throw new Error("You are not connected to Wallet");case 3:r&&e.rpcClient.sendMessage(Je(Ce.closeConnection,{reason:"bye"}),!0),e.rpcClient.disconnect(),e.rpcClient=null;case 6:case"end":return n.stop()}}),n)})))()},address:function(){var t=arguments,e=this;return O()(v.a.mark((function n(){var r,a,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:{},a=r.onAccount,e.rpcClient&&e.rpcClient.isConnected()){n.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(o=e.rpcClient.currentAccount){n.next=6;break}throw new Error("You do not subscribed for accounts.");case 6:if(!a||e.rpcClient.hasAccessToAccount(a)){n.next=8;break}throw new Error("You are not have access to account ".concat(a));case 8:return n.abrupt("return",a||o);case 9:case"end":return n.stop()}}),n)})))()},askAddresses:function(){var t=this;return O()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.rpcClient&&t.rpcClient.isConnected()){e.next=2;break}throw new Error("You are not connected to Wallet");case 2:if(t.rpcClient.currentAccount){e.next=4;break}throw new Error("You do not subscribed for account.");case 4:return e.abrupt("return",t.rpcClient.request(Ce.aepp.address));case 5:case"end":return e.stop()}}),e)})))()},subscribeAddress:function(t,e){var n=this;return O()(v.a.mark((function r(){return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.rpcClient&&n.rpcClient.isConnected()){r.next=2;break}throw new Error("You are not connected to Wallet");case 2:return r.abrupt("return",n.rpcClient.request(Ce.aepp.subscribeAddress,{type:t,value:e}));case 3:case"end":return r.stop()}}),r)})))()},signTransaction:function(t){var e=arguments,n=this;return O()(v.a.mark((function r(){var a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.length>1&&void 0!==e[1]?e[1]:{},n.rpcClient&&n.rpcClient.isConnected()){r.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(n.rpcClient.currentAccount){r.next=5;break}throw new Error("You do not subscribed for account.");case 5:if(!a.onAccount||n.rpcClient.hasAccessToAccount(a.onAccount)){r.next=7;break}throw new Error("You are not have access to account ".concat(a.onAccount));case 7:return r.abrupt("return",n.rpcClient.request(Ce.aepp.sign,fn(fn({},a),{},{tx:t,returnSigned:!0,networkId:n.getNetworkId()})));case 8:case"end":return r.stop()}}),r)})))()},signMessage:function(t){var e=arguments,n=this;return O()(v.a.mark((function r(){var a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.length>1&&void 0!==e[1]?e[1]:{},n.rpcClient&&n.rpcClient.isConnected()){r.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(n.rpcClient.currentAccount){r.next=5;break}throw new Error("You do not subscribed for account.");case 5:if(!a.onAccount||n.rpcClient.hasAccessToAccount(a.onAccount)){r.next=7;break}throw new Error("You are not have access to account ".concat(a.onAccount));case 7:return r.abrupt("return",n.rpcClient.request(Ce.aepp.signMessage,fn(fn({},a),{},{message:t})));case 8:case"end":return r.stop()}}),r)})))()},sendConnectRequest:function(){var t=this;return O()(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpcClient.request(Ce.aepp.connect,{name:t.name,version:1,networkId:t.getNetworkId({force:!0})}));case 1:case"end":return e.stop()}}),e)})))()},send:function(t){var e=arguments,n=this;return O()(v.a.mark((function r(){var a,o,i;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.length>1&&void 0!==e[1]?e[1]:{},n.rpcClient&&n.rpcClient.isConnected()){r.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(n.rpcClient.currentAccount){r.next=5;break}throw new Error("You do not subscribed for account.");case 5:if(!a.onAccount||n.rpcClient.hasAccessToAccount(a.onAccount)){r.next=7;break}throw new Error("You are not have access to account ".concat(a.onAccount));case 7:if((o=x()(n.Ae.defaults,a)).walletBroadcast){r.next=13;break}return r.next=11,n.signTransaction(t,{onAccount:o.onAccount});case 11:return i=r.sent,r.abrupt("return",n.sendTransaction(i,o));case 13:return r.abrupt("return",n.rpcClient.request(Ce.aepp.sign,{onAccount:o.onAccount,tx:t,returnSigned:!1,networkId:n.getNetworkId()}));case 14:case"end":return r.stop()}}),r)})))()}}});function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gn(){return(gn=O()(v.a.mark((function t(e){var n,r,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracle(e);case 2:return n=t.sent,t.next=5,this.getOracleQueries(e);case 5:return r=t.sent,a=r.oracleQueries,t.abrupt("return",bn(bn({},n),{},{queries:a,pollQueries:this.pollForQueries.bind(this,e),postQuery:this.postQueryToOracle.bind(this,e),respondToQuery:this.respondToQuery.bind(this,e),extendOracle:this.extendOracleTtl.bind(this,e),getQuery:this.getQueryObject.bind(this,e)}));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function yn(){return(yn=O()(v.a.mark((function t(e,n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracleQuery(e,n);case 2:return a=t.sent,t.abrupt("return",bn(bn({},a),{},{decodedQuery:Object(r.decodeBase64Check)(a.query.slice(3)).toString(),decodedResponse:Object(r.decodeBase64Check)(a.response.slice(3)).toString(),respond:this.respondToQuery.bind(this,e,n),pollForResponse:this.pollForQueryResponse.bind(this,e,n),decode:function(t){return Object(r.decodeBase64Check)(t.slice(3))}}));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xn(){return(xn=O()(v.a.mark((function t(e,n){var a,o,i,c,s,u,f,p,l=this,d=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=d.length>2&&void 0!==d[2]?d[2]:{},o=a.attempts,i=void 0===o?20:o,c=a.interval,s=void 0===c?5e3:c,u=v.a.mark((function t(a){var o,i,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=3;break}return t.next=3,I(s);case 3:return t.next=5,l.getOracleQuery(e,n);case 5:if(o=t.sent,i=o.response,!(c=Object(r.decodeBase64Check)(Object(r.assertedType)(i,"or"))).length){t.next=10;break}return t.abrupt("return",{v:{response:i,decode:function(){return c}}});case 10:case"end":return t.stop()}}),t)})),f=0;case 3:if(!(f<i)){t.next=11;break}return t.delegateYield(u(f),"t0",5);case 5:if(p=t.t0,"object"!==Zt()(p)){t.next=8;break}return t.abrupt("return",p.v);case 8:f++,t.next=3;break;case 11:throw Error("Giving up after ".concat((i-1)*s,"ms"));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wn(){return(wn=O()(v.a.mark((function t(e,n){var r,a,o,i,c=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=x()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oracleRegisterTx(x()(a,{accountId:o,queryFormat:e,responseFormat:n}));case 7:return i=t.sent,t.t0=bn,t.t1=bn,t.t2={},t.next=13,this.send(i,a);case 13:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=17,this.getOracleObject("ok_".concat(o.slice(3)));case 17:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function On(){return(On=O()(v.a.mark((function t(e,n){var r,a,o,s,u,f=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=f.length>2&&void 0!==f[2]?f[2]:{},a=x()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oraclePostQueryTx(x()(a,{oracleId:e,senderId:o,query:n}));case 7:return s=t.sent,u=Object(c.oracleQueryId)(o,Object(i.unpackTx)(s).tx.nonce,e),t.t0=bn,t.t1=bn,t.t2={},t.next=14,this.send(s,a);case 14:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=18,this.getQueryObject(e,u);case 18:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Tn(){return(Tn=O()(v.a.mark((function t(e,n){var r,a,o,i,c=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},a=x()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oracleExtendTx(x()(a,{oracleId:e,callerId:o,oracleTtl:n}));case 7:return i=t.sent,t.t0=bn,t.t1=bn,t.t2={},t.next=13,this.send(i,a);case 13:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=17,this.getOracleObject(e);case 17:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function kn(){return(kn=O()(v.a.mark((function t(e,n,r){var a,o,i,c,s=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:{},o=x()(this.Ae.defaults,a),t.next=4,this.address(o);case 4:return i=t.sent,t.next=7,this.oracleRespondTx(x()(o,{oracleId:e,queryId:n,callerId:i,response:r}));case 7:return c=t.sent,t.t0=bn,t.t1=bn,t.t2={},t.next=13,this.send(c,o);case 13:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=17,this.getOracleObject(e);case 17:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var En=d.a.compose({methods:{registerOracle:function(t,e){return wn.apply(this,arguments)},respondToQuery:function(t,e,n){return kn.apply(this,arguments)},extendOracleTtl:function(t,e){return Tn.apply(this,arguments)},postQueryToOracle:function(t,e){return On.apply(this,arguments)},pollForQueryResponse:function(t,e){return xn.apply(this,arguments)},pollForQueries:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.interval,o=void 0===a?5e3:a,i=new Set,c=function(){var r=O()(v.a.mark((function r(){var a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getOracleQueries(t);case 2:if(r.t0=r.sent.oracleQueries,r.t0){r.next=5;break}r.t0=[];case 5:(a=r.t0.filter((function(t){var e=t.id;return!i.has(e)}))).forEach((function(t){var e=t.id;return i.add(e)})),a.length&&e(a);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();c();var s=setInterval(c,o);return Promise.resolve((function(){return clearInterval(s)}))},getOracleObject:function(t){return gn.apply(this,arguments)},getQueryObject:function(t,e){return yn.apply(this,arguments)}},deepProps:{Ae:{defaults:{queryFee:s.QUERY_FEE,oracleTtl:s.ORACLE_TTL,queryTtl:s.QUERY_TTL,responseTtl:s.RESPONSE_TTL}}}}),An=d.a.compose(Jt.a,zt,En,ce,xe),jn=d.a.compose(Nt,En,Jt.b,zt,tt,mn),_n=n(133),In=n.n(_n),Pn=n(82),Cn=n.n(Pn),Sn=n(59),Nn=n(132),Mn=n.n(Nn);function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bn(){return(Bn=O()(v.a.mark((function t(e){var n,r,a,o,i,c,s,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=function(){return Promise.reject(Error("Error: No such method ".concat(i)))},n=e.data,r=e.origin,a=e.source,"object"===Zt()(n)&&"2.0"===n.jsonrpc){t.next=4;break}return t.abrupt("return");case 4:o=n.id,i=n.method,c=n.params,s=n.session,Mn()((this.rpcMethods[i]||u).bind(this),{params:c,session:this.rpcSessions[s],origin:r}).then((function(t){var e="object"===Zt()(t)&&"[object Object]"===Object.prototype.toString.call(t)?Object.entries(t).filter((function(t){var e=Te()(t,2);e[0];return"function"!=typeof e[1]})).reduce((function(t,e){var n=Te()(e,2),r=n[0],a=n[1];return Rn(Rn({},t),{},g()({},r,a))}),{}):t;a.postMessage({jsonrpc:"2.0",id:o,result:{resolve:e}},"*")})).catch((function(t){a.postMessage({jsonrpc:"2.0",id:o,result:{reject:t.message}},"*")}));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Fn,Vn=me()({init:function(t){var e=t.self,n=void 0===e?window:e,r=this.receive.bind(this);n.addEventListener("message",r,!1),this.destroyServer=function(){return n.removeEventListener("message",r,!1)}},methods:{receive:function(t){return Bn.apply(this,arguments)},createSession:function(){var t=Object(we.v4)();return this.rpcSessions[t]={id:t},t}},props:{rpcSessions:{}},deepProps:{rpcMethods:{hello:function(){return Promise.resolve(this.createSession())}}}});function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Yn=cn(),qn=g()({},Ce.closeConnection,(function(t,e){var n=e.client;return function(){var e=O()(v.a.mark((function e(r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.disconnect(!0),t.onDisconnect(r.params,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),Hn={},Kn=(Fn={},g()(Fn,Ce.aepp.connect,(function(t,e,n,r){var a=r.name,o=r.networkId,i=r.version,c=r.icons;return 1!==i?{error:He()}:(Yn.updateClientInfo(n.id,{status:De,name:a,networkId:o,icons:c,version:i}),t("onConnection",{name:a,networkId:o,version:i},(function(){return Yn.updateClientInfo(n.id,{status:Se}),{result:e.getWalletInfo()}}),(function(t){return Yn.updateClientInfo(n.id,{status:Me}),{error:Le(t)}})))})),g()(Fn,Ce.aepp.subscribeAddress,(function(t,e,n,r){var a=r.type,o=r.value;return n.isConnected()?t("onSubscription",{type:a,value:o},O()(v.a.mark((function t(){var r,i,c,s,u=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>0&&void 0!==u[0]?u[0]:{},i=r.accounts,t.prev=1,c=i||e.getAccounts(),tn(c)){t.next=5;break}throw new Error("Invalid provided accounts object");case 5:return s=n.updateSubscription(a,o),n.setAccounts(c,{forceNotification:!0}),t.abrupt("return",{result:{subscription:s,address:c}});case 10:return t.prev=10,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",{error:Ye({msg:t.t0.message})});case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),(function(t){return{error:Ve(t)}})):{error:qe()}})),g()(Fn,Ce.aepp.address,(function(t,e,n){return n.isConnected()&&n.isSubscribed()?t("onAskAccounts",{},(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accounts;return{result:e||[].concat(Lt()(Object.keys(n.accounts.current)),Lt()(Object.keys(n.accounts.connected)))}}),(function(t){return{error:Ve(t)}})):{error:qe()}})),g()(Fn,Ce.aepp.sign,(function(t,e,n,r){var a=r.tx,o=r.onAccount,i=r.networkId,c=r.returnSigned,s=void 0!==c&&c,u=o||n.currentAccount;return i&&Yn.updateClientInfo(n.id,{networkId:i}),n.isConnected()?n.hasAccessToAccount(u)?i&&i===e.getNetworkId()?t("onSign",{tx:a,returnSigned:s,onAccount:u,txObject:ut.b.fromString(a)},function(){var t=O()(v.a.mark((function t(n){var r,o,i,c=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:{},t.prev=1,o=en(e.addresses(),u,r),t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",{error:Ye({msg:t.t0.message})});case 9:if(t.prev=9,t.t1=Un,t.t2={},!s){t.next=19;break}return t.next=15,e.signTransaction(n||a,{onAccount:o});case 15:t.t4=t.sent,t.t3={signedTransaction:t.t4},t.next=23;break;case 19:return t.next=21,e.send(n||a,{onAccount:o,verify:!1});case 21:t.t5=t.sent,t.t3={transactionHash:t.t5};case 23:return t.t6=t.t3,t.t7=(0,t.t1)(t.t2,t.t6),t.abrupt("return",{result:t.t7});case 28:if(t.prev=28,t.t8=t.catch(9),s){t.next=37;break}return t.next=33,e.unpackAndVerify(n||a);case 33:if(!(i=t.sent).validation.length){t.next=36;break}return t.abrupt("return",{error:Fe(i)});case 36:return t.abrupt("return",{error:Be(t.t8.message)});case 37:throw t.t8;case 38:case"end":return t.stop()}}),t,null,[[1,5],[9,28]])})));return function(e){return t.apply(this,arguments)}}(),(function(t){return{error:Ve(t)}})):{error:Ke()}:{error:Ue({account:u})}:{error:qe()}})),g()(Fn,Ce.aepp.signMessage,(function(t,e,n,r){var a=r.message,o=r.onAccount;if(!n.isConnected())return{error:qe()};var i=o||n.currentAccount;return n.hasAccessToAccount(i)?t("onMessageSign",{message:a,onAccount:i},O()(v.a.mark((function t(){var n,r,o=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t.prev=1,r=en(e.addresses(),i,n),t.next=5,e.signMessage(a,{onAccount:r,returnHex:!0});case 5:return t.t0=t.sent,t.t1={signature:t.t0},t.abrupt("return",{result:t.t1});case 10:return t.prev=10,t.t2=t.catch(1),console.error(t.t2),t.abrupt("return",{error:Ye({msg:t.t2.message})});case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),(function(t){return{error:Ve(t)}})):{error:Ue({account:i})}})),Fn),Xn=function(t,e){return function(){var n=O()(v.a.mark((function n(r,a){var o,i,c,s,u,f;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=Yn.getClient(e),r.id){n.next=3;break}return n.abrupt("return",ze(qn,r,{debug:t.debug})(t,{client:o})(r,a));case 3:if(!Object.prototype.hasOwnProperty.call(o.callbacks,r.id)){n.next=7;break}return n.abrupt("return",ze(Hn,r,{debug:t.debug})(t,{client:o})(r,a));case 7:if(i=r.id,c=r.method,s=function(e,n,r,s){return function(){return new Promise((function(u){t[e](o,o.addAction({id:i,method:c,params:n},[function(){return u(r.apply(void 0,arguments))},function(){return u(s.apply(void 0,arguments))}]),a)}))}},"function"!=typeof(u=ze(Kn,r,{debug:t.debug})(s,t,o,r.params))){n.next=16;break}return n.next=13,u();case 13:n.t0=n.sent,n.next=17;break;case 16:n.t0=u;case 17:f=n.t0,$e(o)(i,c,f);case 19:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},Gn=d.a.compose(Dt.a,Xe.a,{init:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=e.onConnection,a=e.onSubscription,o=e.onSign,i=e.onDisconnect,c=e.onAskAccounts,s=e.onMessageSign,u=e.forceValidation,f=void 0!==u&&u,p=e.debug,l=void 0!==p&&p;this.debug=l;var d=["onConnection","onSubscription","onSign","onDisconnect","onMessageSign"];this.onConnection=r,this.onSubscription=a,this.onSign=o,this.onDisconnect=i,this.onAskAccounts=c,this.onMessageSign=s,d.forEach((function(e){if(!f&&"function"!=typeof t[e])throw new Error("Call-back for ".concat(e," must be an function!"))})),this.name=n,this.id=Object(we.v4)();var h=this.selectAccount.bind(this),m=this.addAccount.bind(this),b=this.selectNode.bind(this);this.selectAccount=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.condition,r=void 0===n?function(){return!0}:n;h(t),Yn.operationByCondition((function(e){return e.isConnected()&&e.isSubscribed()&&e.hasAccessToAccount(t)&&r(e)}),(function(e){return e.setAccounts({current:g()({},t,{}),connected:Un(Un({},e.accounts.current),Object.entries(e.accounts.connected).reduce((function(e,n){var r=Te()(n,2),a=r[0],o=r[1];return Un(Un({},e),a!==t?g()({},a,o):{})}),{}))})}))},this.addAccount=function(){var t=O()(v.a.mark((function t(e){var n,r,a,o,i,c,s,u=arguments;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.select,a=n.meta,o=void 0===a?{}:a,i=n.condition,c=void 0===i?function(){return!0}:i,t.next=3,m(e,{select:r});case 3:return t.next=5,e.address();case 5:s=t.sent,Yn.operationByCondition((function(t){return t.isConnected()&&t.isSubscribed()&&c(t)}),(function(t){return t.setAccounts({current:Un({},r?g()({},s,o):t.accounts.current),connected:Un(Un({},r?t.accounts.current:g()({},s,o)),t.accounts.connected)})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.selectNode=function(e){b(e),Yn.sendNotificationByCondition(Je(Ce.updateNetwork,{networkId:t.getNetworkId()}),(function(t){return t.isConnected()}))}},methods:{getClients:function(){return Yn},removeRpcClient:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forceConnectionClose:!1};return Yn.removeClient(t,e)},addRpcClient:function(t){var e=Object(we.v4)();return Yn.addClient(e,{id:e,info:{status:Re},connection:t,handlers:[Xn(this,e),this.onDisconnect]}),e},shareWalletInfo:function(t){t(Un({jsonrpc:"2.0"},Je(Ce.wallet.readyToConnect,Un({},this.getWalletInfo()))))},getWalletInfo:function(){var t=Qe(!0).runtime;return{id:t&&t.id?t.id:this.id,name:this.name,networkId:this.getNetworkId(),origin:window.location.origin,type:t&&t.id?je.extension:je.window}},getAccounts:function(){var t=this;return{current:this.Selector.address?g()({},this.Selector.address,{}):{},connected:this.addresses().filter((function(e){return e!==t.Selector.address})).reduce((function(t,e){return Un(Un({},t),{},g()({},e,{}))}),{})}}}}),Wn=Cn()(st.a),Qn=[{pred:Wn(nt.a.compose.deepConfiguration.Ae.methods),handler:"onTx",error:"Creating transaction [{}] rejected"},{pred:Wn(tt.compose.deepConfiguration.Ae.methods),handler:"onChain",error:"Chain operation [{}] rejected"},{pred:Wn(Mt.a.compose.deepConfiguration.Ae.methods),handler:"onAccount",error:"Account operation [{}] rejected"},{pred:Wn(Sn.a.compose.deepConfiguration.Contract.methods),handler:"onContract",error:"Contract operation [{}] rejected"}];function zn(){return(zn=O()(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vn.compose.deepProperties.rpcMethods.hello.call(this);case 2:return e=t.sent,t.next=5,this.address();case 5:return this.rpcSessions[e].address=t.sent,t.abrupt("return",Promise.resolve(e));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Jn(){return(Jn=O()(v.a.mark((function t(e,n,r){var a,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=In()((function(t){return(0,t.pred)(e)}),Qn),o=a.handler,i=a.error,void 0!==o){t.next=5;break}return t.abrupt("return",Promise.reject(Error("Unknown method ".concat(e))));case 5:return t.next=7,this[o](e,n,r);case 7:if(!t.sent){t.next=11;break}return t.abrupt("return",this[e].apply(this,n));case 11:return t.abrupt("return",Promise.reject(Error(i.replace(/{}/,e))));case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function $n(){return($n=O()(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("sign",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",this.signWith(r.address,n[0]));case 7:return t.abrupt("return",Promise.reject(Error("Signing rejected")));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Zn(){return(Zn=O()(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("address",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",Promise.resolve(r.address));case 7:return t.abrupt("return",Promise.reject(Error("Address rejected")));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var tr=d.a.compose(Dt.a,tt,Nt,Jt.c,ce,Vn,{init:function(t,e){var n=this,r=t.onTx,a=void 0===r?this.onTx:r,o=t.onChain,i=void 0===o?this.onChain:o,c=t.onAccount,s=void 0===c?this.onAccount:c,u=t.onContract,f=void 0===u?this.onContract:u,p=e.stamp;this.onTx=a,this.onChain=i,this.onAccount=s,this.onContract=f;var l=[].concat(Lt()(p.compose.deepConfiguration.Ae.methods),Lt()(p.compose.deepConfiguration.Contract.methods));this.rpcMethods=Object.assign(Ft()(l.map((function(t){return[t,function(e){var r=e.params,a=e.session;return n.rpc(t,r,a)}]}))),this.rpcMethods)},methods:{rpc:function(t,e,n){return Jn.apply(this,arguments)},onTx:function(){return console.log("Implement onTx!"),Promise.resolve(!1)},onChain:function(){return console.log("Implement onChain!"),Promise.resolve(!1)},onAccount:function(){return console.log("Implement onAccount!"),Promise.resolve(!1)},onContract:function(){return console.log("Implement onContract!"),Promise.resolve(!1)}},deepProps:{rpcMethods:{sign:function(t){return $n.apply(this,arguments)},address:function(t){return Zn.apply(this,arguments)},hello:function(){return zn.apply(this,arguments)}}}}),er=d.a.compose(Gn,Nt,Jt.c,En,zt,ce,tt),nr=n(81),rr=n.n(nr),ar=n(16),or=n(50),ir=n.n(or),cr=n(134),sr=n.n(cr),ur=n(135),fr=n(136),pr=n(43),lr=new WeakMap,dr=new WeakMap,hr=new WeakMap,mr=new WeakMap,vr=new WeakMap,br=new WeakMap,gr=new WeakMap,yr=new WeakMap,xr=new WeakMap,wr=new WeakMap,Or=new WeakMap,Tr=new WeakMap,kr=new WeakMap,Er=new WeakMap,Ar=new WeakMap,jr=new WeakMap;function _r(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=br.get(t)).emit.apply(e,r)}function Ir(t,e){if(!e)throw new Error("State Channels FSM entered unknown state");mr.set(t,e),e.handler.enter&&e.handler.enter(t),Mr(t)}function Pr(t,e){e!==dr.get(t)&&(dr.set(t,e),_r(t,"statusChanged",e))}function Cr(t,e){hr.set(t,e),_r(t,"stateChanged",e)}function Sr(t,e){var n=lr.get(t).debug;void 0!==n&&n&&console.log("Send message: ",e),vr.get(t).send(pr.a.stringify(e))}function Nr(t,e,n){xr.set(t,[].concat(Lt()(xr.get(t)||[]),[{guard:e,action:n}])),Mr(t)}function Mr(t){return Dr.apply(this,arguments)}function Dr(){return(Dr=O()(v.a.mark((function t(e){var n,r,a,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=wr.get(e),r=xr.get(e)||[],!n&&r.length){t.next=4;break}return t.abrupt("return");case 4:if(a=mr.get(e),-1!==(o=r.findIndex((function(t){return t.guard(e,a)})))){t.next=8;break}return t.abrupt("return");case 8:return xr.set(e,r.filter((function(t,e){return o!==e}))),wr.set(e,!0),t.next=12,Promise.resolve(r[o].action(e,a));case 12:i=t.sent,wr.set(e,!1),Ir(e,i);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rr(t,e){return Br.apply(this,arguments)}function Br(){return(Br=O()(v.a.mark((function t(e,n){var r,a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=mr.get(e),a=r.handler,o=r.state,t.t0=Ir,t.t1=e,t.next=5,Promise.resolve(a(e,n,o));case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fr(t){return Vr.apply(this,arguments)}function Vr(){return(Vr=O()(v.a.mark((function t(e){var n,r,a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=gr.get(e),!yr.get(e)&&n.length){t.next=3;break}return t.abrupt("return");case 3:return r=ir()(n),a=r[0],o=r.slice(1),gr.set(e,o||[]),yr.set(e,!0),t.next=8,Rr(e,a);case 8:yr.set(e,!1),Fr(e);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Lr(t){clearTimeout(Er.get(t)),clearTimeout(Ar.get(t)),Er.set(t,setTimeout((function(){Sr(t,{jsonrpc:"2.0",method:"channels.system",params:{action:"ping"}}),Ar.set(t,setTimeout((function(){qr(t),_r(t,"error",Error("Server pong timed out"))}),5e3))}),1e4))}function Ur(t,e){var n=pr.a.parse(e),r=lr.get(t).debug;if(void 0!==r&&r&&console.log("Receive message: ",n),n.id){var a=kr.get(t).get(n.id);try{a(n)}finally{kr.get(t).delete(n.id)}}else"channels.message"===n.method?_r(t,"message",n.params.data.message):"channels.system.pong"===n.method?n.params.channel_id!==Tr.get(t)&&null!=Tr.get(t)||Lr(t):(gr.set(t,[].concat(Lt()(gr.get(t)||[]),[n])),Fr(t))}function Yr(t,e,n){return new Promise((function(r,a){var o=Or.set(t,Or.get(t)+1).get(t);kr.get(t).set(o,(function(t){return t.result?r(t.result):t.error?a(function(t){var e=t.error.data||[],n=Te()(e,1)[0],r=(n=void 0===n?{}:n).message;return r?Error("".concat(t.error.message,": ").concat(r)):Error(t.error.message)}(t)):void 0})),Sr(t,{jsonrpc:"2.0",method:e,id:o,params:n})}))}function qr(t){vr.get(t).close(),clearTimeout(Er.get(t)),clearTimeout(Ar.get(t))}function Hr(t,e){return Kr.apply(this,arguments)}function Kr(){return(Kr=O()(v.a.mark((function t(e,n){var r,a,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.url,a=sr()(n,["url"]),lr.set(e,a),mr.set(e,{handler:a.existingFsmId?Jr:zr}),br.set(e,new fr.EventEmitter),Or.set(e,0),kr.set(e,new Map),o=new URL(r),Object.entries(a).filter((function(t){var e=Te()(t,1)[0];return!["sign","debug"].includes(e)})).forEach((function(t){var e=Te()(t,2),n=e[0],r=e[1];return o.searchParams.set(Object(ar.d)(n),r)})),o.searchParams.set("protocol","json-rpc"),Pr(e,"connecting"),i=new ur.w3cwebsocket(o.toString()),t.next=13,new Promise((function(t,n){return Object.assign(i,{onerror:n,onopen:function(){t(),Pr(e,"connected"),a.reconnectTx&&(Ir(e,{handler:oa}),setTimeout(O()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cr,t.t1=e,t.next=4,Yr(e,"channels.get.offchain_state",{});case 4:return t.t2=t.sent.signed_tx,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))),Lr(e)},onclose:function(){Pr(e,"disconnected"),clearTimeout(Er.get(e)),clearTimeout(Ar.get(e))},onmessage:function(t){var n=t.data;return Ur(e,n)}})}));case 13:vr.set(e,i);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xr(t){return"tx_".concat(Object(r.encodeBase64Check)(t))}function Gr(t,e){return Wr.apply(this,arguments)}function Wr(){return(Wr=O()(v.a.mark((function t(e,n){var r,a,o,c,s,u,f;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(i.unpackTx)(e).tx,a=r.signatures,o=r.encodedTx,t.next=3,n(Xr(o.rlpEncoded));case 3:if("string"!=typeof(c=t.sent)){t.next=7;break}return s=Object(i.unpackTx)(c),u=s.tx,f=s.txType,t.abrupt("return",Xr(Object(i.buildTx)({signatures:a.concat(u.signatures),encodedTx:u.encodedTx.rlpEncoded},f).rlpEncoded));case 7:return t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qr(t,e,n){return n&&n.reject&&n.reject(Object.assign(Error("Unexpected message received:\n\n".concat(JSON.stringify(e))),{wsMessage:e})),{handler:oa}}function zr(t,e,n){return"channels.info"===e.method?["channel_accept","funding_created"].includes(e.params.data.event)?(Pr(t,{channel_accept:"accepted",funding_created:"halfSigned"}[e.params.data.event]),{handler:Zr}):"channel_reestablished"===e.params.data.event?{handler:ra}:"fsm_up"===e.params.data.event?(jr.set(t,e.params.data.fsm_id),{handler:zr}):{handler:zr}:"channels.error"===e.method?(_r(t,"error",new Error(e.payload.message)),{handler:Na}):void 0}function Jr(t,e,n){return $r.apply(this,arguments)}function $r(){return($r=O()(v.a.mark((function t(e,n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.info"!==n.method){t.next=10;break}if("fsm_up"!==n.params.data.event){t.next=10;break}return jr.set(e,n.params.data.fsm_id),t.t0=Cr,t.t1=e,t.next=7,Yr(e,"channels.get.offchain_state",{});case 7:return t.t2=t.sent.signed_tx,(0,t.t0)(t.t1,t.t2),t.abrupt("return",{handler:oa});case 10:return t.abrupt("return",Qr(0,n,r));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zr(t,e,n){return ta.apply(this,arguments)}function ta(){return(ta=O()(v.a.mark((function t(e,n,r){var a,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={initiator:"initiator_sign",responder:"responder_sign"}[lr.get(e).role],n.method!=="channels.sign.".concat(a)){t.next=13;break}if(!n.params.data.tx){t.next=8;break}return t.next=5,lr.get(e).sign(a,n.params.data.tx);case 5:return o=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{tx:o}}),t.abrupt("return",{handler:ea});case 8:return t.next=10,Gr(n.params.data.signed_tx,(function(t){return lr.get(e).sign(a,t)}));case 10:return i=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{signed_tx:i}}),t.abrupt("return",{handler:ea});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ea(t,e,n){if("channels.on_chain_tx"===e.method){if("funding_signed"===e.params.data.info&&"initiator"===lr.get(t).role)return{handler:na};if("funding_created"===e.params.data.info&&"responder"===lr.get(t).role)return{handler:na}}if("channels.info"===e.method&&"funding_signed"===e.params.data.event&&"initiator"===lr.get(t).role)return Tr.set(t,e.params.channel_id),Pr(t,"signed"),{handler:ea}}function na(t,e,n){if("channels.info"===e.method){var r={funding_created:na,own_funding_locked:na,funding_locked:ra}[e.params.data.event];if(r)return{handler:r}}if("channels.on_chain_tx"===e.method)return _r(t,"onChainTx",e.params.data.tx,{info:e.params.data.info,type:e.params.data.type}),{handler:na}}function ra(t,e,n){if("channels.info"===e.method&&"open"===e.params.data.event)return Tr.set(t,e.params.channel_id),{handler:aa}}function aa(t,e,n){if("channels.update"===e.method)return Cr(t,e.params.data.state),{handler:oa}}function oa(t,e,n){return ia.apply(this,arguments)}function ia(){return(ia=O()(v.a.mark((function t(e,n,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.method,t.next="channels.info"===t.t0?3:"channels.on_chain_tx"===t.t0?20:"channels.leave"===t.t0?22:"channels.update"===t.t0?23:"channels.sign.shutdown_sign_ack"===t.t0?25:26;break;case 3:t.t1=n.params.data.event,t.next="update"===t.t1||"withdraw_created"===t.t1||"deposit_created"===t.t1?6:"own_withdraw_locked"===t.t1||"withdraw_locked"===t.t1||"own_deposit_locked"===t.t1||"deposit_locked"===t.t1||"peer_disconnected"===t.t1||"channel_reestablished"===t.t1||"open"===t.t1?7:"fsm_up"===t.t1?9:"timeout"===t.t1||"close_mutual"===t.t1?11:"closing"===t.t1?12:"closed_confirmed"===t.t1?14:"died"===t.t1?16:"shutdown"===t.t1?18:19;break;case 6:return t.abrupt("return",{handler:fa});case 7:return _r(e,n.params.data.event),t.abrupt("return",{handler:oa});case 9:return jr.set(e,n.params.data.fsm_id),t.abrupt("return",{handler:oa});case 11:return t.abrupt("return",{handler:oa});case 12:return Pr(e,"closing"),t.abrupt("return",{handler:oa});case 14:return Pr(e,"closed"),t.abrupt("return",{handler:Na});case 16:return Pr(e,"died"),t.abrupt("return",{handler:Na});case 18:return t.abrupt("return",{handler:oa});case 19:return t.abrupt("break",26);case 20:return _r(e,"onChainTx",n.params.data.tx,{info:n.params.data.info,type:n.params.data.type}),t.abrupt("return",{handler:oa});case 22:return t.abrupt("return",{handler:oa});case 23:return Cr(e,n.params.data.state),t.abrupt("return",{handler:oa});case 25:return t.abrupt("return",fa(e,n,r));case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ca(t,e,n){return sa.apply(this,arguments)}function sa(){return(sa=O()(v.a.mark((function t(e,n,r){var a,o,i,c,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:o}}),t.abrupt("return",{handler:ua,state:r});case 8:return t.next=10,Gr(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(i=t.sent)){t.next=14;break}return Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:i}}),t.abrupt("return",{handler:ua,state:r});case 14:if("number"!=typeof i){t.next=17;break}return Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{error:i}}),t.abrupt("return",{handler:ca,state:r});case 17:if("channels.error"!==n.method){t.next=20;break}return r.reject(new Error(n.data.message)),t.abrupt("return",{handler:oa});case 20:if(!n.error){t.next=24;break}return c=n.error.data,(s=void 0===c?[]:c).find((function(t){return 1001===t.code}))?r.reject(new Error("Insufficient balance")):s.find((function(t){return 1002===t.code}))?r.reject(new Error("Amount cannot be negative")):r.reject(new Error(n.error.message)),t.abrupt("return",{handler:oa});case 24:if("channels.conflict"!==n.method){t.next=27;break}return r.resolve({accepted:!1,errorCode:n.params.data.error_code,errorMessage:n.params.data.error_msg}),t.abrupt("return",{handler:oa});case 27:if("channels.info"!==n.method){t.next=31;break}if("aborted_update"!==n.params.data.event){t.next=31;break}return r.resolve({accepted:!1}),t.abrupt("return",{handler:oa});case 31:return t.abrupt("return",Qr(0,n,r));case 32:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ua(t,e,n){return"channels.update"===e.method?(Cr(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:oa}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:oa}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:oa}):e.error?(n.reject(new Error(e.error.message)),{handler:oa}):Qr(0,e,n)}function fa(t,e,n){return pa.apply(this,arguments)}function pa(){return(pa=O()(v.a.mark((function t(e,n,a){var o,i,c,s,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.method.match(/^channels\.sign\.([^.]+)$/)||[],i=Te()(o,2),!(c=i[1])){t.next=22;break}if(!n.params.data.tx){t.next=11;break}return t.next=5,lr.get(e).sign(c,n.params.data.tx,{updates:n.params.data.updates});case 5:if(!(s=t.sent)){t.next=9;break}return Sr(e,{jsonrpc:"2.0",method:"channels.".concat(c),params:{tx:s}}),t.abrupt("return",{handler:oa});case 9:t.next=20;break;case 11:return t.next=13,Gr(n.params.data.signed_tx,(function(t){return lr.get(e).sign(c,t,{updates:n.params.data.updates})}));case 13:if("string"!=typeof(u=t.sent)){t.next=17;break}return Sr(e,{jsonrpc:"2.0",method:"channels.".concat(c),params:{signed_tx:u}}),t.abrupt("return",{handler:oa});case 17:if("number"!=typeof u){t.next=20;break}return Sr(e,{jsonrpc:"2.0",method:"channels.".concat(c),params:{error:u}}),t.abrupt("return",{handler:la,state:a});case 20:return Sr(e,{jsonrpc:"2.0",method:"channels.update.new",params:{from:Object(r.generateKeyPair)().publicKey,to:Object(r.generateKeyPair)().publicKey,amount:1}}),t.abrupt("return",{handler:la,state:a});case 22:return t.abrupt("return",Qr(0,n,a));case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function la(t,e,n){return e.error?{handler:la,state:n}:"channels.conflict"===e.method?{handler:oa}:Qr(0,e,n)}function da(t,e,n){return ha.apply(this,arguments)}function ha(){return(ha=O()(v.a.mark((function t(e,n,r){var a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.shutdown_sign"!==n.method){t.next=12;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx);case 4:return a=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{tx:a}}),t.abrupt("return",{handler:ma,state:r});case 7:return t.next=9,Gr(n.params.data.signed_tx,(function(t){return r.sign(t)}));case 9:return o=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{signed_tx:o}}),t.abrupt("return",{handler:ma,state:r});case 12:return t.abrupt("return",Qr(0,n,r));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ma(t,e,n){return"channels.on_chain_tx"===e.method?{handler:Na,state:n}:Qr(0,e,n)}function va(t,e,n){return"channels.leave"===e.method?(n.resolve({channelId:e.params.channel_id,signedTx:e.params.data.state}),qr(t),{handler:Na}):"channels.error"===e.method?(n.reject(new Error(e.data.message)),{handler:oa}):Qr(0,e,n)}function ba(t,e,n){return ga.apply(this,arguments)}function ga(){return(ga=O()(v.a.mark((function t(e,n,r){var a,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.withdraw_tx"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{tx:o}}),t.abrupt("return",{handler:ya,state:r});case 8:return t.next=10,Gr(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(i=t.sent)){t.next=14;break}return Sr(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{signed_tx:i}}),t.abrupt("return",{handler:ya,state:r});case 14:if("number"!=typeof i){t.next=17;break}return Sr(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{error:i}}),t.abrupt("return",{handler:ya,state:r});case 17:return t.abrupt("return",Qr(0,n,r));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ya(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:ya,state:n};if("channels.info"===e.method&&["own_withdraw_locked","withdraw_locked"].includes(e.params.data.event)){var r={own_withdraw_locked:n.onOwnWithdrawLocked,withdraw_locked:n.onWithdrawLocked}[e.params.data.event];return r&&r(),{handler:ya,state:n}}return"channels.update"===e.method?(Cr(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:oa}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:oa}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:oa}):Qr(0,e,n)}function xa(t,e,n){return wa.apply(this,arguments)}function wa(){return(wa=O()(v.a.mark((function t(e,n,r){var a,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.deposit_tx"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{tx:o}}),t.abrupt("return",{handler:Oa,state:r});case 8:return t.next=10,Gr(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(i=t.sent)){t.next=14;break}return Sr(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{signed_tx:i}}),t.abrupt("return",{handler:Oa,state:r});case 14:if("number"!=typeof i){t.next=17;break}return Sr(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{error:i}}),t.abrupt("return",{handler:Oa,state:r});case 17:return t.abrupt("return",Qr(0,n,r));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Oa(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:Oa,state:n};if("channels.info"===e.method&&["own_deposit_locked","deposit_locked"].includes(e.params.data.event)){var r={own_deposit_locked:n.onOwnDepositLocked,deposit_locked:n.onDepositLocked}[e.params.data.event];return r&&r(),{handler:Oa,state:n}}return"channels.update"===e.method?(Cr(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:oa}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:oa}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:oa}):Qr(0,e,n)}function Ta(t,e,n){return ka.apply(this,arguments)}function ka(){return(ka=O()(v.a.mark((function t(e,n,r){var a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=16;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx);case 4:return a=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:Ea,state:r});case 7:return t.next=9,Gr(n.params.data.signed_tx,(function(t){return r.sign(t)}));case 9:if("string"!=typeof(o=t.sent)){t.next=13;break}return Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:o}}),t.abrupt("return",{handler:Ea,state:r});case 13:if("number"!=typeof o){t.next=16;break}return Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{error:o}}),t.abrupt("return",{handler:Ea,state:r});case 16:return t.abrupt("return",Qr(0,n,r));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ea(t,e,n){if("channels.update"===e.method){var a=Object(i.unpackTx)(e.params.data.state).tx.encodedTx.tx.round,o=lr.get(t)[{initiator:"initiatorId",responder:"responderId"}[lr.get(t).role]];return Cr(t,e.params.data.state),n.resolve({accepted:!0,address:Object(r.encodeContractAddress)(o,a),signedTx:e.params.data.state}),{handler:oa}}return"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:oa}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:oa}):Qr(0,e,n)}function Aa(t,e,n){return ja.apply(this,arguments)}function ja(){return(ja=O()(v.a.mark((function t(e,n,r){var a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=16;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx,{updates:n.params.data.updates});case 4:return a=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:Ca,state:r});case 7:return t.next=9,Gr(n.params.data.signed_tx,(function(t){return r.sign(t,{updates:n.params.data.updates})}));case 9:if("string"!=typeof(o=t.sent)){t.next=13;break}return Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:o}}),t.abrupt("return",{handler:Ca,state:r});case 13:if("number"!=typeof o){t.next=16;break}return Sr(e,{jsonrpc:"2.0",method:"channels.update",params:{error:o}}),t.abrupt("return",{handler:Ca,state:r});case 16:return t.abrupt("return",Qr(0,n,r));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _a(t,e,n){return Ia.apply(this,arguments)}function Ia(){return(Ia=O()(v.a.mark((function t(e,n,r){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.force_progress_tx"!==n.method){t.next=6;break}return t.next=3,Gr(n.params.data.signed_tx,(function(t){return r.sign(t,{updates:n.params.data.updates})}));case 3:return a=t.sent,Sr(e,{jsonrpc:"2.0",method:"channels.force_progress_sign",params:{signed_tx:a}}),t.abrupt("return",{handler:Pa,state:r});case 6:return t.abrupt("return",Qr(0,n,r));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pa(t,e,n){return console.log("From force progress await completion ->",e),"channels.on_chain_tx"===e.method&&(n.onOnChainTx&&n.onOnChainTx(e.params.data),_r(t,"onChainTx",e.params.data.tx,{info:e.params.data.info,type:e.params.data.type}),n.resolve({accepted:!0,tx:e.params.data.tx})),Qr(0,e,n)}function Ca(t,e,n){return"channels.update"===e.method?(Cr(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:oa}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:oa}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:oa}):Qr(0,e,n)}function Sa(t,e,n){return"channels.calls_pruned.reply"===e.method?(n.resolve(),{handler:oa}):(n.reject(new Error("Unexpected message received")),{handler:Na})}function Na(t,e,n){return n?"closing"===e.params.data.event?{handler:Na,state:n}:"channel_closed"===e.params.data.info?(n.closeTx=e.params.data.tx,{handler:Na,state:n}):"closed_confirmed"===e.params.data.event?(n.resolve(n.closeTx),{handler:Na}):{handler:Na,state:n}:{handler:Na}}function Ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ma(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ra(t){return Object.entries(t).reduce((function(t,e){var n=Te()(e,2),r=n[0],a=n[1];return Da(Da({},t),{},g()({},Object(ar.e)(r),a))}),{})}function Ba(){return(Ba=O()(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ra,t.next=3,Yr(this,"channels.get.offchain_state",{});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Fa(){return(Fa=O()(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accounts,r=e.contracts,t.next=3,Yr(this,"channels.get.poi",{accounts:n,contracts:r});case 3:return t.abrupt("return",t.sent.poi);case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Va(){return(Va=O()(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rr.a,t.t1=function(t,e){return Da(Da({},t),{},g()({},e.account,e.balance))},t.t2={},t.next=5,Yr(this,"channels.get.balances",{accounts:e});case 5:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function La(){return(La=O()(v.a.mark((function t(e){var n,r,a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.amount,r=e.callData,a=e.contract,o=e.abiVersion,t.t0=Ra,t.next=4,Yr(this,"channels.dry_run.call_contract",{amount:n,call_data:r,contract_id:a,abi_version:o});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ua(){return(Ua=O()(v.a.mark((function t(e){var n,r,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caller,r=e.contract,a=e.round,t.t0=Ra,t.next=4,Yr(this,"channels.get.contract_call",{caller_id:n,contract_id:r,round:a});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ya(){return(Ya=O()(v.a.mark((function t(e){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yr(this,"channels.get.contract",{pubkey:e});case 2:return n=t.sent,t.abrupt("return",Ra(Da(Da({},n),{},{contract:Ra(n.contract)})));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function qa(){return(qa=O()(v.a.mark((function t(e,n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sign,t.t0=Ha,t.t1=Da,t.t2=Da({},e),t.t3={},t.next=7,r("reconnect",Object(i.buildTx)(n,s.TX_TYPE.channelReconnect).tx);case 7:return t.t4=t.sent,t.t5={reconnectTx:t.t4},t.t6=(0,t.t1)(t.t2,t.t3,t.t5),t.abrupt("return",(0,t.t0)(t.t6));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}oa.enter=function(t){Pr(t,"open")};var Ha=ve.a.compose({init:function(t){var e=this;return O()(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Hr(e,t);case 1:case"end":return n.stop()}}),n)})))()},methods:{on:function(t,e){br.get(this).on(t,e)},off:function(t,e){br.get(this).removeListener(t,e)},status:function(){return dr.get(this)},state:function(){return Ba.apply(this,arguments)},round:function(){if(!hr.get(this))return null;var t=Object(i.unpackTx)(hr.get(this)).tx.encodedTx,e=t.txType,n=t.tx;switch(e){case s.TX_TYPE.channelCreate:return 1;case s.TX_TYPE.channelOffChain:case s.TX_TYPE.channelWithdraw:case s.TX_TYPE.channelDeposit:return parseInt(n.round,10);default:return null}},id:function(){return Tr.get(this)},fsmId:function(){return jr.get(this)},update:function(t,e,n,r,a){var o=this;return new Promise((function(i,c){Nr(o,(function(t,e){return e.handler===oa}),(function(o,s){return Sr(o,{jsonrpc:"2.0",method:"channels.update.new",params:{from:t,to:e,amount:n,meta:a}}),{handler:ca,state:{resolve:i,reject:c,sign:r}}}))}))},poi:function(t){return Fa.apply(this,arguments)},balances:function(t){return Va.apply(this,arguments)},leave:function(){var t=this;return new Promise((function(e,n){Nr(t,(function(t,e){return e.handler===oa}),(function(t,r){return Sr(t,{jsonrpc:"2.0",method:"channels.leave",params:{}}),{handler:va,state:{resolve:e,reject:n}}}))}))},shutdown:function(t){var e=this;return new Promise((function(n,r){Nr(e,(function(t,e){return e.handler===oa}),(function(e,a){return Sr(e,{jsonrpc:"2.0",method:"channels.shutdown",params:{}}),{handler:da,state:{sign:t,resolve:n,reject:r}}}))}))},sendMessage:function(t,e){var n=this,r=t;"object"===Zt()(t)&&(r=JSON.stringify(t));var a=function(t){return Sr(t,{jsonrpc:"2.0",method:"channels.message",params:{info:r,to:e}})};if("connecting"===this.status()){this.on("statusChanged",(function t(e){"connecting"!==e&&(setTimeout((function(){return a(n)}),500),n.off("statusChanged",t))}))}else a(this)},withdraw:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnWithdrawLocked,i=r.onWithdrawLocked;return new Promise((function(r,c){Nr(n,(function(t,e){return e.handler===oa}),(function(n,s){return Sr(n,{jsonrpc:"2.0",method:"channels.withdraw",params:{amount:t}}),{handler:ba,state:{sign:e,resolve:r,reject:c,onOnChainTx:a,onOwnWithdrawLocked:o,onWithdrawLocked:i}}}))}))},deposit:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnDepositLocked,i=r.onDepositLocked;return new Promise((function(r,c){Nr(n,(function(t,e){return e.handler===oa}),(function(n,s){return Sr(n,{jsonrpc:"2.0",method:"channels.deposit",params:{amount:t}}),{handler:xa,state:{sign:e,resolve:r,reject:c,onOnChainTx:a,onOwnDepositLocked:o,onDepositLocked:i}}}))}))},createContract:function(t,e){var n=this,r=t.code,a=t.callData,o=t.deposit,i=t.vmVersion,c=t.abiVersion;return new Promise((function(t,s){Nr(n,(function(t,e){return e.handler===oa}),(function(n,u){return Sr(n,{jsonrpc:"2.0",method:"channels.update.new_contract",params:{code:r,call_data:a,deposit:o,vm_version:i,abi_version:c}}),{handler:Ta,state:{sign:e,resolve:t,reject:s}}}))}))},callContract:function(t,e){var n=this,r=t.amount,a=t.callData,o=t.contract,i=t.abiVersion;return new Promise((function(t,c){Nr(n,(function(t,e){return e.handler===oa}),(function(n,s){return Sr(n,{jsonrpc:"2.0",method:"channels.update.call_contract",params:{amount:r,call_data:a,contract_id:o,abi_version:i}}),{handler:Aa,state:{resolve:t,reject:c,sign:e}}}))}))},callContractStatic:function(t){return La.apply(this,arguments)},getContractCall:function(t){return Ua.apply(this,arguments)},getContractState:function(t){return Ya.apply(this,arguments)},disconnect:function(){return qr(this)},cleanContractCalls:function(){var t=this;return new Promise((function(e,n){Nr(t,(function(t,e){return e.handler===oa}),(function(t,r){return Sr(t,{jsonrpc:"2.0",method:"channels.clean_contract_calls",params:{}}),{handler:Sa,state:{resolve:e,reject:n}}}))}))},forceProgress:function(t,e){var n=this,r=t.amount,a=t.callData,o=t.contract,i=t.abiVersion,c=t.gas,s=void 0===c?1e6:c,u=t.gasPrice,f=void 0===u?1e9:u,p=(t.nonce,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),l=p.onOnChainTx;return new Promise((function(t,c){Nr(n,(function(t,e){return e.handler===oa}),(function(n,u){return Sr(n,{jsonrpc:"2.0",method:"channels.force_progress",params:{amount:r,call_data:a,contract_id:o,abi_version:i,gas_price:f,gas:s}}),{handler:_a,state:{resolve:t,reject:c,sign:e,onOnChainTx:l}}}))}))}},statics:{reconnect:function(t,e){return qa.apply(this,arguments)}}}),Ka=Ha,Xa=d.a.compose(Dt.a,tt,Nt,zt,Jt.c,En,ce,{init:function(){},props:{process:{}}}),Ga=n(71)}])}));
//# sourceMappingURL=aepp-sdk.browser.js.map