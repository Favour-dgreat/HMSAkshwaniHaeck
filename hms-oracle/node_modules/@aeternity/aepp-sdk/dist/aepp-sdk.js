!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("bignumber.js"),require("@stamp/required"),require("@stamp/it"),require("tweetnacl"),require("joi-browser"),require("axios"),require("uuid"),require("rlp"),require("@aeternity/bip39"),require("bs58check"),require("ed2curve"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("@aeternity/json-bigint"),require("websocket"),require("bip32-path"),require("libsodium-wrappers-sumo")):"function"==typeof define&&define.amd?define([,,,,,,,,,,,,,,,,,,],e):"object"==typeof exports?exports.Ae=e(require("bignumber.js"),require("@stamp/required"),require("@stamp/it"),require("tweetnacl"),require("joi-browser"),require("axios"),require("uuid"),require("rlp"),require("@aeternity/bip39"),require("bs58check"),require("ed2curve"),require("tweetnacl-auth"),require("blakejs"),require("aes-js"),require("sha.js"),require("@aeternity/json-bigint"),require("websocket"),require("bip32-path"),require("libsodium-wrappers-sumo")):t.Ae=e(t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0],t[void 0])}(global,(function(t,e,n,r,a,o,c,i,s,u,p,f,l,d,h,m,v,g,y){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=147)}([function(t,e,n){t.exports=n(105)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(t,e,n,r,a,o,c){try{var i=t[o](c),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(a,o){var c=t.apply(e,r);function i(t){n(c,a,o,i,s,"next",t)}function s(t){n(c,a,o,i,s,"throw",t)}i(void 0)}))}}},function(e,n){e.exports=t},function(t,e,n){var r=n(77),a=n(10)((function(t,e){return r({},t,e)}));t.exports=a},function(t,e,n){var r=n(66),a=n(106),o=n(46),c=n(68);t.exports=function(t,e){return r(t)||a(t,e)||o(t,e)||c()}},function(t,n){t.exports=e},function(t,e,n){var r=n(107),a=n(69),o=n(46),c=n(108);t.exports=function(t){return r(t)||a(t)||o(t)||c()}},function(t,e,n){var r=n(50)(0);t.exports=r},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var r=n(13),a=n(40);t.exports=function(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return a(n)?e:r((function(e){return t(n,e)}));default:return a(n)&&a(o)?e:a(n)?r((function(e){return t(e,o)})):a(o)?r((function(e){return t(n,e)})):t(n,o)}}}},function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e,n){var r=n(40);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e){t.exports=a},function(t,e,n){var r=n(10),a=n(129),o=r((function(t,e){return a([t],e)[0]}));t.exports=o},function(t,e,n){var r=n(13),a=n(21),o=n(116),c=!{toString:null}.propertyIsEnumerable("toString"),i=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],s=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},p="function"!=typeof Object.keys||s?r((function(t){if(Object(t)!==t)return[];var e,n,r=[],p=s&&o(t);for(e in t)!a(e,t)||p&&"length"===e||(r[r.length]=e);if(c)for(n=i.length-1;n>=0;)a(e=i[n],t)&&!u(r,e)&&(r[r.length]=e),n-=1;return r})):r((function(t){return Object(t)!==t?[]:Object.keys(t)}));t.exports=p},function(t,e,n){var r=n(13)((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e}));t.exports=r},function(t,e,n){var r=n(50)(-1);t.exports=r},function(t,e,n){var r=n(43),a=n(10)(r);t.exports=a},function(t,e){t.exports=o},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e){t.exports=c},function(t,e,n){var r=n(13)((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));t.exports=r},function(t,e,n){var r=n(13),a=n(110),o=r((function(t){return a(t,[])}));t.exports=o},function(t,e,n){var r=n(10),a=n(76),o=n(32),c=r((function(t,e){return a(o(t),e)}));t.exports=c},function(t,e,n){var r=n(49),a=n(121);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),c=o.pop();if(!r(c)){for(var i=0;i<t.length;){if("function"==typeof c[t[i]])return c[t[i]].apply(c,o);i+=1}if(a(c)){var s=e.apply(null,o);return s(c)}}return n.apply(this,arguments)}}},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e,n){var r=n(10)((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n}));t.exports=r},function(t,e,n){var r=n(66),a=n(69),o=n(46),c=n(68);t.exports=function(t){return r(t)||a(t)||o(t)||c()}},function(t,e,n){var r=n(47)(1,"join");t.exports=r},function(t,e,n){var r=n(13)((function(t){return null==t}));t.exports=r},function(t,e,n){var r=n(10),a=n(15),o=r((function(t,e){return a([t],e)}));t.exports=o},function(t,e){t.exports=i},function(t,e,n){var r=n(74),a=n(123),o=n(124);function c(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function i(t,e,n,r){return t["@@transducer/result"](n[r](o(t["@@transducer/step"],t),e))}var s="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(t,e,n){if("function"==typeof t&&(t=a(t)),r(n))return function(t,e,n){for(var r=0,a=n.length;r<a;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return i(t,e,n,"fantasy-land/reduce");if(null!=n[s])return c(t,e,n[s]());if("function"==typeof n.next)return c(t,e,n);if("function"==typeof n.reduce)return i(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t,e,n){var r=n(13),a=n(10),o=n(40);t.exports=function(t){return function e(n,c,i){switch(arguments.length){case 0:return e;case 1:return o(n)?e:a((function(e,r){return t(n,e,r)}));case 2:return o(n)&&o(c)?e:o(n)?a((function(e,n){return t(e,c,n)})):o(c)?a((function(e,r){return t(n,e,r)})):r((function(e){return t(n,c,e)}));default:return o(n)&&o(c)&&o(i)?e:o(n)&&o(c)?a((function(e,n){return t(e,n,i)})):o(n)&&o(i)?a((function(e,n){return t(e,c,n)})):o(c)&&o(i)?a((function(e,r){return t(n,e,r)})):o(n)?r((function(e){return t(e,c,i)})):o(c)?r((function(e){return t(n,e,i)})):o(i)?r((function(e){return t(n,c,e)})):t(n,c,i)}}}},function(t,e,n){var r=n(119),a=n(10),o=n(120),c=a((function(t,e){return o(r(t),e)}));t.exports=c},function(t,e,n){var r=n(13)((function(t){return function(){return t}}));t.exports=r},function(t,e,n){var r=n(10),a=n(34),o=n(16),c=r((function(t,e){return a((function(n,r){return n[r]=t(e[r],r,e),n}),{},o(e))}));t.exports=c},function(t,e){t.exports=s},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e,n){var r=n(42),a=n(13),o=n(10),c=n(48),i=o((function(t,e){return 1===t?a(e):r(t,c(t,[],e))}));t.exports=i},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,a){return e.apply(this,arguments)};case 5:return function(t,n,r,a,o){return e.apply(this,arguments)};case 6:return function(t,n,r,a,o,c){return e.apply(this,arguments)};case 7:return function(t,n,r,a,o,c,i){return e.apply(this,arguments)};case 8:return function(t,n,r,a,o,c,i,s){return e.apply(this,arguments)};case 9:return function(t,n,r,a,o,c,i,s,u){return e.apply(this,arguments)};case 10:return function(t,n,r,a,o,c,i,s,u,p){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(111);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){var r=n(13)(n(128)(!0));t.exports=r},function(t,e,n){var r=n(10)((function(t,e){for(var n=0,r=Math.min(t.length,e.length),a={};n<r;)a[t[n]]=e[n],n+=1;return a}));t.exports=r},function(t,e,n){var r=n(67);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e,n){var r=n(10),a=n(109),o=n(41),c=n(24),i=r((function(t,e){return o(t+1,(function(){var n=arguments[t];if(null!=n&&a(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(c(n)+' does not have a method named "'+e+'"')}))}));t.exports=i},function(t,e,n){var r=n(42),a=n(40);t.exports=function t(e,n,o){return function(){for(var c=[],i=0,s=e,u=0;u<n.length||i<arguments.length;){var p;u<n.length&&(!a(n[u])||i>=arguments.length)?p=n[u]:(p=arguments[i],i+=1),c[u]=p,a(p)||(s-=1),u+=1}return s<=0?o.apply(this,c):r(s,t(e,c,o))}}},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(10),a=n(75),o=r((function(t,e){var n=t<0?e.length+t:t;return a(e)?e.charAt(n):e[n]}));t.exports=o},function(t,e,n){var r=n(35)(n(34));t.exports=r},function(t,e,n){var r=n(13),a=n(41),o=r((function(t){return a(t.length,(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))}));t.exports=o},function(t,e,n){var r=n(13),a=n(41),o=r((function(t){return a(t.length,t)}));t.exports=o},function(t,e){t.exports=u},function(t,e){t.exports=p},function(t,e,n){var r=n(47)(0,"toUpperCase");t.exports=r},function(t,e,n){var r=n(10)((function(t,e){return t<e}));t.exports=r},function(t,e,n){var r=n(13),a=n(21),o=r((function(t){var e=[];for(var n in t)a(n,t)&&(e[e.length]=[n,t[n]]);return e}));t.exports=o},function(t,e,n){var r=n(10),a=n(132),o=r((function(t,e){return a((function(t,e,n){return n}),t,e)}));t.exports=o},function(t,e,n){var r=n(78),a=n(10)(r("groupBy",n(79)((function(t,e){return null==t&&(t=[]),t.push(e),t}),null)));t.exports=a},function(t,e,n){var r=n(13)(n(137));t.exports=r},function(t,e,n){var r=n(79)((function(t,e){return e}),null);t.exports=r},function(t,e,n){var r=n(13),a=n(16),o=r((function(t){for(var e=a(t),n=e.length,r=[],o=0;o<n;)r[o]=t[e[o]],o+=1;return r}));t.exports=o},function(t,e,n){var r=n(10)((function(t,e){return null==e||e!=e?t:e}));t.exports=r},function(t,e){t.exports=f},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(t,e,n){for(var r=0,a=n.length;r<a;){if(t(e,n[r]))return!0;r+=1}return!1}},function(t,e){t.exports="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=Array(r);n<r;)a[n]=t(e[n]),n+=1;return a}},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(13),a=n(49),o=n(75),c=r((function(t){return!!a(t)||!!t&&("object"==typeof t&&(!o(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}));t.exports=c},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(10),a=n(26),o=n(72),c=n(34),i=n(126),s=n(41),u=n(16),p=r(a(["fantasy-land/map","map"],i,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return s(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return c((function(n,r){return n[r]=t(e[r]),n}),{},u(e));default:return o(t,e)}})));t.exports=p},function(t,e,n){var r=n(21);t.exports="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,a=arguments.length;n<a;){var o=arguments[n];if(null!=o)for(var c in o)r(c,o)&&(e[c]=o[c]);n+=1}return e}},function(t,e,n){var r=n(49);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var a=arguments[n-1];return r(a)||"function"!=typeof a[t]?e.apply(this,arguments):a[t].apply(a,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(134),a=n(48),o=n(26),c=n(21),i=n(34),s=a(4,[],o([],n(136),(function(t,e,n,a){return i((function(a,o){var i=n(o);return a[i]=t(c(i,a)?a[i]:r(e,[],[],!1),o),a}),{},a)})));t.exports=s},function(t,e,n){var r=n(78),a=n(35)(r("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)})));t.exports=a},function(t,e){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,e){t.exports=l},function(t,e){t.exports=d},function(t,e){t.exports=h},function(t,e,n){var r=n(47)(0,"toLowerCase");t.exports=r},function(t,e,n){var r=n(42),a=n(13),o=n(76),c=n(127),i=n(51),s=a((function(t){var e=i(c,0,o((function(t){return t[0].length}),t));return r(e,(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))}));t.exports=s},function(t,e,n){var r=n(10)((function(t,e){return t<=e}));t.exports=r},function(t,e){t.exports=function(){return!0}},function(t,e,n){var r=n(43),a=n(10),o=n(52),c=n(36),i=a((function(t,e){return c(o(r)(t),e)}));t.exports=i},function(t,e,n){var r=n(70),a=n(10)((function(t,e){for(var n,a=0,o=e.length,c=[];a<o;)n=e[a],r(t,n,c)||(c[c.length]=n),a+=1;return c}));t.exports=a},function(t,e,n){var r=n(71),a=n(10)(r);t.exports=a},function(t,e,n){var r=n(10),a=n(131),o=r((function(t,e){for(var n=[],r=0,o=t.length,c=e.length,i=new a,s=0;s<c;s+=1)i.add(e[s]);for(;r<o;)i.add(t[r])&&(n[n.length]=t[r]),r+=1;return n}));t.exports=o},function(t,e,n){var r=n(77),a=n(13)((function(t){return r.apply(null,[{}].concat(t))}));t.exports=a},function(t,e){t.exports=m},function(t,e,n){var r=n(35)((function(t,e,n){var r={};for(var a in n)r[a]=n[a];return r[t]=e,r}));t.exports=r},function(t,e,n){var r=n(10),a=n(138),o=r((function(t,e){return a([t],e)}));t.exports=o},function(t,e,n){var r=n(10),a=n(26),o=n(139),c=n(80),i=r(a(["drop"],o,(function(t,e){return c(Math.max(0,t),1/0,e)})));t.exports=i},function(t,e,n){var r=n(10),a=n(26),o=n(140),c=r(a([],n(143),o));t.exports=c},function(t,e,n){var r=n(53)((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}));t.exports=r},function(t,e,n){var r=n(10)(n(26)(["find"],n(144),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}})));t.exports=r},function(t,e,n){var r=n(145);t.exports=function(t,e){if(null==t)return{};var n,a,o=r(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e){t.exports=v},function(t,e){t.exports=require("events")},function(t,e){t.exports=g},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(t,e,n,r){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),c=new k(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=b(c,n);if(i){if(i===u)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var p=s(t,e,n);if("normal"===p.type){if(r=n.done?"completed":"suspendedYield",p.arg===u)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(r="completed",n.method="throw",n.arg=p.arg)}}}(t,n,c),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=i;var u={};function p(){}function f(){}function l(){}var d={};d[a]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(O([])));m&&m!==e&&n.call(m,a)&&(d=m);var v=l.prototype=p.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var r;this._invoke=function(a,o){function c(){return new e((function(r,c){!function r(a,o,c,i){var u=s(t[a],t,o);if("throw"!==u.type){var p=u.arg,f=p.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,c,i)}),(function(t){r("throw",t,c,i)})):e.resolve(f).then((function(t){p.value=t,c(p)}),(function(t){return r("throw",t,c,i)}))}i(u.arg)}(a,o,r,c)}))}return r=r?r.then(c,c):c()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=v.constructor=l,l.constructor=f,l[c]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new y(i(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(v),v[c]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return c.type="throw",c.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}},function(t,e,n){var r=n(67);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e}},function(t,e,n){var r=n(43),a=n(72),o=n(117),c=n(118),i=n(16),s=n(36);t.exports=function t(e,n){var u=function(a){var o=n.concat([e]);return r(a,o)?"<Circular>":t(a,o)},p=function(t,e){return a((function(e){return o(e)+": "+u(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+a(u,e).join(", ")+"))";case"[object Array]":return"["+a(u,e).concat(p(e,s((function(t){return/^\d+$/.test(t)}),i(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+u(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?u(NaN):o(c(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+u(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+u(e.valueOf())+")":o(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var f=e.toString();if("[object Object]"!==f)return f}return"{"+p(e,i(e)).join(", ")+"}"}}},function(t,e,n){var r=n(112);t.exports=function(t,e,n){var a,o;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(a=1/e;n<t.length;){if(0===(o=t[n])&&1/o===a)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(o=t[n])&&o!=o)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(10),a=n(113),o=r((function(t,e){return a(t,e,[],[])}));t.exports=o},function(t,e,n){var r=n(114),a=n(70),o=n(115),c=n(21),i=n(71),s=n(16),u=n(23);function p(t,e,n,o){var c=r(t),i=r(e);function s(t,e){return f(t,e,n.slice(),o.slice())}return!a((function(t,e){return!a(s,e,t)}),i,c)}function f(t,e,n,r){if(i(t,e))return!0;var a=u(t);if(a!==u(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===o(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!i(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!i(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var l=n.length-1;l>=0;){if(n[l]===t)return r[l]===e;l-=1}switch(a){case"Map":return t.size===e.size&&p(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&p(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var d=s(t);if(d.length!==s(e).length)return!1;var h=n.concat([t]),m=r.concat([e]);for(l=d.length-1;l>=0;){var v=d[l];if(!c(v,e)||!f(e[v],t[v],h,m))return!1;l-=1}return!0}t.exports=f},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e,n){var r=n(21),a=Object.prototype.toString,o=function(){return"[object Arguments]"===a.call(arguments)?function(t){return"[object Arguments]"===a.call(t)}:function(t){return r("callee",t)}}();t.exports=o},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e){var n=function(t){return(t<10?"0":"")+t},r="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};t.exports=r},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(10),a=n(26),o=n(122),c=n(73),i=n(34),s=n(125),u=n(16),p=r(a(["filter"],s,(function(t,e){return c(e)?i((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},u(e)):o(t,e)})));t.exports=p},function(t,e){t.exports=function(t){return null!=t&&"function"==typeof t["@@transducer/step"]}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,a=[];n<r;)t(e[n])&&(a[a.length]=e[n]),n+=1;return a}},function(t,e){var n=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();t.exports=function(t){return new n(t)}},function(t,e,n){var r=n(42),a=n(10)((function(t,e){return r(t.length,(function(){return t.apply(e,arguments)}))}));t.exports=a},function(t,e,n){var r=n(10),a=n(27),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),c=r((function(t,e){return new o(t,e)}));t.exports=c},function(t,e,n){var r=n(10),a=n(27),o=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),c=r((function(t,e){return new o(t,e)}));t.exports=c},function(t,e,n){var r=n(10)((function(t,e){return e>t?e:t}));t.exports=r},function(t,e,n){var r=n(74);t.exports=function(t){return function e(n){for(var a,o,c,i=[],s=0,u=n.length;s<u;){if(r(n[s]))for(c=0,o=(a=t?e(n[s]):n[s]).length;c<o;)i[i.length]=a[c],c+=1;else i[i.length]=n[s];s+=1}return i}}},function(t,e,n){var r=n(10),a=n(130),o=n(50),c=r((function(t,e){return t.map((function(t){for(var n,r=e,c=0;c<t.length;){if(null==r)return;n=t[c],r=a(n)?o(n,r):r[n],c+=1}return r}))}));t.exports=c},function(t,e){t.exports=Number.isInteger||function(t){return t<<0===t}},function(t,e,n){var r=n(43),a=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!o(t,!0,this)},t.prototype.has=function(t){return o(t,!1,this)},t}();function o(t,e,n){var a,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(a=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===a):n._nativeSet.has(t):o in n._items?t in n._items[o]||(e&&(n._items[o][t]=!0),!1):(e&&(n._items[o]={},n._items[o][t]=!0),!1);case"boolean":if(o in n._items){var c=t?1:0;return!!n._items[o][c]||(e&&(n._items[o][c]=!0),!1)}return e&&(n._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(a=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===a):n._nativeSet.has(t):o in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1);case"undefined":return!!n._items[o]||(e&&(n._items[o]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in n._items?!!r(t,n._items[o])||(e&&n._items[o].push(t),!1):(e&&(n._items[o]=[t]),!1)}}t.exports=a},function(t,e,n){var r=n(35),a=n(73),o=n(133),c=r((function t(e,n,r){return o((function(n,r,o){return a(r)&&a(o)?t(e,r,o):e(n,r,o)}),n,r)}));t.exports=c},function(t,e,n){var r=n(35),a=n(21),o=r((function(t,e,n){var r,o={};for(r in e)a(r,e)&&(o[r]=a(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)a(r,n)&&!a(r,o)&&(o[r]=n[r]);return o}));t.exports=o},function(t,e,n){var r=n(135),a=n(23);t.exports=function t(e,n,o,c){var i=function(r){for(var a=n.length,i=0;i<a;){if(e===n[i])return o[i];i+=1}for(var s in n[i+1]=e,o[i+1]=r,e)r[s]=c?t(e[s],n,o,!0):e[s];return r};switch(a(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return r(e);default:return e}}},function(t,e){t.exports=function(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}},function(t,e,n){var r=n(48),a=n(21),o=n(27),c=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(a(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),i=r(4,[],(function(t,e,n,r){return new c(t,e,n,r)}));t.exports=i},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(10),a=n(21),o=n(31),c=r((function(t,e){if(0===t.length||o(e))return!1;for(var n=e,r=0;r<t.length;){if(o(n)||!a(t[r],n))return!1;n=n[t[r]],r+=1}return!0}));t.exports=c},function(t,e,n){var r=n(10),a=n(27),o=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=a.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),c=r((function(t,e){return new o(t,e)}));t.exports=c},function(t,e,n){var r=n(141);t.exports=function(t,e){return r(t<e.length?e.length-t:0,e)}},function(t,e,n){var r=n(10),a=n(26),o=n(142),c=n(80),i=r(a(["take"],o,(function(t,e){return c(0,t<0?1/0:t,e)})));t.exports=i},function(t,e,n){var r=n(10),a=n(81),o=n(27),c=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?a(n):n},t}(),i=r((function(t,e){return new c(t,e)}));t.exports=i},function(t,e,n){var r=n(10),a=n(27),o=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),c=r((function(t,e){return new o(t,e)}));t.exports=c},function(t,e,n){var r=n(10),a=n(81),o=n(27),c=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=a(this.xf["@@transducer/step"](t,e))),t},t}(),i=r((function(t,e){return new c(t,e)}));t.exports=i},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}},function(t,e){t.exports=y},function(t,e,n){"use strict";n.r(e),n.d(e,"AmountFormatter",(function(){return s})),n.d(e,"Account",(function(){return Xi})),n.d(e,"Accounts",(function(){return Vu})),n.d(e,"Ae",(function(){return rs})),n.d(e,"Aens",(function(){return Qu})),n.d(e,"Aepp",(function(){return ul})),n.d(e,"Bytes",(function(){return r})),n.d(e,"Contract",(function(){return Xp})),n.d(e,"ContractCompilerAPI",(function(){return gp})),n.d(e,"ContractACI",(function(){return Cp})),n.d(e,"ACIHelpers",(function(){return f})),n.d(e,"ACITransformation",(function(){return p})),n.d(e,"ChainNode",(function(){return Ys})),n.d(e,"RpcAepp",(function(){return pl})),n.d(e,"RpcWallet",(function(){return Vl})),n.d(e,"Channel",(function(){return Oh})),n.d(e,"Crypto",(function(){return c})),n.d(e,"Keystore",(function(){return i})),n.d(e,"Chain",(function(){return ec})),n.d(e,"GeneralizeAccount",(function(){return nf})),n.d(e,"HdWallet",(function(){return Go})),n.d(e,"MemoryAccount",(function(){return Eu})),n.d(e,"Node",(function(){return Gi})),n.d(e,"NodePool",(function(){return ls})),n.d(e,"Oracle",(function(){return sl})),n.d(e,"OracleNodeAPI",(function(){return is})),n.d(e,"Selector",(function(){return Bu})),n.d(e,"Transaction",(function(){return Tu})),n.d(e,"TransactionValidator",(function(){return ks})),n.d(e,"Tx",(function(){return Zo})),n.d(e,"TxBuilder",(function(){return u})),n.d(e,"TxBuilderHelper",(function(){return o})),n.d(e,"Universal",(function(){return Ah})),n.d(e,"Wallet",(function(){return Ml})),n.d(e,"SCHEMA",(function(){return a}));var r={};n.r(r),n.d(r,"leftPad",(function(){return D})),n.d(r,"rightPad",(function(){return M})),n.d(r,"bigNumberToByteArray",(function(){return V})),n.d(r,"toBytes",(function(){return F})),n.d(r,"str2buf",(function(){return R}));var a={};n.r(a),n.d(a,"VSN",(function(){return dt})),n.d(a,"VSN_2",(function(){return ht})),n.d(a,"TX_TTL",(function(){return mt})),n.d(a,"QUERY_FEE",(function(){return vt})),n.d(a,"ORACLE_TTL",(function(){return gt})),n.d(a,"QUERY_TTL",(function(){return yt})),n.d(a,"RESPONSE_TTL",(function(){return bt})),n.d(a,"DEPOSIT",(function(){return xt})),n.d(a,"AMOUNT",(function(){return wt})),n.d(a,"GAS",(function(){return kt})),n.d(a,"MIN_GAS_PRICE",(function(){return Ot})),n.d(a,"MAX_AUTH_FUN_GAS",(function(){return At})),n.d(a,"DRY_RUN_ACCOUNT",(function(){return Tt})),n.d(a,"AENS_NAME_DOMAINS",(function(){return jt})),n.d(a,"NAME_TTL",(function(){return Ct})),n.d(a,"NAME_MAX_TTL",(function(){return It})),n.d(a,"NAME_MAX_CLIENT_TTL",(function(){return Et})),n.d(a,"CLIENT_TTL",(function(){return Pt})),n.d(a,"NAME_FEE",(function(){return St})),n.d(a,"NAME_FEE_MULTIPLIER",(function(){return _t})),n.d(a,"NAME_FEE_BID_INCREMENT",(function(){return Nt})),n.d(a,"NAME_BID_TIMEOUT_BLOCKS",(function(){return Bt})),n.d(a,"NAME_BID_MAX_LENGTH",(function(){return Dt})),n.d(a,"NAME_ID_KEY",(function(){return Mt})),n.d(a,"NAME_BID_RANGES",(function(){return Vt})),n.d(a,"NAME_BID_TIMEOUTS",(function(){return Ft})),n.d(a,"OBJECT_TAG_SIGNED_TRANSACTION",(function(){return Rt})),n.d(a,"TX_TYPE",(function(){return Ht})),n.d(a,"VM_VERSIONS",(function(){return Kt})),n.d(a,"ABI_VERSIONS",(function(){return Lt})),n.d(a,"VM_TYPE",(function(){return Wt})),n.d(a,"FATE_ABI",(function(){return Gt})),n.d(a,"VM_ABI_MAP_ROMA",(function(){return Qt})),n.d(a,"VM_ABI_MAP_MINERVA",(function(){return Yt})),n.d(a,"VM_ABI_MAP_FORTUNA",(function(){return zt})),n.d(a,"VM_ABI_MAP_LIMA",(function(){return Xt})),n.d(a,"PROTOCOL_VM_ABI",(function(){return $t})),n.d(a,"OBJECT_ID_TX_TYPE",(function(){return Jt})),n.d(a,"FIELD_TYPES",(function(){return Zt})),n.d(a,"BASE_GAS",(function(){return te})),n.d(a,"GAS_PER_BYTE",(function(){return ee})),n.d(a,"DEFAULT_FEE",(function(){return ne})),n.d(a,"KEY_BLOCK_INTERVAL",(function(){return re})),n.d(a,"TX_FEE_BASE_GAS",(function(){return ae})),n.d(a,"TX_FEE_OTHER_GAS",(function(){return oe})),n.d(a,"ID_TAG",(function(){return ce})),n.d(a,"PREFIX_ID_TAG",(function(){return ie})),n.d(a,"ID_TAG_PREFIX",(function(){return se})),n.d(a,"VALIDATION_MESSAGE",(function(){return ue})),n.d(a,"CONTRACT_BYTE_CODE_LIMA",(function(){return le})),n.d(a,"CONTRACT_BYTE_CODE_MINERVA",(function(){return de})),n.d(a,"CONTRACT_BYTE_CODE_ROMA",(function(){return he})),n.d(a,"TX_SERIALIZATION_SCHEMA",(function(){return pn})),n.d(a,"TX_DESERIALIZATION_SCHEMA",(function(){return fn})),n.d(a,"SIGNATURE_VERIFICATION_SCHEMA",(function(){return Tn})),n.d(a,"CONTRACT_VERIFICATION_SCHEMA",(function(){return jn})),n.d(a,"NAME_CLAIM_VERIFICATION_SCHEMA",(function(){return Cn})),n.d(a,"BASE_VERIFICATION_SCHEMA",(function(){return In}));var o={};n.r(o),n.d(o,"createSalt",(function(){return Nn})),n.d(o,"buildContractId",(function(){return Dn})),n.d(o,"buildHash",(function(){return Mn})),n.d(o,"oracleQueryId",(function(){return Vn})),n.d(o,"formatSalt",(function(){return Fn})),n.d(o,"nameHash",(function(){return Rn})),n.d(o,"produceNameId",(function(){return qn})),n.d(o,"commitmentHash",(function(){return Un})),n.d(o,"decode",(function(){return Hn})),n.d(o,"encode",(function(){return Kn})),n.d(o,"writeId",(function(){return Ln})),n.d(o,"readId",(function(){return Wn})),n.d(o,"writeInt",(function(){return Gn})),n.d(o,"readInt",(function(){return Qn})),n.d(o,"buildPointers",(function(){return Yn})),n.d(o,"readPointers",(function(){return zn})),n.d(o,"isNameValid",(function(){return Xn})),n.d(o,"classify",(function(){return $n})),n.d(o,"validatePointers",(function(){return Jn})),n.d(o,"getMinimumNameFee",(function(){return Zn})),n.d(o,"computeBidFee",(function(){return tr})),n.d(o,"computeAuctionEndBlock",(function(){return er})),n.d(o,"getContractBackendFromTx",(function(){return nr})),n.d(o,"isAuctionName",(function(){return rr})),n.d(o,"default",(function(){return ar}));var c={};n.r(c),n.d(c,"ADDRESS_FORMAT",(function(){return cr})),n.d(c,"formatAddress",(function(){return ir})),n.d(c,"getAddressFromPriv",(function(){return sr})),n.d(c,"isAddressValid",(function(){return ur})),n.d(c,"addressToHex",(function(){return pr})),n.d(c,"addressFromDecimal",(function(){return fr})),n.d(c,"hash",(function(){return lr})),n.d(c,"sha256hash",(function(){return dr})),n.d(c,"salt",(function(){return hr})),n.d(c,"encodeBase64Check",(function(){return mr})),n.d(c,"checkSumFn",(function(){return vr})),n.d(c,"decodeBase64Check",(function(){return gr})),n.d(c,"encodeBase58Check",(function(){return yr})),n.d(c,"decodeBase58Check",(function(){return br})),n.d(c,"hexStringToByte",(function(){return xr})),n.d(c,"encodeUnsigned",(function(){return wr})),n.d(c,"encodeContractAddress",(function(){return kr})),n.d(c,"generateKeyPairFromSecret",(function(){return Or})),n.d(c,"generateKeyPair",(function(){return Ar})),n.d(c,"encryptPublicKey",(function(){return Tr})),n.d(c,"encryptPrivateKey",(function(){return jr})),n.d(c,"encryptKey",(function(){return Cr})),n.d(c,"decryptKey",(function(){return Ir})),n.d(c,"sign",(function(){return Er})),n.d(c,"verify",(function(){return Pr})),n.d(c,"prepareTx",(function(){return Sr})),n.d(c,"personalMessageToBinary",(function(){return _r})),n.d(c,"signPersonalMessage",(function(){return Nr})),n.d(c,"verifyPersonalMessage",(function(){return Br})),n.d(c,"aeEncodeKey",(function(){return Dr})),n.d(c,"generateSaveWallet",(function(){return Mr})),n.d(c,"decryptPrivateKey",(function(){return Vr})),n.d(c,"decryptPubKey",(function(){return Fr})),n.d(c,"assertedType",(function(){return Rr})),n.d(c,"decodeTx",(function(){return qr})),n.d(c,"encodeTx",(function(){return Ur})),n.d(c,"isValidKeypair",(function(){return Hr})),n.d(c,"envKeypair",(function(){return Kr})),n.d(c,"encryptData",(function(){return Lr})),n.d(c,"decryptData",(function(){return Wr})),n.d(c,"decode",(function(){return Gr})),n.d(c,"encode",(function(){return Qr})),n.d(c,"rlp",(function(){return Yr}));var i={};n.r(i),n.d(i,"deriveKeyUsingArgon2id",(function(){return oa})),n.d(i,"getAddressFromPriv",(function(){return ha})),n.d(i,"recover",(function(){return ma})),n.d(i,"dump",(function(){return ga})),n.d(i,"validateKeyObj",(function(){return ba}));var s={};n.r(s),n.d(s,"AE_AMOUNT_FORMATS",(function(){return Oa})),n.d(s,"DENOMINATION_MAGNITUDE",(function(){return Aa})),n.d(s,"toAe",(function(){return Ta})),n.d(s,"toAettos",(function(){return ja})),n.d(s,"formatAmount",(function(){return Ca})),n.d(s,"default",(function(){return Sa}));var u={};n.r(u),n.d(u,"calculateMinFee",(function(){return Ha})),n.d(u,"calculateFee",(function(){return La})),n.d(u,"validateParams",(function(){return Wa})),n.d(u,"buildRawTx",(function(){return Ga})),n.d(u,"unpackRawTx",(function(){return Qa})),n.d(u,"buildTx",(function(){return za})),n.d(u,"unpackTx",(function(){return Xa})),n.d(u,"buildTxHash",(function(){return $a})),n.d(u,"default",(function(){return Ja}));var p={};n.r(p),n.d(p,"SOPHIA_TYPES",(function(){return io})),n.d(p,"decodeEvents",(function(){return so})),n.d(p,"transformEvent",(function(){return uo})),n.d(p,"injectVars",(function(){return po})),n.d(p,"linkTypeDefs",(function(){return fo})),n.d(p,"readType",(function(){return mo})),n.d(p,"transform",(function(){return vo})),n.d(p,"transformVariant",(function(){return go})),n.d(p,"transformMap",(function(){return yo})),n.d(p,"transformDecodedData",(function(){return bo})),n.d(p,"prepareSchema",(function(){return xo})),n.d(p,"getJoiErrorMsg",(function(){return wo})),n.d(p,"validateArguments",(function(){return Oo}));var f={};n.r(f),n.d(f,"getFunctionACI",(function(){return jo})),n.d(f,"buildContractMethods",(function(){return Co})),n.d(f,"parseArguments",(function(){return Io})),n.d(f,"unpackByteCode",(function(){return Eo})),n.d(f,"prepareArgsForEncode",(function(){return Po})),n.d(f,"decodeEvents",(function(){return So})),n.d(f,"decodeCallResult",(function(){return _o}));var l=n(54),d=n.n(l),h=n(33),m=n(82),v=n(55),g=n.n(v),y=n(12),b=n.n(y),x=n(83),w=n.n(x),k=n(84),O=n.n(k),A=n(3),T=n.n(A),j=n(85),C=n.n(j),I=n(56),E=n.n(I);function P(t){return t.replace(/_./g,(function(t){return E()(t[1])}))}function S(t){return t.replace(/[A-Z]/g,(function(t){return"_".concat(C()(t))}))}function _(t){return!("string"!=typeof t||t.length%2!=0||!t.match(/^[0-9a-f]+$/i))}function N(t){return"string"==typeof t&&(2===t.split("_")[0].length&&ur(t))}function B(t){if(t.length%4>0||t.match(/[^0-9a-z+/=]/i))return!1;var e=t.indexOf("=");return!(-1!==e&&!t.slice(e).match(/={1,2}/))}function D(t,e){var n=t-e.length;if(n>0){var r=new Uint8Array(n);return r.fill(0,n),Buffer.concat([r,e])}return e}function M(t,e){var n=t-e.length;if(n>0){var r=new Uint8Array(n);return r.fill(0,n),Buffer.concat([e,r])}return e}function V(t){if(!t.isInteger())throw new Error("Unexpected not integer value: ".concat(t.toFixed()));var e=t.toString(16);return e.length%2>0&&(e="0"+e),Buffer.from(e,"hex")}function F(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==t)return Buffer.from([]);if(Number.isInteger(t)||T.a.isBigNumber(t)||e)return T.a.isBigNumber(t)||(t=T()(t)),V(t);if("string"==typeof t)return t.toString("utf-8");throw new Error("Byte serialization not supported")}function R(t,e){return t&&t.constructor===String?(!e&&_(t)&&(e="hex"),!e&&B(t)&&(e="base64"),Buffer.from(t,e)):t}var q,U,H,K,L,W,G,Q,Y,z=n(88),X=n.n(z),$=n(87),J=n.n($),Z=n(37),tt=n.n(Z),et=n(57),nt=n.n(et),rt=n(86),at=n.n(rt),ot=n(5),ct=n.n(ot),it=n(18),st=n.n(it),ut=n(7),pt=n.n(ut),ft=n(1),lt=n.n(ft),dt=1,ht=2,mt=0,vt=3e4,gt={type:"delta",value:500},yt={type:"delta",value:10},bt={type:"delta",value:10},xt=0,wt=0,kt=1579e3,Ot=1e9,At=5e4,Tt={pub:"ak_11111111111111111111111111111111273Yts",amount:"100000000000000000000000000000000000"},jt=["chain"],Ct=5e4,It=36e3,Et=84600,Pt=Et,St=0,_t=1e14,Nt=.05,Bt=480,Dt=12,Mt={ak:"account_pubkey",ok:"oracle_pubkey",ct:"contract_pubkey",ch:"channel"},Vt={31:T()(3).times(_t),30:T()(5).times(_t),29:T()(8).times(_t),28:T()(13).times(_t),27:T()(21).times(_t),26:T()(34).times(_t),25:T()(55).times(_t),24:T()(89).times(_t),23:T()(144).times(_t),22:T()(233).times(_t),21:T()(377).times(_t),20:T()(610).times(_t),19:T()(987).times(_t),18:T()(1597).times(_t),17:T()(2584).times(_t),16:T()(4181).times(_t),15:T()(6765).times(_t),14:T()(10946).times(_t),13:T()(17711).times(_t),12:T()(28657).times(_t),11:T()(46368).times(_t),10:T()(75025).times(_t),9:T()(121393).times(_t),8:T()(196418).times(_t),7:T()(317811).times(_t),6:T()(514229).times(_t),5:T()(832040).times(_t),4:T()(1346269).times(_t),3:T()(2178309).times(_t),2:T()(3524578).times(_t),1:T()(5702887).times(_t)},Ft={13:T()(0),12:T()(Bt),8:T()(31).times(Bt),4:T()(62).times(Bt)},Rt=11,qt=function(t,e,n){return[t,e,n]},Ut=function(t,e){return[t,e]},Ht={account:"account",signed:"signedTx",spend:"spendTx",nameClaim:"nameClaimTx",namePreClaim:"namePreClaimTx",nameUpdate:"nameUpdateTx",nameRevoke:"nameRevokeTx",nameTransfer:"nameTransfer",contract:"contract",contractCreate:"contractCreateTx",contractCall:"contractCallTx",contractCallResult:"contractCallResult",oracleRegister:"oracleRegister",oracleExtend:"oracleExtend",oracleQuery:"oracleQuery",oracleResponse:"oracleResponse",channelCreate:"channelCreate",channelCloseMutual:"channelCloseMutual",channelCloseSolo:"channelCloseSolo",channelSlash:"channelSlash",channelDeposit:"channelDeposit",channelWithdraw:"channelWithdraw",channelSettle:"channelSettle",channelOffChain:"channelOffChain",channelForceProgress:"channelForceProgress",channel:"channel",channelSnapshotSolo:"channelSnapshotSolo",channelOffChainUpdateTransfer:"channelOffChainUpdateTransfer",channelOffChainUpdateDeposit:"channelOffChainUpdateDeposit",channelOffChainUpdateWithdrawal:"channelOffChainUpdateWithdrawal",channelOffChainCreateContract:"channelOffChainCreateContract",channelOffChainCallContract:"channelOffChainCallContract",channelReconnect:"channelReconnect",proofOfInclusion:"proofOfInclusion",stateTrees:"stateTrees",merklePatriciaTree:"merklePatriciaTree",merklePatriciaTreeValue:"merklePatriciaTreeValue",contractsTree:"contractsTree",contractCallsTree:"contractCallsTree",channelsTree:"channelsTree",nameserviceTree:"nameserviceTree",oraclesTree:"oraclesTree",accountsTree:"accountsTree",gaAttach:"gaAttach",gaMeta:"gaMeta",sophiaByteCode:"sophiaByteCode"},Kt={NO_VM:0,SOPHIA:1,SOLIDITY:2,SOPHIA_IMPROVEMENTS_MINERVA:3,SOPHIA_IMPROVEMENTS_FORTUNA:4,FATE:5,SOPHIA_IMPROVEMENTS_LIMA:6},Lt={NO_ABI:0,SOPHIA:1,SOLIDITY:2,FATE:3},Wt={FATE:"fate",AEVM:"aevm"},Gt=[3],Qt=(q={},lt()(q,Ht.contractCreate,{vmVersion:[Kt.SOPHIA],abiVersion:[Lt.SOPHIA]}),lt()(q,Ht.contractCall,{vmVersion:[Kt.SOPHIA],abiVersion:[Lt.SOPHIA]}),lt()(q,Ht.oracleRegister,{vmVersion:[Kt.SOPHIA],abiVersion:[Lt.NO_ABI,Lt.SOPHIA]}),q),Yt=(U={},lt()(U,Ht.contractCreate,{vmVersion:[Kt.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Lt.SOPHIA]}),lt()(U,Ht.contractCall,{vmVersion:[Kt.SOPHIA_IMPROVEMENTS_MINERVA,Kt.SOPHIA],abiVersion:[Lt.SOPHIA]}),lt()(U,Ht.oracleRegister,{vmVersion:[Kt.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Lt.NO_ABI,Lt.SOPHIA]}),U),zt=(H={},lt()(H,Ht.contractCreate,{vmVersion:[Kt.SOPHIA_IMPROVEMENTS_FORTUNA],abiVersion:[Lt.SOPHIA]}),lt()(H,Ht.contractCall,{vmVersion:[Kt.SOPHIA_IMPROVEMENTS_FORTUNA,Kt.SOPHIA,Kt.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Lt.SOPHIA]}),lt()(H,Ht.oracleRegister,{vmVersion:[],abiVersion:[Lt.NO_ABI,Lt.SOPHIA]}),H),Xt=(K={},lt()(K,Ht.contractCreate,{vmVersion:[Kt.FATE,Kt.SOPHIA_IMPROVEMENTS_LIMA],abiVersion:[Lt.FATE,Lt.SOPHIA]}),lt()(K,Ht.contractCall,{vmVersion:[Kt.FATE,Kt.SOPHIA_IMPROVEMENTS_LIMA,Kt.SOPHIA_IMPROVEMENTS_FORTUNA,Kt.SOPHIA,Kt.SOPHIA_IMPROVEMENTS_MINERVA],abiVersion:[Lt.FATE,Lt.SOPHIA]}),lt()(K,Ht.oracleRegister,{vmVersion:[],abiVersion:[Lt.NO_ABI,Lt.SOPHIA]}),K),$t={1:Qt,2:Yt,3:zt,4:Xt},Jt=(L={},lt()(L,10,Ht.account),lt()(L,Rt,Ht.signed),lt()(L,12,Ht.spend),lt()(L,32,Ht.nameClaim),lt()(L,33,Ht.namePreClaim),lt()(L,34,Ht.nameUpdate),lt()(L,35,Ht.nameRevoke),lt()(L,36,Ht.nameTransfer),lt()(L,40,Ht.contract),lt()(L,42,Ht.contractCreate),lt()(L,43,Ht.contractCall),lt()(L,41,Ht.contractCallResult),lt()(L,22,Ht.oracleRegister),lt()(L,25,Ht.oracleExtend),lt()(L,23,Ht.oracleQuery),lt()(L,24,Ht.oracleResponse),lt()(L,50,Ht.channelCreate),lt()(L,53,Ht.channelCloseMutual),lt()(L,54,Ht.channelCloseSolo),lt()(L,55,Ht.channelSlash),lt()(L,521,Ht.channelForceProgress),lt()(L,51,Ht.channelDeposit),lt()(L,52,Ht.channelWithdraw),lt()(L,56,Ht.channelSettle),lt()(L,57,Ht.channelOffChain),lt()(L,58,Ht.channel),lt()(L,59,Ht.channelSnapshotSolo),lt()(L,570,Ht.channelOffChainUpdateTransfer),lt()(L,571,Ht.channelOffChainUpdateDeposit),lt()(L,572,Ht.channelOffChainUpdateWithdrawal),lt()(L,573,Ht.channelOffChainCreateContract),lt()(L,574,Ht.channelOffChainCallContract),lt()(L,575,Ht.channelReconnect),lt()(L,60,Ht.proofOfInclusion),lt()(L,62,Ht.stateTrees),lt()(L,63,Ht.merklePatriciaTree),lt()(L,64,Ht.merklePatriciaTreeValue),lt()(L,621,Ht.contractsTree),lt()(L,622,Ht.contractCallsTree),lt()(L,623,Ht.channelsTree),lt()(L,624,Ht.nameserviceTree),lt()(L,625,Ht.oraclesTree),lt()(L,626,Ht.accountsTree),lt()(L,80,Ht.gaAttach),lt()(L,81,Ht.gaMeta),lt()(L,70,Ht.sophiaByteCode),L),Zt={int:"int",amount:"amount",id:"id",ids:"ids",string:"string",binary:"binary",rlpBinary:"rlpBinary",rlpBinaries:"rlpBinaries",rawBinary:"rawBinary",bool:"bool",hex:"hex",signatures:"signatures",pointers:"pointers",offChainUpdates:"offChainUpdates",callStack:"callStack",proofOfInclusion:"proofOfInclusion",mptree:"mptree",callReturnType:"callReturnType",ctVersion:"ctVersion",sophiaCodeTypeInfo:"sophiaCodeTypeInfo",payload:"payload",any:"any",stateTree:"stateTree"},te=15e3,ee=20,ne=2e4,re=3,ae=function(t,e){var n=e.backend,r=void 0===n?Wt.FATE:n;switch(t){case Ht.gaAttach:case Ht.contractCreate:return T()(5*te);case Ht.gaMeta:case Ht.contractCall:return T()((r===Wt.FATE?12:30)*te);default:return T()(te)}},oe=function(t){return function(e){var n=e.txSize,r=e.relativeTtl;switch(t){case Ht.oracleRegister:case Ht.oracleExtend:case Ht.oracleQuery:case Ht.oracleResponse:return T()(n).times(ee).plus(Math.ceil(32e3*r/Math.floor(525600/re)));default:return T()(n).times(ee)}}},ce={account:1,name:2,commitment:3,oracle:4,contract:5,channel:6},ie={ak:ce.account,nm:ce.name,cm:ce.commitment,ok:ce.oracle,ct:ce.contract,ch:ce.channel},se=(Y=ie,Object.entries(Y).reduce((function(t,e){var n=ct()(e,2),r=n[0];return(t[n[1]]=r)&&t}),{})),ue=(W={},lt()(W,Zt.int,(function(t){var e=t.value,n=t.isMinusValue;return"".concat(e,n?" must be >= 0":" is not of type Number or BigNumber")})),lt()(W,Zt.amount,(function(t){var e=t.value,n=t.isMinusValue;return"".concat(e,n?" must be >= 0":" is not of type Number or BigNumber")})),lt()(W,Zt.id,(function(t){var e=t.value,n=t.prefix;return"'".concat(e,"' prefix doesn't match expected prefix '").concat(n,"' or ID_TAG for prefix not found")})),lt()(W,Zt.binary,(function(t){var e=t.prefix,n=t.value;return"'".concat(n,"' prefix doesn't match expected prefix '").concat(e,"'")})),lt()(W,Zt.string,(function(t){t.value;return"Not a string"})),lt()(W,Zt.pointers,(function(t){t.value;return'Value must be of type Array and contains only object\'s like \'{key: "account_pubkey", id: "ak_lkamsflkalsdalksdlasdlasdlamd"}\''})),lt()(W,Zt.ctVersion,(function(t){t.value;return'Value must be an object with "vmVersion" and "abiVersion" fields'})),W),pe=[qt("tag",Zt.int),qt("VSN",Zt.int)],fe=[].concat(pe,[qt("nonce",Zt.int),qt("balance",Zt.int)]),le=[].concat(pe,[qt("sourceCodeHash",Zt.rawBinary),qt("typeInfo",Zt.sophiaCodeTypeInfo),qt("byteCode",Zt.rawBinary),qt("compilerVersion",Zt.string),qt("payable",Zt.bool)]),de=[].concat(pe,[qt("sourceCodeHash",Zt.rawBinary),qt("typeInfo",Zt.sophiaCodeTypeInfo),qt("byteCode",Zt.rawBinary),qt("compilerVersion",Zt.string)]),he=[].concat(pe,[qt("sourceCodeHash",Zt.rawBinary),qt("typeInfo",Zt.sophiaCodeTypeInfo),qt("byteCode",Zt.rawBinary)]),me=[].concat(pe,[qt("flags",Zt.int),qt("nonce",Zt.int),qt("balance",Zt.int),qt("gaContract",Zt.id,["ct","nm"]),qt("gaAuthFun",Zt.binary,"cb")]),ve=[].concat(pe,[qt("senderId",Zt.id,"ak"),qt("recipientId",Zt.id,["ak","nm"]),qt("amount",Zt.amount),qt("fee",Zt.int),qt("ttl",Zt.int),qt("nonce",Zt.int),qt("payload",Zt.payload)]),ge=[].concat(pe,[qt("signatures",Zt.signatures),qt("encodedTx",Zt.rlpBinary)]),ye=[].concat(pe,[qt("accountId",Zt.id,"ak"),qt("nonce",Zt.int),qt("commitmentId",Zt.id,"cm"),qt("fee",Zt.int),qt("ttl",Zt.int)]),be=[].concat(pe,[qt("accountId",Zt.id,"ak"),qt("nonce",Zt.int),qt("name",Zt.binary,"nm"),qt("nameSalt",Zt.int),qt("fee",Zt.int),qt("ttl",Zt.int)]),xe=[].concat(pe,[qt("accountId",Zt.id,"ak"),qt("nonce",Zt.int),qt("name",Zt.binary,"nm"),qt("nameSalt",Zt.int),qt("nameFee",Zt.amount),qt("fee",Zt.int),qt("ttl",Zt.int)]),we=[].concat(pe,[qt("accountId",Zt.id,"ak"),qt("nonce",Zt.int),qt("nameId",Zt.id,"nm"),qt("nameTtl",Zt.int),qt("pointers",Zt.pointers),qt("clientTtl",Zt.int),qt("fee",Zt.int),qt("ttl",Zt.int)]),ke=[].concat(pe,[qt("accountId",Zt.id,"ak"),qt("nonce",Zt.int),qt("nameId",Zt.id,"nm"),qt("recipientId",Zt.id,["ak","nm"]),qt("fee",Zt.int),qt("ttl",Zt.int)]),Oe=[].concat(pe,[qt("accountId",Zt.id,"ak"),qt("nonce",Zt.int),qt("nameId",Zt.id,"nm"),qt("fee",Zt.int),qt("ttl",Zt.int)]),Ae=[].concat(pe,[qt("owner",Zt.id,"ak"),qt("ctVersion",Zt.int),qt("code",Zt.binary,"cb"),qt("log",Zt.binary,"cb"),qt("active",Zt.bool),qt("referers",Zt.ids,"ak"),qt("deposit",Zt.amount)]),Te=[].concat(pe,[qt("ownerId",Zt.id,"ak"),qt("nonce",Zt.int),qt("code",Zt.binary,"cb"),qt("authFun",Zt.rawBinary),qt("ctVersion",Zt.ctVersion),qt("fee",Zt.int),qt("ttl",Zt.int),qt("gas",Zt.int),qt("gasPrice",Zt.int),qt("callData",Zt.binary,"cb")]),je=[].concat(pe,[qt("gaId",Zt.id,"ak"),qt("authData",Zt.binary,"cb"),qt("abiVersion",Zt.int),qt("fee",Zt.int),qt("gas",Zt.int),qt("gasPrice",Zt.int),qt("ttl",Zt.int),qt("tx",Zt.rlpBinary)]),Ce=[].concat(pe,[qt("ownerId",Zt.id,"ak"),qt("nonce",Zt.int),qt("code",Zt.binary,"cb"),qt("ctVersion",Zt.ctVersion),qt("fee",Zt.int),qt("ttl",Zt.int),qt("deposit",Zt.amount),qt("amount",Zt.amount),qt("gas",Zt.int),qt("gasPrice",Zt.int),qt("callData",Zt.binary,"cb")]),Ie=[].concat(pe,[qt("callerId",Zt.id,"ak"),qt("nonce",Zt.int),qt("contractId",Zt.id,["ct","nm"]),qt("abiVersion",Zt.int),qt("fee",Zt.int),qt("ttl",Zt.int),qt("amount",Zt.amount),qt("gas",Zt.int),qt("gasPrice",Zt.int),qt("callData",Zt.binary,"cb")]),Ee=[].concat(pe,[qt("callerId",Zt.id,"ak"),qt("callerNonce",Zt.int),qt("height",Zt.int),qt("contractId",Zt.id,"ct"),qt("gasPrice",Zt.int),qt("gasUsed",Zt.int),qt("returnValue",Zt.binary,"cb"),qt("returnType",Zt.callReturnType),qt("log",Zt.rawBinary)]),Pe=[].concat(pe,[qt("accountId",Zt.id,"ak"),qt("nonce",Zt.int),qt("queryFormat",Zt.string),qt("responseFormat",Zt.string),qt("queryFee",Zt.amount),qt("oracleTtlType",Zt.int),qt("oracleTtlValue",Zt.int),qt("fee",Zt.int),qt("ttl",Zt.int),qt("abiVersion",Zt.int)]),Se=[].concat(pe,[qt("oracleId",Zt.id,["ok","nm"]),qt("nonce",Zt.int),qt("oracleTtlType",Zt.int),qt("oracleTtlValue",Zt.int),qt("fee",Zt.int),qt("ttl",Zt.int)]),_e=[].concat(pe,[qt("senderId",Zt.id,"ak"),qt("nonce",Zt.int),qt("oracleId",Zt.id,["ok","nm"]),qt("query",Zt.string),qt("queryFee",Zt.amount),qt("queryTtlType",Zt.int),qt("queryTtlValue",Zt.int),qt("responseTtlType",Zt.int),qt("responseTtlValue",Zt.int),qt("fee",Zt.int),qt("ttl",Zt.int)]),Ne=[].concat(pe,[qt("oracleId",Zt.id,"ok"),qt("nonce",Zt.int),qt("queryId",Zt.binary,"oq"),qt("response",Zt.string),qt("responseTtlType",Zt.int),qt("responseTtlValue",Zt.int),qt("fee",Zt.int),qt("ttl",Zt.int)]),Be=[].concat(pe,[qt("initiator",Zt.id,"ak"),qt("initiatorAmount",Zt.int),qt("responder",Zt.id,"ak"),qt("responderAmount",Zt.int),qt("channelReserve",Zt.int),qt("lockPeriod",Zt.int),qt("ttl",Zt.int),qt("fee",Zt.int),qt("delegateIds",Zt.string),qt("stateHash",Zt.binary,"st"),qt("nonce",Zt.int)]),De=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("fromId",Zt.id,"ak"),qt("amount",Zt.int),qt("ttl",Zt.int),qt("fee",Zt.int),qt("stateHash",Zt.binary,"st"),qt("round",Zt.int),qt("nonce",Zt.int)]),Me=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("toId",Zt.id,"ak"),qt("amount",Zt.int),qt("ttl",Zt.int),qt("fee",Zt.int),qt("stateHash",Zt.binary,"st"),qt("round",Zt.int),qt("nonce",Zt.int)]),Ve=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("fromId",Zt.id,"ak"),qt("initiatorAmountFinal",Zt.int),qt("responderAmountFinal",Zt.int),qt("ttl",Zt.int),qt("fee",Zt.int),qt("nonce",Zt.int)]),Fe=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("fromId",Zt.id,"ak"),qt("payload",Zt.binary,"tx"),qt("poi",Zt.binary,"pi"),qt("ttl",Zt.int),qt("fee",Zt.int),qt("nonce",Zt.int)]),Re=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("fromId",Zt.id,"ak"),qt("payload",Zt.binary,"tx"),qt("poi",Zt.binary,"pi"),qt("ttl",Zt.int),qt("fee",Zt.int),qt("nonce",Zt.int)]),qe=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("fromId",Zt.id,"ak"),qt("initiatorAmountFinal",Zt.int),qt("responderAmountFinal",Zt.int),qt("ttl",Zt.int),qt("fee",Zt.int),qt("nonce",Zt.int)]),Ue=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("fromId",Zt.id,"ak"),qt("payload",Zt.binary,"tx"),qt("round",Zt.int),qt("update",Zt.binary),qt("stateHash",Zt.binary),qt("offChainTrees",Zt.stateTree),qt("ttl",Zt.int),qt("fee",Zt.int),qt("nonce",Zt.int)]),He=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("round",Zt.int),qt("updates",Zt.offChainUpdates),qt("stateHash",Zt.binary,"st")]),Ke=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("round",Zt.int),qt("stateHash",Zt.binary,"st")]),Le=[].concat(pe,[qt("initiator",Zt.id,"ak"),qt("responder",Zt.id,"ak"),qt("channelAmount",Zt.int),qt("initiatorAmount",Zt.int),qt("responderAmount",Zt.int),qt("channelReserve",Zt.int),qt("delegateIds",Zt.ids),qt("stateHash",Zt.hex),qt("round",Zt.int),qt("soloRound",Zt.int),qt("lockPeriod",Zt.int),qt("lockedUntil",Zt.int)]),We=[].concat(pe,[qt("initiator",Zt.id,"ak"),qt("responder",Zt.id,"ak"),qt("channelAmount",Zt.int),qt("initiatorAmount",Zt.int),qt("responderAmount",Zt.int),qt("channelReserve",Zt.int),qt("delegateIds",Zt.ids),qt("stateHash",Zt.hex),qt("round",Zt.int),qt("soloRound",Zt.int),qt("lockPeriod",Zt.int),qt("lockedUntil",Zt.int),qt("initiatorAuth",Zt.binary,"cb"),qt("responderAuth",Zt.binary,"cb")]),Ge=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("fromId",Zt.id,"ak"),qt("payload",Zt.binary,"tx"),qt("ttl",Zt.int),qt("fee",Zt.int),qt("nonce",Zt.int)]),Qe=[].concat(pe,[qt("owner",Zt.id,"ak"),qt("ctVersion",Zt.int),qt("code",Zt.binary,"cb"),qt("deposit",Zt.int),qt("callData",Zt.binary,"cb")]),Ye=[].concat(pe,[qt("caller",Zt.id,"ak"),qt("contract",Zt.id,"ct"),qt("abiVersion",Zt.int),qt("amount",Zt.int),qt("callData",Zt.binary,"cb"),qt("callStack",Zt.callStack),qt("gasPrice",Zt.int),qt("gasLimit",Zt.int)]),ze=[].concat(pe,[qt("channelId",Zt.id,"ch"),qt("round",Zt.int),qt("role",Zt.string),qt("pubkey",Zt.id,"ak")]),Xe=[].concat(pe,[qt("from",Zt.id,"ak"),qt("to",Zt.id,"ak"),qt("amount",Zt.int)]),$e=[].concat(pe,[qt("from",Zt.id,"ak"),qt("amount",Zt.int)]),Je=[].concat(pe,[qt("from",Zt.id,"ak"),qt("amount",Zt.int)]),Ze=[].concat(pe,[qt("accounts",Zt.mptrees),qt("calls",Zt.mptrees),qt("channels",Zt.mptrees),qt("contracts",Zt.mptrees),qt("ns",Zt.mptrees),qt("oracles",Zt.mptrees)]),tn=[].concat(pe,[qt("contracts",Zt.rlpBinary),qt("calls",Zt.rlpBinary),qt("channels",Zt.rlpBinary),qt("ns",Zt.rlpBinary),qt("oracles",Zt.rlpBinary),qt("accounts",Zt.rlpBinary)]),en=[].concat(pe,[qt("values",Zt.rlpBinaries)]),nn=[].concat(pe,[qt("key",Zt.hex),qt("value",Zt.rawBinary)]),rn=[].concat(pe,[qt("contracts",Zt.rlpBinary)]),an=[].concat(pe,[qt("calls",Zt.rlpBinary)]),on=[].concat(pe,[qt("channels",Zt.rlpBinary)]),cn=[].concat(pe,[qt("mtree",Zt.rlpBinary)]),sn=[].concat(pe,[qt("otree",Zt.rlpBinary)]),un=[].concat(pe,[qt("accounts",Zt.rlpBinary)]),pn=(G={},lt()(G,Ht.account,{1:Ut(fe,10),2:Ut(me,10)}),lt()(G,Ht.signed,{1:Ut(ge,Rt)}),lt()(G,Ht.spend,{1:Ut(ve,12)}),lt()(G,Ht.namePreClaim,{1:Ut(ye,33)}),lt()(G,Ht.nameClaim,{1:Ut(be,32),2:Ut(xe,32)}),lt()(G,Ht.nameUpdate,{1:Ut(we,34)}),lt()(G,Ht.nameTransfer,{1:Ut(ke,36)}),lt()(G,Ht.nameRevoke,{1:Ut(Oe,35)}),lt()(G,Ht.contract,{1:Ut(Ae,40)}),lt()(G,Ht.contractCreate,{1:Ut(Ce,42)}),lt()(G,Ht.contractCall,{1:Ut(Ie,43)}),lt()(G,Ht.contractCallResult,{1:Ut(Ee,41)}),lt()(G,Ht.oracleRegister,{1:Ut(Pe,22)}),lt()(G,Ht.oracleExtend,{1:Ut(Se,25)}),lt()(G,Ht.oracleQuery,{1:Ut(_e,23)}),lt()(G,Ht.oracleResponse,{1:Ut(Ne,24)}),lt()(G,Ht.channelCreate,{1:Ut(Be,50)}),lt()(G,Ht.channelCloseMutual,{1:Ut(Ve,53)}),lt()(G,Ht.channelCloseSolo,{1:Ut(Fe,54)}),lt()(G,Ht.channelSlash,{1:Ut(Re,55)}),lt()(G,Ht.channelDeposit,{1:Ut(De,51)}),lt()(G,Ht.channelWithdraw,{1:Ut(Me,52)}),lt()(G,Ht.channelSettle,{1:Ut(qe,56)}),lt()(G,Ht.channelForceProgress,{1:Ut(Ue,521)}),lt()(G,Ht.channelOffChain,{1:Ut(He,57),2:Ut(Ke,57)}),lt()(G,Ht.channel,{1:Ut(Le,58),2:Ut(We,58)}),lt()(G,Ht.channelSnapshotSolo,{1:Ut(Ge,59)}),lt()(G,Ht.channelOffChainUpdateTransfer,{1:Ut(Xe,570)}),lt()(G,Ht.channelOffChainUpdateDeposit,{1:Ut($e,571)}),lt()(G,Ht.channelOffChainUpdateWithdrawal,{1:Ut(Je,572)}),lt()(G,Ht.channelOffChainCreateContract,{1:Ut(Qe,573)}),lt()(G,Ht.channelOffChainCallContract,{1:Ut(Ye,574)}),lt()(G,Ht.channelReconnect,{1:Ut(ze,575)}),lt()(G,Ht.proofOfInclusion,{1:Ut(Ze,60)}),lt()(G,Ht.stateTrees,{1:Ut(tn,62)}),lt()(G,Ht.merklePatriciaTree,{1:Ut(en,63)}),lt()(G,Ht.merklePatriciaTreeValue,{1:Ut(nn,64)}),lt()(G,Ht.contractsTree,{1:Ut(rn,621)}),lt()(G,Ht.contractCallsTree,{1:Ut(an,622)}),lt()(G,Ht.channelsTree,{1:Ut(on,623)}),lt()(G,Ht.nameserviceTree,{1:Ut(cn,624)}),lt()(G,Ht.oraclesTree,{1:Ut(sn,625)}),lt()(G,Ht.accountsTree,{1:Ut(un,626)}),lt()(G,Ht.gaAttach,{1:Ut(Te,80)}),lt()(G,Ht.gaMeta,{1:Ut(je,81)}),G),fn=(Q={},lt()(Q,10,{1:Ut(fe,10),2:Ut(me,10)}),lt()(Q,Rt,{1:Ut(ge,Rt)}),lt()(Q,12,{1:Ut(ve,12)}),lt()(Q,33,{1:Ut(ye,33)}),lt()(Q,32,{1:Ut(be,32),2:Ut(xe,32)}),lt()(Q,34,{1:Ut(we,34)}),lt()(Q,36,{1:Ut(ke,36)}),lt()(Q,35,{1:Ut(Oe,35)}),lt()(Q,40,{1:Ut(Ae,40)}),lt()(Q,42,{1:Ut(Ce,42)}),lt()(Q,43,{1:Ut(Ie,43)}),lt()(Q,41,{1:Ut(Ee,41)}),lt()(Q,22,{1:Ut(Pe,22)}),lt()(Q,25,{1:Ut(Se,25)}),lt()(Q,23,{1:Ut(_e,23)}),lt()(Q,24,{1:Ut(Ne,24)}),lt()(Q,50,{1:Ut(Be,50)}),lt()(Q,53,{1:Ut(Ve,53)}),lt()(Q,54,{1:Ut(Fe,54)}),lt()(Q,55,{1:Ut(Re,55)}),lt()(Q,51,{1:Ut(De,51)}),lt()(Q,52,{1:Ut(Me,52)}),lt()(Q,56,{1:Ut(qe,56)}),lt()(Q,57,{1:Ut(He,57),2:Ut(Ke,57)}),lt()(Q,58,{1:Ut(Le,58),2:Ut(We,58)}),lt()(Q,59,{1:Ut(Ge,59)}),lt()(Q,570,{1:Ut(Xe,570)}),lt()(Q,571,{1:Ut($e,571)}),lt()(Q,572,{1:Ut(Je,572)}),lt()(Q,573,{1:Ut(Qe,573)}),lt()(Q,574,{1:Ut(Ye,574)}),lt()(Q,575,{1:Ut(ze,575)}),lt()(Q,60,{1:Ut(Ze,60)}),lt()(Q,62,{1:Ut(tn,62)}),lt()(Q,63,{1:Ut(en,63)}),lt()(Q,64,{1:Ut(nn,64)}),lt()(Q,621,{1:Ut(rn,621)}),lt()(Q,622,{1:Ut(an,622)}),lt()(Q,623,{1:Ut(on,623)}),lt()(Q,624,{1:Ut(cn,624)}),lt()(Q,625,{1:Ut(sn,625)}),lt()(Q,626,{1:Ut(un,626)}),lt()(Q,80,{1:Ut(Te,80)}),lt()(Q,81,{1:Ut(je,81)}),lt()(Q,521,{1:Ut(Ue,521)}),lt()(Q,70,{1:Ut(he,70),2:Ut(de,70),3:Ut(le,70)}),Q),ln="error",dn="warning",hn=function(t,e,n){return[t,e,n]},mn="insufficientFee",vn="expiredTTL",gn="insufficientBalanceForAmountFee",yn="insufficientBalanceForAmount",bn="nonceUsed",xn="nonceHigh",wn="minGasPrice",kn="vmAndAbiVersion",On="insufficientBalanceForFeeNameFee",An={invalidSignature:{key:"InvalidSignature",type:ln,txKey:"signature"},insufficientFee:{key:"InsufficientFee",type:ln,txKey:"fee"},expiredTTL:{key:"ExpiredTTL",type:ln,txKey:"ttl"},insufficientBalanceForAmountFee:{key:"InsufficientBalanceForAmountFee",type:dn,txKey:"fee"},insufficientBalanceForAmount:{key:"InsufficientBalanceForAmount",type:dn,txKey:"amount"},nonceUsed:{key:"NonceUsed",type:ln,txKey:"nonce"},nonceHigh:{key:"NonceHigh",type:dn,txKey:"nonce"},minGasPrice:{key:"minGasPrice",type:ln,txKey:"gasPrice"},vmAndAbiVersion:{key:"vmAndAbiVersion",type:ln,txKey:"ctVersion"},insufficientBalanceForFeeNameFee:{key:"insufficientBalanceForFeeNameFee",type:ln,txKey:"nameFee"}},Tn=[hn((function(){return"The signature cannot be verified, please verify that you used the correct network id and the correct private key for the sender address"}),"signature",An.invalidSignature)],jn=[hn((function(t){t.ctVersion;var e=t.consensusProtocolVersion,n=t.txType;return"Wrong abi/vm version, Supported is: ".concat($t[e]?JSON.stringify($t[e][n]):" None for this protocol "+e)}),kn,An.vmAndAbiVersion),hn((function(){return"The gasPrice must be bigger then ".concat(Ot)}),wn,An.minGasPrice)],Cn=[hn((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),On,An.insufficientBalanceForFeeNameFee)],In=[hn((function(t){var e=t.minFee;return"The fee for the transaction is too low, the minimum fee for this transaction is ".concat(e)}),mn,An.insufficientFee),hn((function(t){var e=t.height;return"The TTL is already expired, the current height is ".concat(e)}),vn,An.expiredTTL),hn((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),gn,An.insufficientBalanceForAmountFee),hn((function(t){var e=t.balance;return"The account balance ".concat(e," is not enough to execute the transaction")}),yn,An.insufficientBalanceForAmount),hn((function(t){var e=t.accountNonce;return"The nonce is invalid(already used). Next valid nonce is ".concat(e+1,")")}),bn,An.nonceUsed),hn((function(t){var e=t.accountNonce;return"The nonce is technically valid but will not be processed immediately by the node (next valid nonce is ".concat(e+1,")")}),xn,An.nonceHigh)];function En(t){return T()(t.toString()).toString(10)}function Pn(t){return T()(t.toString())}function Sn(t){return!isNaN(t)||Number.isInteger(t)||T.a.isBigNumber(t)}function _n(t){return t.integerValue(T.a.ROUND_CEIL)}var Nn=hr,Bn=["tx","st","ss","pi","ov","or","cb","cs","ba"];function Dn(t,e){return Kn(lr(Buffer.from([].concat(pt()(Hn(t,"ak")),pt()(F(e))))),"ct")}function Mn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{raw:!1};return n.raw?lr(e):Kn(lr(e),t)}function Vn(t,e,n){var r;return Kn(lr(Buffer.from([].concat(pt()(Hn(t,"ak")),pt()((r=F(e,!0),Buffer.concat([Buffer.alloc(32-r.length),r]))),pt()(Hn(n,"ok"))))),"oq")}function Fn(t){return Buffer.from(t.toString(16).padStart(64,"0"),"hex")}function Rn(t){var e=Buffer.allocUnsafe(32).fill(0);if(t){for(var n=t.split("."),r=0;r<n.length;r++)e=lr(Buffer.concat([e,lr(n[r])]));return e}return e}function qn(t){return Kn("chain"===st()(t.split("."))?lr(t.toLowerCase()):Rn(t),"nm")}function Un(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn(),n=st()(t.split("."));return"cm_".concat(yr(lr("chain"===n?Buffer.concat([Buffer.from(t.toLowerCase()),Fn(e)]):Buffer.concat([Rn(t.toLowerCase()),Fn(e)]))))}function Hn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||(e=t.split("_")[0]),Bn.includes(e)?gr(Rr(t,e)):br(Rr(t,e))}function Kn(t,e){return"".concat(e,"_").concat(Bn.includes(e)?mr(t):yr(t))}function Ln(t){var e=t.slice(0,2),n=ie[e];if(!n)throw new Error("Id tag for prefix ".concat(e," not found."));return Buffer.from([].concat(pt()(F(n)),pt()(Hn(t,e))))}function Wn(t){var e=t.readUIntBE(0,1),n=se[e];if(!n)throw new Error("Prefix for id-tag ".concat(e," not found."));return Kn(t.slice(1,t.length),n)}function Gn(t){return F(t,!0)}function Qn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Buffer.from([]);return T()(t.toString("hex"),16).toString(10)}function Yn(t){return t.map((function(t){return[F(t.key),Ln(t.id)]}))}function zn(t){return t.map((function(t){var e=ct()(t,2),n=e[0],r=e[1];return Object.assign({key:n.toString(),id:Wn(r)})}))}function Xn(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((!t||"string"!=typeof t)&&e)throw new Error("AENS: Name must be a string");if(!jt.includes(st()(t.split(".")))){if(e)throw new Error("AENS: Invalid name domain. Possible domains [".concat(jt,"]"));return!1}return!0}function $n(t){if(!t.match(/^[a-z]{2}_.+/))throw Error("Not a valid hash");var e=t.substr(0,2);if(e in Mt)return Mt[e];throw Error("Unknown class ".concat(e))}function Jn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!t.find((function(t){return!t||"string"!=typeof t||!["ak","ok","ct","ch"].includes(t.split("_")[0])}))}function Zn(t){var e=t.replace(".chain","").length;return Vt[e>=Dt?Dt:e]}function tr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:St,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nt;if(Number(n)!==n||n%1==0)throw new Error("Increment must be float. Current increment ".concat(n));if(n<Nt)throw new Error("minimum increment percentage is ".concat(Nt));return _n(T()(T()(e).eq(St)?Zn(t):e).times(T()(Nt).plus(1)))}function er(t,e){return at()([[nt()(5),tt()(Ft[4].plus(e))],[nt()(9),tt()(Ft[8].plus(e))],[J()(Dt),tt()(Ft[12].plus(e))],[X.a,tt()(T()(e))]])(t.replace(".chain","").length).toString(10)}function nr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.abiVersion;return Gt.includes(parseInt(e))?Wt.FATE:Wt.AEVM}function rr(t){return t.replace(".chain","").length<13}var ar={readPointers:zn,buildPointers:Yn,buildContractId:Dn,readId:Wn,writeId:Ln,readInt:Qn,writeInt:Gn,encode:Kn,decode:Hn,commitmentHash:Un,formatSalt:Fn,oracleQueryId:Vn,getContractBackendFromTx:nr,createSalt:Nn,buildHash:Mn,isNameValid:Xn,produceNameId:qn,classify:$n,isAuctionName:rr,validatePointers:Jn},or=w.a.ModeOfOperation.ecb,cr={sophia:1,api:2,raw:3};function ir(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr.api,e=arguments.length>1?arguments[1]:void 0;switch(t){case cr.api:return e;case cr.sophia:return"0x".concat(Hn(e,"ak").toString("hex"))}}function sr(t){var e=b.a.sign.keyPair.fromSecretKey(R(t)),n=Buffer.from(e.publicKey);return"ak_".concat(yr(n))}function ur(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ak";try{e=32===br(Rr(t,n)).length}catch(t){e=!1}return e}function pr(t){return"0x".concat(br(Rr(t,"ak")).toString("hex"))}function fr(t){return Dr(F(t,!0))}function lr(t){return Buffer.from(Object(m.blake2b)(t,null,32))}function dr(t){return O()("sha256").update(t).digest()}function hr(){return Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER))}function mr(t){var e=Buffer.from(t),n=vr(t);return Buffer.concat([e,n],e.length+4).toString("base64")}function vr(t){return dr(dr(t)).slice(0,4)}function gr(t){var e=function(t){var e=t.slice(0,-4),n=t.slice(-4),r=vr(e);if(n.equals(r))return e}(Buffer.from(t,"base64"));if(!e)throw new Error("Invalid checksum");return Buffer.from(e)}function yr(t){return d.a.encode(Buffer.from(t))}function br(t){return d.a.decode(t)}function xr(t){if(!t)return new Uint8Array;for(var e=[],n=0,r=t.length;n<r;n+=2)e.push(parseInt(t.substr(n,2),16));return new Uint8Array(e)}function wr(t){var e=Buffer.allocUnsafe(4);return e.writeUInt32BE(t),e.slice(e.findIndex((function(t){return 0!==t})))}function kr(t,e){var n=br(Rr(t,"ak")),r=Buffer.concat([n,wr(e)]);return"ct_".concat(yr(lr(r)))}function Or(t){return b.a.sign.keyPair.fromSecretKey(t)}function Ar(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=b.a.sign.keyPair(),n=Buffer.from(e.publicKey),r=Buffer.from(e.secretKey);return t?{publicKey:n,secretKey:r}:{publicKey:"ak_".concat(yr(n)),secretKey:r.toString("hex")}}function Tr(t,e){return Cr(t,M(32,e))}function jr(t,e){return Cr(t,D(64,e))}function Cr(t,e){var n=dr(t);return new or(n).encrypt(e)}function Ir(t,e){var n=Buffer.from(e),r=dr(t),a=new or(r);return Buffer.from(a.decrypt(n))}function Er(t,e){return b.a.sign.detached(Buffer.from(t),Buffer.from(e))}function Pr(t,e,n){return b.a.sign.detached.verify(new Uint8Array(t),e,n)}function Sr(t,e){return[Buffer.from([11]),Buffer.from([1]),[Buffer.from(t)],e]}function _r(t){var e=Buffer.from("aeternity Signed Message:\n","utf8"),n=Buffer.from(t,"utf8");if(n.length>=253)throw new Error("message too long");return Buffer.concat([Buffer.from([e.length]),e,Buffer.from([n.length]),n])}function Nr(t,e){return Er(lr(_r(t)),e)}function Br(t,e,n){return Pr(lr(_r(t)),e,n)}function Dr(t){var e=yr(Buffer.from(t,"hex"));return"ak_".concat(e)}function Mr(t){var e=Ar(!0);return{publicKey:Tr(t,e.publicKey),secretKey:jr(t,e.secretKey)}}function Vr(t,e){return Ir(t,e)}function Fr(t,e){return Ir(t,e).slice(0,65)}function Rr(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(RegExp("^".concat(e,"_.+$")).test(t))return t.split("_")[1];if(!n)throw Error("Data doesn't match expected type ".concat(e));return!1}function qr(t){return h.decode(Buffer.from(gr(Rr(t,"tx"))))}function Ur(t){var e=mr(h.encode(t));return"tx_".concat(e)}function Hr(t,e){var n=Buffer.from("TheMessage");return Pr(n,Er(n,t),e)}function Kr(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={secretKey:t.WALLET_PRIV,publicKey:t.WALLET_PUB};if(n.publicKey&&n.secretKey)return n;if(!e)throw Error("Environment variables WALLET_PRIV and WALLET_PUB need to be set")}function Lr(t,e){var n=b.a.box.keyPair(),r=br(Rr(e,"ak")),a=b.a.randomBytes(b.a.box.nonceLength),o=b.a.box(Buffer.from(t),a,g.a.convertPublicKey(r),n.secretKey);return{ciphertext:Buffer.from(o).toString("hex"),ephemPubKey:Buffer.from(n.publicKey).toString("hex"),nonce:Buffer.from(a).toString("hex"),version:"x25519-xsalsa20-poly1305"}}function Wr(t,e){var n=g.a.convertSecretKey(Buffer.from(t,"hex")),r=Buffer.from(e.nonce,"hex"),a=Buffer.from(e.ciphertext,"hex"),o=Buffer.from(e.ephemPubKey,"hex"),c=b.a.box.open(a,r,o,n);return c?Buffer.from(c):c}var Gr=h.decode,Qr=h.encode,Yr=h,zr=n(0),Xr=n.n(zr),$r=n(2),Jr=n.n($r),Zr=n(22);function ta(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ta(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var na=n(146),ra={crypto:{secret_type:"ed25519",symmetric_alg:"xsalsa20-poly1305",kdf:"argon2id",kdf_params:{memlimit_kib:65536,opslimit:3,parallelism:1}}},aa={argon2id:oa};function oa(t,e,n){return ca.apply(this,arguments)}function ca(){return(ca=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.kdf_params,o=a.memlimit_kib,c=a.opslimit,t.abrupt("return",na.ready.then(Jr()(Xr.a.mark((function t(){var r,a;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(r=na).crypto_pwhash(32,e,n,c,1024*o,r.crypto_pwhash_ALG_ARGON2ID13),t.abrupt("return",Buffer.from(a));case 3:case"end":return t.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ia={"xsalsa20-poly1305":{encrypt:function(t){var e=t.plaintext,n=t.key,r=t.nonce;return b.a.secretbox(e,r,n)},decrypt:function(t){var e=t.ciphertext,n=t.key,r=t.nonce,a=b.a.secretbox.open(e,r,n);if(!a)throw new Error("Invalid password or nonce");return a}}};function sa(t,e){return t&&t.constructor===String?(!e&&_(t)&&(e="hex"),!e&&B(t)&&(e="base64"),Buffer.from(t,e)):t}function ua(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ra.crypto.symmetric_alg;if(!ia[r])throw new Error(r+" is not available");return ia[r].encrypt({plaintext:t,nonce:n,key:e})}function pa(t,e,n,r){if(!ia[r])throw new Error(r+" is not available");return ia[r].decrypt({ciphertext:t,nonce:n,key:e})}function fa(t,e){return la.apply(this,arguments)}function la(){return(la=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{kdf_params:ra.crypto.kdf_params,kdf:ra.crypto.kdf},null!=e&&n){t.next=3;break}throw new Error("Must provide password and nonce to derive a key");case 3:if(Object.prototype.hasOwnProperty.call(aa,r.kdf)){t.next=5;break}throw new Error("Unsupported kdf type");case 5:return t.abrupt("return",aa[r.kdf](e,n,r));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function da(t,e,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=Object.assign({},ra.crypto,o);return Object.assign({name:t,version:1,public_key:ha(n),id:Object(Zr.v4)()},{crypto:Object.assign({secret_type:c.secret_type,symmetric_alg:c.symmetric_alg,ciphertext:Buffer.from(ua(Buffer.from(n),e,r,c.symmetric_alg)).toString("hex"),cipher_params:{nonce:Buffer.from(r).toString("hex")}},{kdf:c.kdf,kdf_params:ea(ea({},c.kdf_params),{},{salt:Buffer.from(a).toString("hex")})})})}function ha(t){var e=b.a.sign.keyPair.fromSecretKey(sa(t)),n=Buffer.from(e.publicKey);return"ak_".concat(yr(n))}function ma(t,e){return va.apply(this,arguments)}function va(){return(va=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ba(n),r=Uint8Array.from(sa(n.crypto.cipher_params.nonce)),a=Uint8Array.from(sa(n.crypto.kdf_params.salt)),o=n.crypto.kdf_params,c=n.crypto.kdf,t.t0=pa,t.t1=Uint8Array.from(sa(n.crypto.ciphertext)),t.next=9,fa(e,a,{kdf:c,kdf_params:o});case 9:return t.t2=t.sent,t.t3=r,t.t4=n.crypto.symmetric_alg,t.next=14,(0,t.t0)(t.t1,t.t2,t.t3,t.t4);case 14:if(i=t.sent){t.next=17;break}throw new Error("Invalid password");case 17:if(64!==Buffer.from(i).length){t.next=19;break}return t.abrupt("return",Buffer.from(i).toString("hex"));case 19:return t.abrupt("return",Buffer.from(i).toString("utf-8"));case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ga(t,e,n){return ya.apply(this,arguments)}function ya(){return(ya=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:b.a.randomBytes(24),o=s.length>4&&void 0!==s[4]?s[4]:b.a.randomBytes(16),c=s.length>5&&void 0!==s[5]?s[5]:{},i=Object.assign({},ra.crypto,c),t.t0=da,t.t1=e,t.next=8,fa(n,o,i);case 8:return t.t2=t.sent,t.t3=r,t.t4=a,t.t5=o,t.t6=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5,t.t6));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ba(t){var e=["crypto","id","version","public_key"].filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)}));if(e.length)throw new Error("Invalid key file format. Require properties: ".concat(e));var n=["cipher_params","ciphertext","symmetric_alg","kdf","kdf_params"].filter((function(e){return!Object.prototype.hasOwnProperty.call(t.crypto,e)}));if(n.length)throw new Error("Invalid key file format. Require properties: ".concat(n));return!0}var xa,wa=n(9),ka=n.n(wa),Oa={AE:"ae",MILI_AE:"miliAE",MICRO_AE:"microAE",NANO_AE:"nanoAE",PICO_AE:"picoAE",FEMTO_AE:"femtoAE",AETTOS:"aettos"},Aa=(xa={},lt()(xa,Oa.AE,0),lt()(xa,Oa.MILI_AE,-3),lt()(xa,Oa.MICRO_AE,-6),lt()(xa,Oa.NANO_AE,-9),lt()(xa,Oa.PICO_AE,-12),lt()(xa,Oa.FEMTO_AE,-15),lt()(xa,Oa.AETTOS,-18),xa),Ta=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.denomination,r=void 0===n?Oa.AETTOS:n;return Ca(t,{denomination:r,targetDenomination:Oa.AE})},ja=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.denomination,r=void 0===n?Oa.AE:n;return Ca(t,{denomination:r})},Ca=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.denomination,r=void 0===n?Oa.AETTOS:n,a=e.targetDenomination,o=void 0===a?Oa.AETTOS:a;if(!Object.values(Oa).includes(r))throw new Error("Invalid denomination. Current: ".concat(r,", available [").concat(Object.keys(Oa),"]"));if(!Object.values(Oa).includes(o))throw new Error("Invalid target denomination. Current: ".concat(o,", available [").concat(Object.keys(Oa),"]"));if(!Sn(t))throw new Error("Value ".concat(t," is not type of number"));return Pn(t).shiftedBy(Aa[r]-Aa[o]).toFixed()},Ia=[{name:"exa",magnitude:18},{name:"giga",magnitude:9},{name:"",magnitude:0},{name:"pico",magnitude:-12}],Ea=function(t){return Ia.reduce((function(e,n){return Math.abs(n.magnitude-t)<Math.abs(e.magnitude-t)?n:e}))},Pa=function(t){return Ia.find((function(e){return e.magnitude<=t}))||Ia[Ia.length-1]},Sa=function(t){T.a.isBigNumber(t)||(t=T()(t));var e=(t.e<0?Ea:Pa)(t.e),n=e.name,r=e.magnitude,a=t.shiftedBy(-r).precision(9+Math.min(t.e-r,0)).toFixed();return"".concat(a).concat(n?" ":"").concat(n)};function _a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Na(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_a(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ba(t){return{rootHash:t[0].toString("hex"),nodes:t[1].reduce((function(t,e){return Na(Na({},t),{},lt()({},e[0].toString("hex"),e[1]))}),{})}}function Da(t){return[Buffer.from(t.rootHash,"hex"),Object.entries(t.nodes).map((function(t){var e=ct()(t,2),n=e[0],r=e[1];return[Buffer.from(n,"hex"),r]}))]}function Ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ma(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fa="delta";function Ra(t,e,n){switch(e){case Zt.amount:case Zt.int:return Gn(t);case Zt.id:return Ln(t);case Zt.ids:return t.map(Ln);case Zt.bool:return Buffer.from([t?1:0]);case Zt.binary:return Hn(t,n);case Zt.stateTree:return Hn(t,"ss");case Zt.hex:return Buffer.from(t,"hex");case Zt.signatures:return t.map(Buffer.from);case Zt.payload:return"string"==typeof t&&"ba"===t.split("_")[0]?Hn(t,"ba"):F(t);case Zt.string:return F(t);case Zt.pointers:return Yn(t);case Zt.mptree:return t.map(Da);case Zt.ctVersion:return Buffer.from([].concat(pt()(F(t.vmVersion)),[0],pt()(F(t.abiVersion))));case Zt.callReturnType:switch(t){case"ok":return Gn(0);case"error":return Gn(1);case"revert":return Gn(2);default:return t}default:return t}}function qa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.denomination;t=e.filter((function(t){var e=ct()(t,2);e[0];return e[1]===Zt.amount})).reduce((function(e,n){var a=ct()(n,1)[0];return Va(Va({},t),{},lt()({},a,Ca(t[a],{denomination:r})))}),t);var a=e.map((function(t){return ct()(t,1)[0]}));return Object.entries(t).reduce((function(t,e){var n=ct()(e,2),r=n[0],o=n[1];return a.includes(r)&&(t[r]=o),["oracleTtl","queryTtl","responseTtl"].includes(r)&&(t["".concat(r,"Type")]=o.type===Fa?0:1,t["".concat(r,"Value")]=o.value),t}),{})}function Ua(t,e){var n,r=(n={},lt()(n,Ht.oracleRegister,"oracleTtl"),lt()(n,Ht.oracleExtend,"oracleTtl"),lt()(n,Ht.oracleQuery,"queryTtl"),lt()(n,Ht.oracleResponse,"responseTtl"),n)[e];return t[r]||t["".concat(r,"Value")]?t["".concat(r,"Value")]||t[r].value:1}function Ha(t,e){var n=e.gas,r=void 0===n?0:n,a=e.params,o=e.vsn,c=T()(1e9);if(!a)return T()(ne).times(c).toString(10);for(var i=Ka(t,{params:Va(Va({},a),{},{fee:0}),multiplier:c,gas:r,vsn:o}),s=T()(0);!i.eq(s);)s=i=Ka(t,{params:Va(Va({},a),{},{fee:i}),multiplier:c,gas:r,vsn:o});return s.toString(10)}function Ka(t,e){var n=e.params,r=(e.gas,e.multiplier),a=e.vsn,o=za(Va({},n),t,{vsn:a}).rlpEncoded.length;return ae(t,{backend:nr(n)}).plus(oe(t)({txSize:o,relativeTtl:Ua(n,t)})).times(r)}function La(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.gas,a=void 0===r?0:r,o=n.params,c=n.showWarning,i=void 0===c||c,s=n.vsn;return!o&&i&&console.warn("Can't build transaction fee, we will use DEFAULT_FEE(".concat(ne,")")),t||Ha(e,{params:o,gas:a,vsn:s})}function Wa(t,e,n){var r=n.excludeKeys,a=void 0===r?[]:r;return e.filter((function(t){var e=ct()(t,1)[0];return!a.includes(e)&&"payload"!==e})).reduce((function(e,n){var r=ct()(n,3),a=r[0],o=r[1],c=r[2];return Object.assign(e,function(t,e,n,r){var a=function(t,r){return t?{}:lt()({},e,ue[n](r))};if(null==t)return lt()({},e,"Field is required");switch(n){case Zt.amount:case Zt.int:var o=(!isNaN(t)||T.a.isBigNumber(t))&&T()(t).lt(0);return a((!isNaN(t)||T.a.isBigNumber(t))&&T()(t).gte(0),{value:t,isMinusValue:o});case Zt.id:return Array.isArray(r)?a(r.find((function(e){return e===t.split("_")[0]}))&&ie[t.split("_")[0]],{value:t,prefix:r}):a(Rr(t,r)&&ie[t.split("_")[0]]&&t.split("_")[0]===r,{value:t,prefix:r});case Zt.binary:return a(t.split("_")[0]===r,{prefix:r,value:t});case Zt.string:return a(!0);case Zt.ctVersion:return a("object"===ka()(t)&&Object.prototype.hasOwnProperty.call(t,"abiVersion")&&Object.prototype.hasOwnProperty.call(t,"vmVersion"));case Zt.pointers:return a(Array.isArray(t)&&!t.find((function(t){return t!==Object(t)})),{value:t});default:return{}}}(t[a],a,o,c))}),{})}function Ga(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,a=void 0===r?[]:r,o=n.denomination,c=void 0===o?Oa.AETTOS:o,i=e.filter((function(t){var e=ct()(t,1)[0];return!a.includes(e)})),s=Wa(t=qa(t,i,{denomination:c}),e,{excludeKeys:a});if(Object.keys(s).length)throw new Error("Transaction build error. "+JSON.stringify(s));return i.map((function(e){var n=ct()(e,3),r=n[0],a=n[1],o=n[2];return Ra(t[r],a,o)}))}function Qa(t,e){return e.reduce((function(e,n,r){var a=ct()(n,3),o=a[0],c=a[1],i=a[2];return Object.assign(e,lt()({},o,function(t,e,n){if(!t)return"";switch(e){case Zt.ctVersion:var r=ct()(t,3),a=r[0],o=r[2];return{vmVersion:Qn(Buffer.from([a])),abiVersion:Qn(Buffer.from([o]))};case Zt.amount:case Zt.int:return Qn(t);case Zt.id:return Wn(t);case Zt.ids:return t.map(Wn);case Zt.bool:return 1===t[0];case Zt.binary:return Kn(t,n);case Zt.stateTree:return Kn(t,"ss");case Zt.string:return t.toString();case Zt.payload:return Kn(t,"ba");case Zt.pointers:return zn(t);case Zt.rlpBinary:return Xa(t,!0);case Zt.rlpBinaries:return t.map((function(t){return Xa(t,!0)}));case Zt.rawBinary:return t;case Zt.hex:return t.toString("hex");case Zt.offChainUpdates:return t.map((function(t){return Xa(t,!0)}));case Zt.callStack:return[Qn(t)];case Zt.mptree:return t.map(Ba);case Zt.callReturnType:switch(Qn(t)){case"0":return"ok";case"1":return"error";case"2":return"revert";default:return t}case Zt.sophiaCodeTypeInfo:return t.reduce((function(t,e){var n=ct()(e,4),r=n[0],a=n[1],o=n[2],c=n[3];return Va(Va({},t),{},lt()({},a.toString(),{funHash:r,argType:o,outType:c}))}),{});default:return t}}(t[r],c,i)))}),{})}var Ya=function(t){var e=t.vsn,n=t.objId,r=t.type,a=!!n,o=a?n:r,c=a?fn:pn;if(!c[o])throw new Error("Transaction ".concat(a?"deserialization":"serialization"," not implemented for ").concat(a?"tag "+n:r));if(!c[o][e])throw new Error("Transaction ".concat(a?"deserialization":"serialization"," not implemented for ").concat(a?"tag "+n:r," version ").concat(e));return c[o][e]};function za(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.excludeKeys,a=void 0===r?[]:r,o=n.prefix,c=void 0===o?"tx":o,i=n.vsn,s=void 0===i?dt:i,u=n.denomination,p=void 0===u?Oa.AETTOS:u,f=Ya({type:e,vsn:s}),l=ct()(f,2),d=l[0],h=l[1],m=Ga(Va(Va({},t),{},{VSN:s,tag:h}),d,{excludeKeys:a,denomination:t.denomination||p}).filter((function(t){return void 0!==t})),v=Yr.encode(m),g=Kn(v,c);return{tx:g,rlpEncoded:v,binary:m,txObject:Qa(m,d)}}function Xa(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tx",r=e?t:Hn(t,n),a=Yr.decode(r),o=Qn(a[0]),c=Qn(a[1]),i=Ya({objId:o,vsn:c}),s=ct()(i,1),u=s[0];return{txType:Jt[o],tx:Qa(a,u),rlpEncoded:r,binary:a}}function $a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{raw:!1};return"string"==typeof t&&-1!==t.indexOf("tx_")?Mn("th",Xa(t).rlpEncoded,e):Mn("th",t,e)}var Ja={calculateMinFee:Ha,calculateFee:La,unpackTx:Xa,unpackRawTx:Qa,buildTx:za,buildRawTx:Ga,validateParams:Wa,buildTxHash:$a},Za=n(28),to=n.n(Za),eo=n(29),no=n.n(eo),ro=n(14),ao=n.n(ro);function oo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oo(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var io=["int","string","tuple","address","bool","list","map","record","option","oracle","oracleQuery","hash","signature","bytes","variant"].reduce((function(t,e){return co(co({},t),{},lt()({},e,e))}),{ChainTtl:"Chain.ttl"});function so(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{schema:[]};return t.length?t.map((function(t){var n=no()(t.topics),r=n[0],a=n.slice(1),o=F(r,!0).toString("hex"),c=e.schema.reduce((function(e,n){return lr(n.name).toString("hex")===o?(t.name=n.name,{schema:n.types,name:n.name}):e}),{schema:[]}).schema.reduce((function(e,n){if(n===io.string)return{decoded:[].concat(pt()(e.decoded),[uo(t.data,n)]),params:e.params};var r=no()(e.params),a=r[0],o=r.slice(1);return{decoded:[].concat(pt()(e.decoded),[uo(a,n)]),params:o}}),{decoded:[],params:a}).decoded;return co(co({},t),{},{decoded:c})})):[]}function uo(t,e){switch(e){case io.int:return En(t);case io.bool:return!!t;case io.hash:return F(t,!0).toString("hex");case io.address:return fr(t).split("_")[1];case io.string:return Hn(t).toString("utf-8");default:return F(t,!0)}}function po(t,e){var n=Object.entries(e.typedef),r=ct()(n,1),a=ct()(r[0],2),o=a[0],c=a[1],i=Object.entries(t),s=ct()(i,1),u=ct()(s[0],2)[1];switch(o){case io.variant:return lt()({},o,c.map((function(t){var n=ct()(Object.entries(t)[0],2),r=n[0],a=n[1];return lt()({},r,a.map((function(t){var n=e.vars.map((function(t){return t.name})).indexOf(t);return-1===n?t:u[n]})))})))}}function fo(t,e){var n="object"===ka()(t)?Object.keys(t)[0].split("."):t.split("."),r=ct()(n,2),a=r[0],o=r[1],c=e.find((function(t){return t.name===a})),i=[].concat(pt()(c.type_defs),[{name:"state",typedef:c.state,vars:[]}]).find((function(t){return t.name===o}));return i.vars.length&&(i.typedef=po(t,i)),lo(i.typedef,e)?fo(i.typedef,e):i.typedef}var lo=function(t,e){if(!["string","object"].includes(ka()(t)))return!1;var n=(t="object"===ka()(t)?Object.keys(t)[0]:t).split("."),r=no()(n),a=r[0];return!!r.slice(1).length&&e.map((function(t){return t.name})).includes(a)},ho=function(t){if("string"!=typeof t)return!1;var e=t.split("."),n=no()(e),r=n[0];return!n.slice(1).length&&!Object.values(io).includes(r)};function mo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bindings,r=Array.isArray(t)?t:[t],a=ct()(r,1),o=a[0];if(ho(o))return{t:io.address};if(lo(o,n)&&(o=fo(o,n)),"object"===ka()(o)){var c=Object.entries(o),i=ct()(c,1),s=ct()(i[0],2),u=s[0],p=s[1];return{t:u,generic:p}}return"string"==typeof o?{t:o}:void 0}function vo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bindings,a=mo(t,{bindings:r}),o=a.t,c=a.generic;switch(o){case io.ChainTtl:return"".concat(e);case io.string:return'"'.concat(e,'"');case io.list:return"[".concat(e.map((function(t){return vo(c,t,{bindings:r})})),"]");case io.tuple:return"(".concat(e.map((function(t,e){return vo(c[e],t,{bindings:r})})),")");case io.option:return void 0===e?"None":"Some(".concat(vo(c,e,{bindings:r}),")");case io.hash:case io.bytes:case io.signature:if("string"==typeof e){if(_(e))return"#".concat(e);if(N(e))return"#".concat(Hn(e).toString("hex"))}return"#".concat(Buffer.from(e).toString("hex"));case io.record:return"{".concat(c.reduce((function(t,n,a){var o=n.name,c=n.type;return t+="".concat(0!==a?",":"").concat(o," = ").concat(vo(c,e[o],{bindings:r}))}),""),"}");case io.map:return yo(e,c,{bindings:r});case io.variant:return go(e,c,{bindings:r})}return"".concat(e)}function go(t,e,n){var r=n.bindings,a="string"==typeof t?[[t,[]]]:Object.entries(t),o=ct()(a,1),c=ct()(o[0],2),i=c[0],s=c[1],u=Object.entries(e.find((function(t){return Object.keys(t)[0].toLowerCase()===i.toLowerCase()}))),p=ct()(u,1),f=ct()(p[0],2),l=f[0],d=f[1];return"".concat(l).concat(d.length?"(".concat(s.slice(0,d.length).map((function(t,e){return vo(d[e],t,{bindings:r})})),")"):"")}function yo(t,e,n){var r=n.bindings;return t instanceof Map&&(t=Array.from(t.entries())),!Array.isArray(t)&&t instanceof Object&&(t=Object.entries(t)),"{".concat(t.reduce((function(t,n,a){var o=ct()(n,2),c=o[0],i=o[1];return 0!==a&&(t+=","),t+="[".concat(vo(e[0],c,{bindings:r}),"] = ").concat(vo(e[1],i,{bindings:r}))}),""),"}")}function bo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipTransformDecoded,a=void 0!==r&&r,o=(n.addressPrefix,n.bindings);if(a)return e;var c=mo(t,{bindings:o}),i=c.t,s=c.generic;switch(i){case io.bool:return!!e;case io.address:return 0===e?0:e;case io.hash:case io.bytes:case io.signature:return e.split("#")[1];case io.map:var u=ct()(s,2),p=u[0],f=u[1];return e.reduce((function(t,e){var n=ct()(e,2),r=n[0],a=n[1];return r=bo(p,r,{bindings:o}),a=bo(f,a,{bindings:o}),t.push([r,a]),t}),[]);case io.option:if("None"===e)return;var l=Object.entries(e),d=ct()(l,1),h=ct()(d[0],2),m=h[0],v=ct()(h[1],1),g=v[0];return"Some"===m?bo(s,g,{bindings:o}):void 0;case io.list:return e.map((function(t){return bo(s,t,{bindings:o})}));case io.tuple:return e.map((function(t,e){return bo(s[e],t,{bindings:o})}));case io.record:var y=s.reduce((function(t,e){return co(co({},t),{},lt()({},e.name,{type:e.type}))}),{});return Object.entries(e).reduce((function(t,e){var n=ct()(e,2),r=n[0],a=n[1];return co(co({},t),{},lt()({},r,bo(y[r].type,a,{bindings:o})))}),{})}return e}function xo(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.bindings,o=mo(t,{bindings:a}),c=o.t,i=o.generic;switch(c){case io.int:return ao.a.number().error(wo);case io.variant:return ao.a.alternatives().try([(e=ao.a.string()).valid.apply(e,pt()(i.reduce((function(t,e){var n=Object.entries(e),r=ct()(n,1),a=ct()(r[0],2),o=a[0],c=a[1];return c&&c.length||t.push(o),t}),[]))),(n=ao.a.object(i.reduce((function(t,e){var n=Object.keys(e)[0];return co(co({},t),{},lt()({},n,ao.a.array()))}),{}))).or.apply(n,pt()(i.map((function(t){return Object.keys(t)[0]}))))]);case io.ChainTtl:case io.string:return ao.a.string().error(wo);case io.address:return ao.a.string().regex(/^(ak_|ct_|ok_|oq_)/).error(wo);case io.bool:return ao.a.boolean().error(wo);case io.list:return ao.a.array().items(xo(i,{bindings:a})).error(wo);case io.tuple:return ao.a.array().ordered(i.map((function(t){return xo(t,{bindings:a}).required()}))).label("Tuple argument").error(wo);case io.record:return ao.a.object(i.reduce((function(t,e){var n=e.name,r=e.type;return co(co({},t),{},lt()({},n,xo(r,{bindings:a})))}),{})).error(wo);case io.hash:return ko.binary().bufferCheck(32).error(wo);case io.bytes:return ko.binary().bufferCheck(i).error(wo);case io.signature:return ko.binary().bufferCheck(64).error(wo);case io.option:return xo(i,{bindings:a}).optional().error(wo);default:return ao.a.any()}}function wo(t){return t.map((function(t){var e=t.path,n=t.type,r=t.context,a=Object.prototype.hasOwnProperty.call(r,"value")?r.value:r.label;switch(a="object"===ka()(a)?JSON.stringify(a).slice(1).slice(0,-1):a,n){case"string.base":return co(co({},t),{},{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a string")});case"number.base":return co(co({},t),{},{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a number")});case"boolean.base":return co(co({},t),{},{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a boolean")});case"array.base":return co(co({},t),{},{message:'Value "'.concat(a,'" at path: [').concat(e,"] not a array")});case"object.base":return co(co({},t),{},{message:"Value '".concat(a,"' at path: [").concat(e,"] not a object")});case"object.type":return co(co({},t),{},{message:"Value '".concat(a,"' at path: [").concat(e,"] not a ").concat(r.type)});case"binary.bufferCheck":return co(co({},t),{},{message:"Value '".concat(Buffer.from(a).toString("hex"),"' at path: [").concat(e,"] not a ").concat(r.size," bytes")});default:return t}}))}var ko=ao.a.extend((function(t){return{name:"binary",base:t.any(),pre:function(t,e,n){if(n.convert&&"string"==typeof t){if(N(t))return Hn(t);try{return Buffer.from(t,"hex")}catch(t){return}}return Buffer.from(t)},rules:[{name:"bufferCheck",params:{size:t.number().required()},validate:function(t,e,n,r){return Buffer.isBuffer(e)?e.length!==t.size?this.createError("binary.bufferCheck",{value:e,size:t.size},n,r):e:this.createError("binary.base",{value:e},n,r)}}]}}));function Oo(t,e){var n=ao.a.array().ordered(t.arguments.map((function(n,r){return xo(n.type,{bindings:t.bindings}).label("[".concat(e[r],"]"))}))).sparse(!0).label("Argument"),r=ao.a.validate(e,n,{abortEarly:!1}).error;if(r)throw r}function Ao(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ao(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jo(t,e,n){var r=n.external;if(!t)throw new Error("ACI required");var a=t.functions.find((function(t){return t.name===e}));if(!a&&"init"!==e)throw new Error("Function ".concat(e," doesn't exist in contract"));return To(To({},a),{},{bindings:[{state:t.state,type_defs:t.type_defs,name:t.name}].concat(pt()(r.map(to()(["state","type_defs","name"])))),event:t.event?t.event.variant:[]})}var Co=function(t){return function(){return To(To({},t.aci?t.aci.functions.reduce((function(e,n){var r=n.name,a=n.arguments,o=n.stateful;return To(To({},e),{},lt()({},r,Object.assign((function(){var e=Io(a)(arguments),n=e.opt,c=e.args;return"init"===r?t.deploy(c,n):t.call(r,c,To({callStatic:!o},n))}),{get:function(){var e=Io(a)(arguments),n=e.opt,o=e.args;return t.call(r,o,To(To({},n),{},{callStatic:!0}))},send:function(){var e=Io(a)(arguments),n=e.opt,o=e.args;return"init"===r?t.deploy(o,n):t.call(r,o,To(To({},n),{},{callStatic:!1}))},decodeEvents:function(e){return t.decodeEvents(r,e)}})))}),{}):{}),t.aci?{init:Object.assign((function(){var e=jo(t.aci,"init",{external:t.externalAci}),n=e.arguments,r=Io(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,a)}),{get:function(){var e=jo(t.aci,"init",{external:t.externalAci}),n=e.arguments,r=Io(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,To(To({},a),{},{callStatic:!0}))},send:function(){var e=jo(t.aci,"init",{external:t.externalAci}),n=e.arguments,r=Io(n)(arguments),a=r.opt,o=r.args;return t.deploy(o,To(To({},a),{},{callStatic:!1}))}})}:{})}},Io=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(e){return{opt:e.length>t.length?st()(e):{},args:Object.values(e).slice(0,t.length)}}},Eo=function(t){return Xa(t,!1,"cb").tx},Po=function(){var t=Jr()(Xr.a.mark((function t(e,n){var r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.arguments){t.next=2;break}return t.abrupt("return",n);case 2:if(!(e.arguments.length>n.length)){t.next=4;break}throw new Error('Function "'.concat(e.name,'" require ').concat(e.arguments.length," arguments of types [").concat(e.arguments.map((function(t){return JSON.stringify(t.type)})),"] but get [").concat(n.map(JSON.stringify),"]"));case 4:return Oo(e,n),r=e.bindings,t.abrupt("return",Promise.all(e.arguments.map(function(){var t=Jr()(Xr.a.mark((function t(e,a){var o;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.type,t.abrupt("return",vo(o,n[a],{bindings:r}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),So=function(t,e){return e&&e.event&&e.event.length?so(t,{schema:e.event.map((function(t){var e=Object.keys(t)[0];return{name:e,types:t[e]}}))}):[]},_o=function(){var t=Jr()(Xr.a.mark((function t(e,n,r){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bo,t.t1=n.returns,t.next=4,e.decode();case 4:return t.t2=t.sent,t.t3=To(To({},r),{},{bindings:n.bindings}),t.next=8,(0,t.t0)(t.t1,t.t2,t.t3);case 8:return t.t4=t.sent,t.t5=So(e.result.log,n),t.abrupt("return",{decodedResult:t.t4,decodedEvents:t.t5});case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),No=n(65),Bo=n(104),Do=n(39);function Mo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mo(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fo=Buffer.from("ed25519 seed"),Ro=function(t){return Buffer.from(t).toString("hex")};function qo(t,e){var n=""===t?[]:Object(Bo.fromString)(t).toPathArray();return n.forEach((function(t,e){if(t<2147483648)throw new Error("Segment #".concat(e+1," is not hardened"))})),n.reduce((function(t,e){return Wo(t,e)}),e)}function Uo(t,e){if(!["m","m/"].includes(t.slice(0,2)))throw new Error("Invalid path");var n=Lo(e);return qo(t.slice(2),n)}function Ho(t){var e=t.secretKey,n=t.publicKey;return{secretKey:Ro(e),publicKey:"ak_".concat(yr(n))}}function Ko(t){return b.a.sign.keyPair.fromSeed(t)}function Lo(t){var e=Object(No.full)(t,Fo);return{secretKey:e.slice(0,32),chainCode:e.slice(32)}}function Wo(t,e){var n=t.secretKey,r=t.chainCode;if(e<2147483648)throw new Error("Child index #".concat(e," is not supported"));var a=Buffer.allocUnsafe(4);a.writeUInt32BE(e,0);var o=Buffer.concat([Buffer.alloc(1,0),Buffer.from(n),Buffer.from(a)]),c=Object(No.full)(o,r);return{secretKey:c.slice(0,32),chainCode:c.slice(32)}}var Go={getHdWalletAccountFromMnemonic:function(t,e){var n=Uo("m/44h/457h",Object(Do.mnemonicToSeed)(t));return Vo(Vo({},Ho(Ko(qo("".concat(e,"h/0h/0h"),n).secretKey))),{},{idx:e})},getSaveHDWalletAccounts:function(t,e,n){var r={secretKey:Ir(e,Buffer.from(t.secretKey,"hex")),chainCode:Ir(e,Buffer.from(t.chainCode,"hex"))};return new Array(n).fill().map((function(t,e){return Ho(Ko(qo("".concat(e,"h/0h/0h"),r).secretKey))}))},generateSaveHDWallet:function(t,e){if(!Object(Do.validateMnemonic)(t))throw new Error("Invalid mnemonic");var n=Uo("m/44h/457h",Object(Do.mnemonicToSeed)(t));return{secretKey:Ro(Cr(e,n.secretKey)),chainCode:Ro(Cr(e,n.chainCode))}},generateMnemonic:function(){return Object(Do.generateMnemonic)()},deriveChild:Wo,getMasterKeyFromSeed:Lo},Qo=n(4),Yo=n.n(Qo),zo=n(11),Xo=n.n(zo),$o=n(6),Jo=n.n($o),Zo=Xo()({deepConf:{Ae:{methods:["spendTx","namePreclaimTx","nameClaimTx","nameTransferTx","nameUpdateTx","nameRevokeTx","contractCreateTx","contractCallTx","oracleRegisterTx","oracleExtendTx","oraclePostQueryTx","oracleRespondTx","getAccountNonce","channelCloseSoloTx","channelSlashTx","channelSettleTx","channelSnapshotSoloTx","getVmVersion","prepareTxParams","gaAttachTx"]}}},Object($o.required)({methods:{spendTx:$o.required,namePreclaimTx:$o.required,nameClaimTx:$o.required,nameTransferTx:$o.required,nameUpdateTx:$o.required,nameRevokeTx:$o.required,contractCreateTx:$o.required,contractCallTx:$o.required,oracleRegisterTx:$o.required,oracleExtendTx:$o.required,oraclePostQueryTx:$o.required,oracleRespondTx:$o.required,getAccountNonce:$o.required,channelCloseSoloTx:$o.required,channelSlashTx:$o.required,channelSettleTx:$o.required,channelSnapshotSoloTx:$o.required,gaAttachTx:$o.required,getVmVersion:$o.required,prepareTxParams:$o.required}})),tc=Xo()({deepConf:{Contract:{methods:["getOracle","getOracleQueries","getOracleQuery"]}}},Object($o.required)({methods:{getOracle:$o.required,getOracleQueries:$o.required,getOracleQuery:$o.required}})),ec=tc.compose({deepProps:{Ae:{defaults:{waitMined:!0}}},statics:{waitMined:function(t){return this.deepProps({Ae:{defaults:{waitMined:t}}})}},deepConf:{Ae:{methods:["sendTransaction","height","awaitHeight","poll","balance","getBalance","tx","mempool","topBlock","getTxInfo","txDryRun","getName","getNodeInfo","getAccount","getContractByteCode","getContract","waitForTxConfirm","resolveName"]}}},Object($o.required)({methods:{sendTransaction:$o.required,height:$o.required,awaitHeight:$o.required,topBlock:$o.required,poll:$o.required,balance:$o.required,getBalance:$o.required,tx:$o.required,getTxInfo:$o.required,mempool:$o.required,txDryRun:$o.required,getAccount:$o.required}})),nc=n(24),rc=n.n(nc),ac=n(31),oc=n.n(ac),cc=n(19),ic=n.n(cc),sc=n(20),uc=n.n(sc),pc=n(15),fc=n.n(pc),lc=n(44),dc=n.n(lc),hc=n(91),mc=n.n(hc),vc=n(90),gc=n.n(vc),yc=n(89),bc=n.n(yc);function xc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.stamp,r=e.args,a=e.instance;return n.compose.deepConfiguration.AsyncInit.initializers.reduce(function(){var e=Jr()(Xr.a.mark((function e(a,o){var c;return Xr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(a);case 2:if(a=e.sent,"function"!=typeof o){e.next=8;break}return e.next=6,Promise.resolve(o.call(a,t,{stamp:n,args:r,instance:a}));case 6:return c=e.sent,e.abrupt("return",void 0===c?a:c);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a)}var wc=Xo()({deepConf:{AsyncInit:{initializers:[]}},composers:function(t){var e=t.stamp,n=t.composables;e.compose.deepConfiguration.AsyncInit.initializers=bc()([xc],gc()(mc.a,dc()(n.map((function(t){return fc()(["compose","deepConfiguration","AsyncInit","initializers"],t)||(t.compose||t).initializers||[]}))))),e.compose.initializers=[xc]}}),kc=n(63),Oc=n.n(kc),Ac=n(45),Tc=n.n(Ac),jc=n(98),Cc=n.n(jc),Ic=n(32),Ec=n.n(Ic),Pc=n(62),Sc=n.n(Pc),_c=n(97),Nc=n.n(_c),Bc=n(96),Dc=n.n(Bc),Mc=n(8),Vc=n.n(Mc),Fc=n(61),Rc=n.n(Fc),qc=n(17),Uc=n.n(qc),Hc=n(53),Kc=n.n(Hc),Lc=n(95),Wc=n.n(Lc),Gc=n(25),Qc=n.n(Gc),Yc=n(60),zc=n.n(Yc),Xc=n(59),$c=n.n(Xc),Jc=n(93),Zc=n.n(Jc),ti=n(36),ei=n.n(ti),ni=n(38),ri=n.n(ni),ai=n(16),oi=n.n(ai),ci=n(92),ii=n.n(ci),si=n(30),ui=n.n(si),pi=n(23),fi=n.n(pi),li=n(58),di=n.n(li),hi=n(94);function mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mi(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gi=n.n(hi)()({storeAsString:!0}),yi=function t(e){if("object"===ka()(e)&&null!==e&&e.constructor===Object)return Object.entries(e).map((function(e){var n=ct()(e,2),r=n[0],a=n[1];return[r,t(a)]})).reduce((function(t,e){var n=ct()(e,2),r=n[0],a=n[1];return vi(vi({},t),{},lt()({},r,a))}),{});if(Array.isArray(e))return e.map((function(e){return t(e)}));if("string"==typeof e&&T()(e).toString(10)===e){var n=T()(e);return n.toJSON=function(){return n.toString(10)},n}return e},bi={stringify:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return gi.stringify.apply(gi,[yi(t)].concat(n))},parse:gi.parse};function xi(t,e){return di()(e).reduce((function(t,e){var n=ct()(e,2),r=n[0],a=n[1];return t.replace("{".concat(r,"}"),a)}),t)}function wi(t,e,n){var r=function(){var n=fc()(t,e).match(/^#\/definitions\/(.+)/);if(void 0!==n)return n[1];throw Error("Reference path does not meet specification: ".concat(t))}();if(r in n)return n[r];throw Error("Couldn't find definition for ".concat(r))}function ki(t,e,n){var r=Error(t);return Object.assign(r,{spec:e,value:n})}var Oi={integer:function(t,e,n){if("Number"===fi()(t)||T()(t).toString(10)===t)return"Number"===fi()(t)?Math.floor(t):t;throw ki("Not an integer",e,t)},enum:function(t,e,n){var r=e.enum;if(ic()(t,r))return t;throw ki("Not one of [".concat(ui()(", ",r),"]"),e,t)},string:function(t,e,n){if("String"===fi()(t))return t;throw ki("Not a string",e,t)},object:function(t,e,n){if("Object"===fi()(t)){var r=(e.required||[]).map(P),a=Si(e.properties),o=ii()(r,oi()(t));if(o.length>0)throw ki("Required properties missing: ".concat(ui()(", ",o)),e,t);return ri()((function(t,e){return function(t,e){try{return e()}catch(e){throw Object.assign(e,{path:[t].concat(e.path||[])})}}(e,(function(){return Ai(t,a[e],n)}))}),ei()(oc.a,to()(oi()(a),t)))}throw ki("Not an object",e,t)},array:function(t,e,n){if("Array"===fi()(t))return t.map((function(t){return Ai(t,e.items,n)}));throw ki("Not an array",e,t)},schema:function(t,e,n){return Ai(t,wi(["schema","$ref"],e,n),n)},$ref:function(t,e,n){return Ai(t,wi(["$ref"],e,n),n)},allOf:function(t,e,n){return Zc()(e.allOf.map((function(e){return Ai(t,e,n)})))}};function Ai(t,e,n){return(Oi[function(t){if("schema"in t)return"schema";if("$ref"in t)return"$ref";if("enum"in t)return"enum";if("allOf"in t)return"allOf";if("type"in t)return t.type;throw Object.assign(Error("Could not determine type"),{spec:t})}(e)]||function(){throw Object.assign(Error("Unsupported type"),{spec:e})})(t,e,n)}var Ti={headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return bi.parse(t)}catch(e){return t}}],transformRequest:[function(t){try{return bi.stringify(t)}catch(e){return t}}]},ji={get:function(t){return function(e,n){return uc.a.get(e,[Ti,t,n].reduce($c.a))}},post:function(t){return function(e,n){return uc.a.post(e,n,$c()(Ti,t))}}};function Ci(t){var e=zc()((function(t){return t.required?"req":"opts"}),t),n=e.req,r=e.opts,a=zc()((function(t){return t.in}),t),o=a.path,c=a.query,i=a.body;return{pathArgs:Qc()("name",o||[]),queryArgs:Qc()("name",c||[]),bodyArgs:Qc()("name",i||[]),req:n||[],opts:r||[]}}function Ii(t){return t.map((function(t){return Wc()("name",P(t.name),t)}))}var Ei=Kc()((function(t,e){return({Object:function(e){return Uc()(di()(e).map((function(e){var n=e[0],r=e[1];return[t(n),Ei(t,r)]})))},Array:function(e){return e.map(Ei(t))}}[fi()(e)]||Rc.a)(e)}));function Pi(t){return Ei(S,t)}function Si(t){return Ei(P,t)}function _i(t,e,n){var r=e.length?"".concat(ui()(", ",Qc()("name",e))):null,a=n.length?"{".concat(ui()(", ",Qc()("name",n)),"}"):null;return"".concat(t," (").concat(ui()(", ",[r,a].filter(Rc.a)),")")}function Ni(t){if(1===t.length)return Vc()(t);throw Error("Expected exactly one element in ".concat(t))}function Bi(t){var e=t.config,n=e.method,r=e.url,a=t.response,o=a.status,c=a.data,i=a.statusText,s=Dc()("reason",c)?c.reason:c?rc()(c):i;return"".concat(n.toUpperCase()," to ").concat(r," failed with ").concat(o,": ").concat(s)}function Di(t,e){var n=t.match(/^#\/(.+)$/);if(void 0!==n){var r=fc()(n[1].split("/"),e);if(null!=r)return r}throw Error("Could not resolve reference: ".concat(t))}var Mi=Xo()({init:function(t,e){var n=this,r=t.swag,a=void 0===r?this.swag:r,o=t.axiosConfig,c=(e.stamp,a.paths),i=Sc()(Ec()("name"),dc()(Oc()(ri()((function(t,e){return Oc()(ri()((function(t,r){return function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=a.config,c=a.errorHandler;delete(o=o||{}).transformResponse;var i=n.operationId,s=n.description,u=(n.parameters||[]).map((function(t){return t.$ref?Di(t.$ref,r):t})),p="".concat(Vc()(i).toLowerCase()).concat(Nc()(1,i)),f=Ii(u),l=Ci(f),d=l.pathArgs,h=l.queryArgs,m=l.bodyArgs,v=l.req,g=l.opts,y=Qc()("name",g),b=Sc()(Ec()("name"),f),x=_i(p,v,g),w=ji[e](o);return function(n,a){var o=Jr()(Xr.a.mark((function n(){var o,i,s,u,f,l,g,k,O,A,T=arguments;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=this.Swagger.defaults,n.prev=1,i=function(){if(T.length===v.length)return[Array.from(T),o];if(T.length===v.length+1)return[Cc()(1,T),Yo()(o,st()(T))];throw Error("Function call doesn't conform to ".concat(x))}(),s=ct()(i,2),u=s[0],(f=s[1]).debug&&console.log("Invoked ".concat(p," with ").concat(rc()(u)," ").concat(rc()(f))),l=Yo()(ei()(oc.a,to()(y,f)),Tc()(Qc()("name",v),u)),g=ri()((function(t,e){try{return Ai(t,b[e],r.definitions)}catch(r){var n=[e].concat(r.path||[]);throw Object.assign(r,{path:n,value:t,message:"validating ".concat(ui()(" -> ",n),": ").concat(r.message)})}}),l),k=xi(t,Pi(to()(d,g))),O=Pi(function(){if("get"===e)return{params:to()(h,g)};if("post"===e)return g[Ni(m)];throw Error("Unsupported method ".concat(e))}()),f.debug&&console.log("Going to ".concat(e.toUpperCase()," ").concat(a).concat(k," with ").concat(rc()(O))),n.prev=9,n.next=12,w("".concat(a).concat(k),O).catch(this.axiosError(c));case 12:return A=n.sent,n.abrupt("return",f.fullResponse?A:Si(A.data));case 16:throw n.prev=16,n.t0=n.catch(9),fc()(["response","data"],n.t0)&&(n.t0.message=Bi(n.t0)),n.t0;case 20:n.next=26;break;case 22:throw n.prev=22,n.t1=n.catch(1),n.t1.message="While calling ".concat(x,", ").concat(n.t1.message),n.t1;case 26:case"end":return n.stop()}}),n,this,[[1,22],[9,16]])}))).bind(n);return Object.assign(o,{signature:x,description:s}),Object.defineProperties(o,{name:{value:p,writable:!1},length:{value:v.length+(g.length?1:0),writable:!1}})}}(e,r,t,a,o)(n,n.urlFor(a.basePath,t))}),t))}),c))));return Object.assign(this,{methods:oi()(i),api:i})},deepProps:{Swagger:{defaults:{debug:!1,txEncoding:"json"}}},statics:{debugSwagger:function(t){return this.deepProps({Swagger:{defaults:{debug:t}}})}}}),Vi=function(t,e,n){var r=t.split("-")[0].split("."),a=e.split("-")[0].split("."),o=n.split("-")[0].split("."),c=Math.max.apply(Math,pt()(r).concat(pt()(a),pt()(o)))+1,i=function(t){return t.reverse().reduce((function(t,e,n){return t+e*Math.pow(c,n)}),0)},s=i(r),u=i(a),p=i(o);return s>=u&&s<p};function Fi(t,e){return Ri.apply(this,arguments)}function Ri(){return(Ri=Jr()(Xr.a.mark((function t(e,n){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,uc.a.get("".concat(e,"/api"),n);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.networkId,n=t.force,r=void 0!==n&&n;if(!(r||e||this.networkId||this.selectedNode&&this.selectedNode.networkId))throw new Error("networkId is not provided");return!r||e||this.networkId||this.selectedNode&&this.selectedNode.networkId?e||this.networkId||this.selectedNode.networkId:null}var Ui=function(t){var e=t.url,n=t.internalUrl;return function(t,r){var a=r.tags,o=r.operationId;if(ic()("external",a))return"".concat(e).concat(t);if(!oc()(n)&&ic()("internal",a))return"".concat(n).concat(t);throw Error("Method ".concat(o," is unsupported. No interface for ").concat(rc()(a)))}};function Hi(){return(Hi=Jr()(Xr.a.mark((function t(){var e,n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1?o[1]:void 0,e){t.next=4;break}throw new Error("Protocols must be an array");case 4:if(n){t.next=8;break}return t.next=7,this.api.getCurrentKeyBlock();case 7:n=t.sent.height;case 8:if(!(n<0)){t.next=10;break}throw new Error("height must be a number >= 0");case 10:return r=e.reduce((function(t,e){var r=t.effectiveAtHeight,a=t.version;return n>=e.effectiveAtHeight&&e.effectiveAtHeight>r?{effectiveAtHeight:e.effectiveAtHeight,version:e.version}:{effectiveAtHeight:r,version:a}}),{effectiveAtHeight:-1,version:0}),a=r.version,t.abrupt("return",a);case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Ki=Xo()(wc,{init:function(t){var e=this;return Jr()(Xr.a.mark((function n(){var r,a,o,c,i,s,u,p;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.url,a=void 0===r?e.url:r,o=t.internalUrl,c=void 0===o?e.internalUrl:o,i=t.axiosConfig,s=(i=void 0===i?{}:i).config,u=i.errorHandler,a){n.next=5;break}throw new Error('"url" required');case 5:return a=a.replace(/\/?$/,""),c=c?c.replace(/\/?$/,""):a,n.next=9,Fi(a,s).catch(e.axiosError(u));case 9:return p=n.sent,e.version=p.info.version,n.abrupt("return",Object.assign(e,{url:a,internalUrl:c,swag:p,urlFor:Ui({url:a,internalUrl:c})}));case 12:case"end":return n.stop()}}),n)})))()},methods:{axiosError:function(t){return function(e){throw t&&"function"==typeof t&&t(e),e}},getNodeInfo:function(){return{url:this.url,internalUrl:this.internalUrl,nodeNetworkId:this.nodeNetworkId,version:this.version,consensusProtocolVersion:this.consensusProtocolVersion}},getConsensusProtocolVersion:function(){return Hi.apply(this,arguments)}},props:{version:null,consensusProtocolVersion:null,nodeNetworkId:null}},Mi,{init:function(t){var e=this;return Jr()(Xr.a.mark((function n(){var r,a,o,c,i,s,u;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.forceCompatibility,a=void 0!==r&&r,n.next=3,e.api.getStatus();case 3:return o=n.sent,c=o.nodeRevision,i=o.genesisKeyBlockHash,s=o.networkId,u=o.protocols,n.next=10,e.getConsensusProtocolVersion(u);case 10:if(e.consensusProtocolVersion=n.sent,Vi(e.version.split("-")[0],Li,Wi)&&"5.0.0-rc1"!==e.version||a){n.next=13;break}throw new Error("Unsupported node version ".concat(e.version,". ")+"Supported: >= ".concat(Li," < ").concat(Wi));case 13:return e.nodeNetworkId=s,n.abrupt("return",Object.assign(e,{revision:c,genesisHash:i}));case 15:case"end":return n.stop()}}),n)})))()}}),Li="5.0.0",Wi="6.0.0",Gi=Ki;function Qi(){return(Qi=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{signHash:!0},r=this.getNetworkId(n),a=gr(Rr(e,"tx")),o=Buffer.concat([Buffer.from(r),n.signHash?$a(a,{raw:!0}):a]),t.next=6,this.sign(o,n);case 6:return t.t0=t.sent,c=[t.t0],t.abrupt("return",za({encodedTx:a,signatures:c},Ht.signed).tx);case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Yi(){return(Yi=Jr()(Xr.a.mark((function t(e){var n,r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{returnHex:!1},t.next=3,this.sign(lr(_r(e)),n);case 3:return r=t.sent,t.abrupt("return",n.returnHex?Buffer.from(r).toString("hex"):r);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function zi(){return(zi=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.t0=Br,t.t1=e,t.t2="string"==typeof n?Buffer.from(n,"hex"):n,t.t3=Hn,t.next=7,this.address(r);case 7:return t.t4=t.sent,t.t5=(0,t.t3)(t.t4),t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t5));case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Xi=Xo()({init:function(t){var e=t.networkId;!this.networkId&&e&&(this.networkId=e)},methods:{signTransaction:function(t){return Qi.apply(this,arguments)},getNetworkId:qi,signMessage:function(t){return Yi.apply(this,arguments)},verifyMessage:function(t,e){return zi.apply(this,arguments)}},deepConf:{Ae:{methods:["sign","address","signTransaction","getNetworkId","signMessage","verifyMessage"]}}},Object($o.required)({methods:{sign:$o.required,address:$o.required}}));function $i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$i(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zi(){return(Zi=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=Yo()(this.Ae.defaults,n),t.t0=this,t.next=5,this.address(r);case 5:return t.t1=t.sent,t.next=8,t.t0.getAccount.call(t.t0,t.t1);case 8:if(a=t.sent,o=a.contractId,c=a.authFun,!o){t.next=17;break}return t.next=14,this.signUsingGA(e,Ji(Ji({},r),{},{authFun:c}));case 14:t.t2=t.sent,t.next=20;break;case 17:return t.next=19,this.signTransaction(e,r);case 19:t.t2=t.sent;case 20:return i=t.t2,t.abrupt("return",this.sendTransaction(i,r));case 22:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ts(){return(ts=Jr()(Xr.a.mark((function t(e){var n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.authData,a=n.authFun,t.abrupt("return",this.createMetaTx(e,r,a,n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function es(){return(es=Jr()(Xr.a.mark((function t(e,n,r){var a;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Ji(Ji({},this.Ae.defaults),r),t.t0=this,t.t1=this,t.t2=Ji,t.t3=Ji({},a),t.t4={},t.next=8,this.address(a);case 8:return t.t5=t.sent,t.next=11,this.resolveName(n,"ak",a);case 11:return t.t6=t.sent,t.t7=e,t.t8={senderId:t.t5,recipientId:t.t6,amount:t.t7},t.t9=(0,t.t2)(t.t3,t.t4,t.t8),t.next=17,t.t1.spendTx.call(t.t1,t.t9);case 17:return t.t10=t.sent,t.t11=a,t.abrupt("return",t.t0.send.call(t.t0,t.t10,t.t11));case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ns(){return(ns=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s,u,p,f;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e<0||e>1)){t.next=2;break}throw new Error("Fraction should be a number between 0 and 1, got ".concat(e));case 2:return a=Ji(Ji({},this.Ae.defaults),r),t.next=5,this.resolveName(n,"ak",a);case 5:return o=t.sent,t.next=8,this.address(a);case 8:return c=t.sent,t.t0=T.a,t.next=12,this.balance(c);case 12:return t.t1=t.sent,i=new t.t0(t.t1),s=i.times(e).integerValue(T.a.ROUND_HALF_UP),t.t2=Ja,t.next=18,this.spendTx(Ji(Ji({},a),{},{senderId:c,recipientId:o,amount:s}));case 18:return t.t3=t.sent,u=t.t2.unpackTx.call(t.t2,t.t3),p=u.tx.fee,f=s.plus(p).gt(i)?i.minus(p):s,t.t4=this,t.next=25,this.spendTx(Ji(Ji({},a),{},{senderId:c,recipientId:o,amount:f}));case 25:return t.t5=t.sent,t.t6=a,t.abrupt("return",t.t4.send.call(t.t4,t.t5,t.t6));case 28:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var rs=Xo()(Zo,Xi,ec,{methods:{send:function(t){return Zi.apply(this,arguments)},spend:function(t,e,n){return es.apply(this,arguments)},transferFunds:function(t,e,n){return ns.apply(this,arguments)},destroyInstance:function(){var t=this;["destroyClient","destroyServer"].forEach((function(e){return t[e]&&"function"==typeof t[e]&&t[e]()}))},signUsingGA:function(t){return ts.apply(this,arguments)}},deepProps:{Ae:{defaults:{denomination:Oa.AETTOS}}},deepConfiguration:{Ae:{methods:["signUsingGA"]}}});function as(){return(as=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleByPubkey(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function os(){return(os=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueriesByPubkey(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function cs(){return(cs=Jr()(Xr.a.mark((function t(e,n){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getOracleQueryByPubkeyAndQueryId(e,n));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var is=tc.compose({methods:{getOracle:function(t){return as.apply(this,arguments)},getOracleQueries:function(t){return os.apply(this,arguments)},getOracleQuery:function(t,e){return cs.apply(this,arguments)}}}),ss=function(t,e){return{name:t,instance:e,url:e.url,internalUrl:e.internalUrl,networkId:e.nodeNetworkId,version:e.version,consensusProtocolVersion:e.consensusProtocolVersion}};function us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ps(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?us(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var fs=wc.compose({init:function(){var t=arguments,e=this;return Jr()(Xr.a.mark((function n(){var r,a,o;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.length>0&&void 0!==t[0]?t[0]:{},a=r.nodes,o=void 0===a?[]:a,e.pool=new Map,e.validateNodes(o),o.forEach((function(t,n){var r=t.name,a=t.instance;e.addNode(r,a,0===n)})),o.length&&e.selectNode(o[0].name);case 5:case"end":return n.stop()}}),n)})))()},propertyDescriptors:{api:{enumerable:!0,configurable:!1,get:function(){return function(t){if(!t||!t.instance)throw new Error("You can't use Node API. Node is not connected or not defined!");return t.instance.api}(this.selectedNode)}}},methods:{addNode:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.pool.has(t))throw new Error("Node with name ".concat(t," already exist"));this.validateNodes([{name:t,instance:e}]),this.pool.set(t,ss(t,e)),!n&&this.selectedNode||this.selectNode(t)},selectNode:function(t){if(!this.pool.has(t))throw new Error("Node with name ".concat(t," not in pool"));this.selectedNode=this.pool.get(t)},getNetworkId:qi,isNodeConnected:function(){return!!this.selectedNode.instance},getNodeInfo:function(){if(!this.isNodeConnected())throw new Error("Can not get node info. Node is not connected");return ps({name:this.selectedNode.name},this.selectedNode.instance.getNodeInfo())},getNodesInPool:function(){return Array.from(this.pool.entries()).map((function(t){var e=ct()(t,2);return ps({name:e[0]},e[1].instance.getNodeInfo())}))},validateNodes:function(t){var e=["Swagger","api","consensusProtocolVersion","genesisHash","methods"];t.forEach((function(t,n){if("object"!==ka()(t))throw new Error('Node must be an object with "name" and "instance" props');if(["name","instance"].find((function(e){return!t[e]})))throw new Error("Node object on index ".concat(n,' must contain node "name" and "ins"'));if(!t.instance||"object"!==ka()(t.instance)||e.find((function(e){return!(e in t.instance)})))throw new Error("Invalid node instance object")}))}},props:{selectedNode:{}}}),ls=fs;function ds(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ds(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ms={signature:function(t){var e=t.rlpEncoded,n=t.signature,r=t.ownerPublicKey,a=t.networkId,o=void 0===a?"ae_mainnet":a,c=Buffer.concat([Buffer.from(o),e]),i=Buffer.concat([Buffer.from(o),$a(e,{raw:!0})]),s=br(Rr(r,"ak"));return Pr(c,n,s)||Pr(i,n,s)},insufficientFee:function(t){var e=t.minFee,n=t.fee;return T()(e).lte(T()(n))},expiredTTL:function(t){var e=t.ttl,n=t.height;return T()(e).eq(0)||T()(e).gte(T()(n))},insufficientBalanceForAmountFee:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n,a=t.fee;return T()(e).gte(T()(r).plus(a))},insufficientBalanceForAmount:function(t){var e=t.balance,n=t.amount,r=void 0===n?0:n;return T()(e).gte(T()(r))},nonceUsed:function(t){var e=t.accountNonce,n=t.nonce;return T()(n).gt(T()(e))},nonceHigh:function(t){var e=t.accountNonce,n=t.nonce;return!T()(n).gt(T()(e).plus(1))},minGasPrice:function(t){var e=t.gasPrice;return isNaN(e)||T()(e).gte(T()(Ot))},vmAndAbiVersion:function(t){var e=t.ctVersion,n=t.abiVersion,r=t.consensusProtocolVersion,a=t.txType;e||(e={abiVersion:n});var o=$t[r];if(!o)return!0;var c=o[a];return!Object.entries(e).reduce((function(t,e){var n=ct()(e,2),r=n[0],a=n[1];return[].concat(pt()(t),[void 0===a||c[r].includes(parseInt(a))])}),[]).includes(!1)},insufficientBalanceForFeeNameFee:function(t){var e=t.nameFee,n=t.fee,r=t.balance;return 1===t.VSN||T()(r).gte(T()(e).plus(n))}},vs=function(){var t=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.ownerPublicKey,a=0,o=0,t.prev=3,t.next=6,e.api.getAccountByPubkey(r);case 6:c=t.sent,i=c.nonce,s=c.balance,a=i,o=s,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.log("We can not get info about this publicKey");case 16:return t.t1=hs,t.next=19,e.api.getCurrentKeyBlockHeight();case 19:return t.t2=t.sent.height,t.t3=o,t.t4=a,t.t5=r,t.t6={height:t.t2,balance:t.t3,accountNonce:t.t4,ownerPublicKey:t.t5},t.t7=e.getNodeInfo(),t.abrupt("return",(0,t.t1)(t.t6,t.t7));case 26:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n){return t.apply(this,arguments)}}(),gs=function(t,e){return t.reduce((function(t,n){var r=ct()(n,3),a=r[0],o=r[1],c=r[2],i=(c.key,c.type),s=c.txKey;return ms[o](e)||t.push({msg:a(e),txKey:s,type:i}),t}),[])};function ys(){return(ys=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.networkId,a=Xa(e),o=a.tx,c=a.rlpEncoded,i=a.txType,+o.tag!==Rt){t.next=13;break}return s=o.encodedTx,u=s.txType,p=s.tx,f=o.signatures.map((function(t){return{raw:t,hash:Kn(t,"sg")}})),l=o.encodedTx.rlpEncoded,t.next=8,this.verifyTx({tx:p,signatures:f,rlpEncoded:l},r);case 8:return t.t0=t.sent,t.t1=p,t.t2=f,t.t3=u,t.abrupt("return",{validation:t.t0,tx:t.t1,signatures:t.t2,txType:t.t3});case 13:return t.next=15,this.verifyTx({tx:o,rlpEncoded:c},r);case 15:return t.t4=t.sent,t.t5=o,t.t6=i,t.abrupt("return",{validation:t.t4,tx:t.t5,txType:t.t6});case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var bs=function(t){return t[["senderId","accountId","ownerId","callerId","oracleId","fromId","initiator","gaId"].find((function(e){return t[e]}))].replace("ok_","ak_")};function xs(){return(xs=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s,u,p,f;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tx,a=e.signatures,o=e.rlpEncoded,n=n||this.getNetworkId()||"ae_mainnet",c=bs(r),i=Object.prototype.hasOwnProperty.call(r,"gas")?+r.gas:0,s=Jt[+r.tag],t.t0=hs,t.t1=hs,t.t2=hs,t.t3={minFee:La(0,s,{gas:i,params:r,showWarning:!1})},t.next=11,vs(this,{ownerPublicKey:c});case 11:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=r,t.t7=(0,t.t1)(t.t5,t.t6),t.t8={},t.t9={txType:s},u=(0,t.t0)(t.t7,t.t8,t.t9),p=a&&a.length?gs(Tn,{rlpEncoded:o,signature:a[0].raw,ownerPublicKey:c,networkId:n}):[],f=gs(In,u),t.abrupt("return",[].concat(pt()(f),pt()(p),pt()(ws(s,u))));case 21:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ws(t,e){switch(t){case Ht.contractCreate:case Ht.contractCall:case Ht.oracleRegister:return gs(jn,e);case Ht.nameClaim:return gs(Cn,e);default:return[]}}var ks=fs.compose({methods:{verifyTx:function(t,e){return xs.apply(this,arguments)},unpackAndVerify:function(t){return ys.apply(this,arguments)}}}),Os=function(t){return new Promise((function(e){return setTimeout(e,t)}))};function As(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ts(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?As(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function js(){return(js=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d=this,h=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},r=Yo()(this.Ae.defaults,n),a=r.waitMined,!((o=r.verify)||"boolean"!=typeof o&&this.verifyTxBeforeSend)){t.next=11;break}return t.next=5,this.unpackAndVerify(e);case 5:if(c=t.sent,i=c.validation,s=c.tx,u=c.txType,!i.length){t.next=11;break}throw Object.assign(Error("Transaction verification error: "+JSON.stringify(i)),{code:"TX_VERIFICATION_ERROR",errorData:{validation:i,tx:s,txType:u},txHash:e});case 11:return t.prev=11,t.next=14,this.api.postTransaction({tx:e});case 14:if(p=t.sent,f=p.txHash,!a){t.next=37;break}return t.t0=Ts,t.t1=Ts,t.t2={},t.next=22,this.poll(f,n);case 22:if(t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.t6={rawTx:e},l=(0,t.t0)(t.t4,t.t5,t.t6),!n.confirm){t.next=36;break}return t.t7=Ts,t.t8=Ts({},l),t.t9={},t.next=33,this.waitForTxConfirm(f,n);case 33:return t.t10=t.sent,t.t11={confirmationHeight:t.t10},t.abrupt("return",(0,t.t7)(t.t8,t.t9,t.t11));case 36:return t.abrupt("return",l);case 37:return t.abrupt("return",{hash:f,rawTx:e});case 40:throw t.prev=40,t.t12=t.catch(11),Object.assign(t.t12,{rawTx:e,verifyTx:function(){return d.unpackAndVerify(e)}});case 43:case"end":return t.stop()}}),t,this,[[11,40]])})))).apply(this,arguments)}function Cs(){return(Cs=Jr()(Xr.a.mark((function t(e){var n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=o.length>1&&void 0!==o[1]?o[1]:{confirm:3}).confirm=!0===n.confirm?3:n.confirm,t.next=4,this.tx(e);case 4:return r=t.sent,a=r.blockHeight,t.abrupt("return",this.awaitHeight(a+n.confirm,n));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Is(){return(Is=Jr()(Xr.a.mark((function t(e){var n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.height,a=n.hash,!r){t.next=3;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHeight(e,r));case 3:if(!a){t.next=5;break}return t.abrupt("return",this.api.getAccountByPubkeyAndHash(e,a));case 5:return t.abrupt("return",this.api.getAccountByPubkey(e));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Es(){return(Es=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,o=n.format,c=void 0===o?Oa.AETTOS:o,t.next=3,this.getAccount(e,{hash:a,height:r});case 3:return i=t.sent,s=i.balance,t.abrupt("return",Ca(s,{targetDenomination:c}).toString());case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ps(){return(Ps=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.height,a=n.hash,o=n.format,c=void 0===o?Oa.AETTOS:o,t.next=3,this.getAccount(e,{hash:a,height:r}).catch((function(t){return{balance:0}}));case 3:return i=t.sent,s=i.balance,t.abrupt("return",Ca(s,{targetDenomination:c}).toString());case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ss(){return(Ss=Jr()(Xr.a.mark((function t(e){var n,r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],t.next=3,this.api.getTransactionByHash(e);case 3:if(r=t.sent,!["ContractCreateTx","ContractCallTx","ChannelForceProgressTx"].includes(r.tx.type)||!n||-1===r.blockHeight){t.next=16;break}return t.prev=5,t.t0=Ts,t.t1=Ts({},r),t.next=10,this.getTxInfo(e);case 10:return t.t2=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 14:t.prev=14,t.t3=t.catch(5);case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,this,[[5,14]])})))).apply(this,arguments)}function _s(){return(_s=Jr()(Xr.a.mark((function t(){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getCurrentKeyBlockHeight();case 2:return t.abrupt("return",t.sent.height);case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ns(){return(Ns=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.interval,a=void 0===r?5e3:r,o=n.attempts,c=void 0===o?20:o,s=0;case 2:if(!(s<c)){t.next=14;break}if(!s){t.next=6;break}return t.next=6,Os(a);case 6:return t.next=8,this.height();case 8:if(!((i=t.sent)>=e)){t.next=11;break}return t.abrupt("return",i);case 11:s++,t.next=2;break;case 14:throw Error("Giving up after ".concat((c-1)*a,"ms, current height: ").concat(i,", desired height: ").concat(e));case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Bs(){return(Bs=Jr()(Xr.a.mark((function t(){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Object,t.next=3,this.api.getTopBlock();case 3:return t.t1=t.sent,t.abrupt("return",t.t0.values.call(t.t0,t.t1)[0]);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ds(){return(Ds=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.blocks,a=void 0===r?10:r,o=n.interval,c=void 0===o?5e3:o,i=n.allowUnsynced,s=void 0!==i&&i,t.next=3,this.height();case 3:t.t0=t.sent,t.t1=a,u=t.t0+t.t1;case 6:return t.next=8,this.tx(e).catch((function(t){return null}));case 8:if(!(p=t.sent)||!(-1!==p.blockHeight||s&&p.height)){t.next=11;break}return t.abrupt("return",p);case 11:return t.next=13,Os(c);case 13:return t.next=15,this.height();case 15:if(t.t2=t.sent,t.t3=u,t.t2<t.t3){t.next=6;break}case 18:throw new Error("Giving up after ".concat(a," blocks mined, transaction hash: ").concat(e));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ms(){return(Ms=Jr()(Xr.a.mark((function t(e){var n;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getTransactionInfoByHash(e);case 2:return n=t.sent,t.abrupt("return",n.callInfo||n);case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vs(){return(Vs=Jr()(Xr.a.mark((function t(){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getPendingTransactions());case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Fs(){return(Fs=Jr()(Xr.a.mark((function t(){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getCurrentGeneration());case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Rs(){return(Rs=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getGenerationByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getGenerationByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function qs(){return(qs=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getMicroBlockTransactionsByHash(e);case 2:return t.abrupt("return",t.sent.transactions);case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Us(){return(Us=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=2;break}return t.abrupt("return",this.api.getKeyBlockByHash(e));case 2:if("number"!=typeof e){t.next=4;break}return t.abrupt("return",this.api.getKeyBlockByHeight(e));case 4:throw new Error("Invalid param, param must be hash or height");case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Hs(){return(Hs=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getMicroBlockHeaderByHash(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ks(){return(Ks=Jr()(Xr.a.mark((function t(e,n,r){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.dryRunTxs({txs:e.map((function(t){return{tx:t}})),accounts:n,top:r}));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ls(){return(Ls=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContractCode(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ws(){return(Ws=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getContract(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Gs(){return(Gs=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.getNameEntryByName(e));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Qs(){return(Qs=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s,u,p,f=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:{},a=r.verify,o=void 0!==a&&a,c=r.resolveByNode,i=void 0!==c&&c,s=Object.keys(Mt),e&&"string"==typeof e){t.next=4;break}throw new Error("Invalid name or address. Should be a string");case 4:if(s.includes(n)){t.next=6;break}throw new Error("Invalid prefix ".concat(n,". Should be one of [").concat(s,"]"));case 6:if(!Rr(e,n,!0)){t.next=8;break}return t.abrupt("return",e);case 8:if(!Xn(e)){t.next=20;break}if(!i&&!o){t.next=19;break}return t.next=12,this.getName(e).catch((function(t){return null}));case 12:if(u=t.sent){t.next=15;break}throw new Error("Name not found");case 15:if(p=u.pointers.find((function(t){return t.id.split("_")[0]===n}))){t.next=18;break}throw new Error("Name ".concat(e," do not have pointers for ").concat(n));case 18:return t.abrupt("return",p.id);case 19:return t.abrupt("return",qn(e));case 20:throw new Error("Invalid name or address");case 21:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Ys=ec.compose(is,ks,ls,{init:function(t){var e=t.verifyTx,n=void 0===e||e;this.verifyTxBeforeSend=n},methods:{sendTransaction:function(t){return js.apply(this,arguments)},balance:function(t){return Es.apply(this,arguments)},getBalance:function(t){return Ps.apply(this,arguments)},getAccount:function(t){return Is.apply(this,arguments)},topBlock:function(){return Bs.apply(this,arguments)},tx:function(t){return Ss.apply(this,arguments)},height:function(){return _s.apply(this,arguments)},awaitHeight:function(t){return Ns.apply(this,arguments)},poll:function(t){return Ds.apply(this,arguments)},getTxInfo:function(t){return Ms.apply(this,arguments)},mempool:function(){return Vs.apply(this,arguments)},getCurrentGeneration:function(){return Fs.apply(this,arguments)},getGeneration:function(t){return Rs.apply(this,arguments)},getMicroBlockHeader:function(t){return Hs.apply(this,arguments)},getMicroBlockTransactions:function(t){return qs.apply(this,arguments)},getKeyBlock:function(t){return Us.apply(this,arguments)},txDryRun:function(t,e,n){return Ks.apply(this,arguments)},getContractByteCode:function(t){return Ls.apply(this,arguments)},getContract:function(t){return Ws.apply(this,arguments)},getName:function(t){return Gs.apply(this,arguments)},waitForTxConfirm:function(t){return Cs.apply(this,arguments)},resolveName:function(t,e){return Qs.apply(this,arguments)}}});function zs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zs(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==ka()(e))throw new Error('"params" should be an object');if("string"!=typeof t||!Object.values(Ht).includes(t))throw new Error("Unknown transaction type ".concat(t));var r=La(e.fee,t,{gas:e.gas,params:e,vsn:e.vsn}),a=za(Xs(Xs({},e),{},{fee:r}),t,Xs({vsn:e.vsn},n)),o=a.rlpEncoded,c=a.binary,i=a.tx,s=a.txObject;return{rlpEncoded:o,binary:c,encodedTx:i,params:s,type:t}},Js=function(t){if(!t)throw new Error("Invalid transaction: ".concat(t));if("string"==typeof t){if(!Rr(t,"tx",!0))throw new Error("Invalid transaction string. Tx should be `tx` prefixed base58c string");var e=Xa(t);return{encodedTx:t,type:e.txType,params:e.tx,rlpEncoded:e.rlpEncoded,binary:e.binary}}if(Buffer.isBuffer(t)){var n=Xa(t,!0),r=n.txType,a=n.tx,o=n.rlpEncoded,c=n.binary;return{encodedTx:Kn(t,"tx"),type:r,params:a,rlpEncoded:o,binary:c}}},Zs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tx,n=t.params,r=t.type,a=t.options,o=void 0===a?{}:a;if(n&&r)return $s(r,n,o);if(e)return Js(e);throw new Error('Invalid TxObject arguments. Please provide one of { tx: "tx_asdasd23..." } or { type: "spendTx", params: {...} }')},tu=Xo()({init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tx,n=t.params,r=t.type,a=t.options,o=void 0===a?{}:a;if(this.options=o,this.signatures=[],Object.assign(this,Zs({tx:e,params:n,type:r,options:o})),this.type===Ht.signed){var c=this.params,i=c.signatures,s=c.encodedTx,u=s.txType,p=s.tx;this.signatures=i,this.params=p,this.type=u,this.isSigned=!0}},statics:{fromString:function(t){return tu({tx:t})},fromRlp:function(t){return tu({tx:t})}},methods:{setProp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==ka()(t))throw new Error("Props should be an object");return this.isSigned=!1,this.signatures=[],Object.assign(this,$s(this.type,Xs(Xs(Xs({},this.params),t),{},{fee:null}),Xs(Xs({},this.options),e))),this},getSignatures:function(){if(!this.isSigned)throw new Error("Signature not found, transaction is not signed");return this.signatures},addSignature:function(t){if(t=_(t)?Buffer.from(t,"hex"):t,!(Buffer.isBuffer(t)||t instanceof Uint8Array))throw new Error("Invalid signature, signature must be of type Buffer or Uint8Array");Object.assign(this,$s(Ht.signed,{encodedTx:this.rlpEncoded,signatures:[[].concat(pt()(this.signatures),[t])]}));var e=this.params,n=e.signatures,r=e.encodedTx,a=r.txType,o=r.tx;this.signatures=n,this.params=o,this.type=a,this.isSigned=!0},calculateMinFee:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Xs(Xs({},this.params),t);return La(0,this.type,{gas:e.gas,params:e,vsn:e.vsn})}}}),eu=tu;function nu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nu(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function au(){return(au=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.senderId,r=e.recipientId,a=e.amount,o=e.payload,c=void 0===o?"":o,t.next=3,this.prepareTxParams(Ht.spend,ru(ru({senderId:n},Vc()(d)),{},{payload:c}));case 3:if(i=t.sent,s=i.fee,u=i.ttl,p=i.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:Yo()(Vc()(d),{recipientId:r,senderId:n,nonce:p,ttl:u,payload:c}),type:Ht.spend}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postSpend(Yo()(Vc()(d),{amount:parseInt(a),recipientId:r,senderId:n,nonce:p,ttl:u,fee:parseInt(s),payload:c}));case 13:t.t0=t.sent;case 14:return f=t.t0,l=f.tx,t.abrupt("return",l);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ou(){return(ou=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.commitmentId,t.next=3,this.prepareTxParams(Ht.namePreClaim,ru({senderId:n},Vc()(u)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,c=r.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:Yo()(Vc()(u),{nonce:c,ttl:o,fee:a}),type:Ht.namePreClaim}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNamePreclaim(Yo()(Vc()(u),{nonce:c,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return i=t.t0,s=i.tx,t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function cu(){return(cu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.name,e.nameSalt,r=e.vsn,a=void 0===r?2:r,t.next=3,this.prepareTxParams(Ht.nameClaim,ru(ru({senderId:n},Vc()(f)),{},{vsn:a}));case 3:if(o=t.sent,c=o.fee,i=o.ttl,s=o.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:Yo()(Vc()(f),{nonce:s,ttl:i,fee:c,vsn:a}),type:Ht.nameClaim}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameClaim(Yo()(Vc()(f),{nonce:s,ttl:i,fee:parseInt(c)}));case 13:t.t0=t.sent;case 14:return u=t.t0,p=u.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function iu(){return(iu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,r=e.recipientId,t.next=3,this.prepareTxParams(Ht.nameTransfer,ru({senderId:n},Vc()(p)));case 3:if(a=t.sent,o=a.fee,c=a.ttl,i=a.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:Yo()(Vc()(p),{recipientId:r,nonce:i,ttl:c,fee:o}),type:Ht.nameTransfer}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameTransfer(Yo()(Vc()(p),{recipientId:r,nonce:i,ttl:c,fee:parseInt(o)}));case 13:t.t0=t.sent;case 14:return s=t.t0,u=s.tx,t.abrupt("return",u);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function su(){return(su=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,e.nameTtl,e.pointers,e.clientTtl,t.next=3,this.prepareTxParams(Ht.nameUpdate,ru({senderId:n},Vc()(u)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,c=r.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:Yo()(Vc()(u),{nonce:c,ttl:o,fee:a}),type:Ht.nameUpdate}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameUpdate(Yo()(Vc()(u),{nonce:c,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return i=t.t0,s=i.tx,t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function uu(){return(uu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,e.nameId,t.next=3,this.prepareTxParams(Ht.nameRevoke,ru({senderId:n},Vc()(u)));case 3:if(r=t.sent,a=r.fee,o=r.ttl,c=r.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:Yo()(Vc()(u),{nonce:c,ttl:o,fee:a}),type:Ht.nameRevoke}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postNameRevoke(Yo()(Vc()(u),{nonce:c,ttl:o,fee:parseInt(a)}));case 13:t.t0=t.sent;case 14:return i=t.t0,s=i.tx,t.abrupt("return",s);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function pu(){return(pu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.deposit,e.amount,r=e.gas,a=e.gasPrice,o=void 0===a?Ot:a,e.callData,e.backend,c=this.getVmVersion(Ht.contractCreate,Vc()(f)),t.next=4,this.prepareTxParams(Ht.contractCreate,ru(ru({senderId:n},Vc()(f)),{},{ctVersion:c,gasPrice:o}));case 4:return i=t.sent,s=i.fee,u=i.ttl,p=i.nonce,t.abrupt("return",this.nativeMode?ru(ru({},{tx:tu({params:Yo()(Vc()(f),{nonce:p,ttl:u,fee:s,ctVersion:c,gasPrice:o}),type:Ht.contractCreate}).encodedTx}),{},{contractId:Dn(n,p)}):this.api.postContractCreate(Yo()(Vc()(f),{nonce:p,ttl:u,fee:parseInt(s),gas:parseInt(r),gasPrice:o,vmVersion:c.vmVersion,abiVersion:c.abiVersion})));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function fu(){return(fu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.callerId,e.contractId,e.abiVersion,e.amount,r=e.gas,a=e.gasPrice,o=void 0===a?Ot:a,e.callData,e.backend,c=this.getVmVersion(Ht.contractCall,Vc()(d)),t.next=4,this.prepareTxParams(Ht.contractCall,ru(ru({senderId:n},Vc()(d)),{},{gasPrice:o,abiVersion:c.abiVersion}));case 4:if(i=t.sent,s=i.fee,u=i.ttl,p=i.nonce,!this.nativeMode){t.next=12;break}t.t0={tx:tu({params:Yo()(Vc()(d),{nonce:p,ttl:u,fee:s,abiVersion:c.abiVersion,gasPrice:o}),type:Ht.contractCall}).encodedTx},t.next=15;break;case 12:return t.next=14,this.api.postContractCall(Yo()(Vc()(d),{nonce:p,ttl:u,fee:parseInt(s),gas:parseInt(r),gasPrice:o,abiVersion:c.abiVersion}));case 14:t.t0=t.sent;case 15:return f=t.t0,l=f.tx,t.abrupt("return",l);case 18:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function lu(){return(lu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d,h,m=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accountId,r=e.queryFormat,a=e.responseFormat,o=e.queryFee,c=e.oracleTtl,i=e.abiVersion,s=void 0===i?Lt.NO_ABI:i,t.next=3,this.prepareTxParams(Ht.oracleRegister,ru(ru({senderId:n},Vc()(m)),{},{abiVersion:s}));case 3:if(u=t.sent,p=u.fee,f=u.ttl,l=u.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:{accountId:n,queryFee:o,abiVersion:s,fee:p,oracleTtl:c,nonce:l,ttl:f,queryFormat:r,responseFormat:a},type:Ht.oracleRegister}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleRegister({accountId:n,queryFee:o,abiVersion:s,fee:parseInt(p),oracleTtl:c,nonce:l,ttl:f,queryFormat:r,responseFormat:a});case 13:t.t0=t.sent;case 14:return d=t.t0,h=d.tx,t.abrupt("return",h);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function du(){return(du=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.oracleTtl,t.next=3,this.prepareTxParams(Ht.oracleExtend,ru({senderId:r},Vc()(f)));case 3:if(o=t.sent,c=o.fee,i=o.ttl,s=o.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:{oracleId:n,fee:c,oracleTtl:a,nonce:s,ttl:i},type:Ht.oracleExtend}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleExtend({oracleId:n,fee:parseInt(c),oracleTtl:a,nonce:s,ttl:i});case 13:t.t0=t.sent;case 14:return u=t.t0,p=u.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function hu(){return(hu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d,h=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.responseTtl,a=e.query,o=e.queryTtl,c=e.queryFee,i=e.senderId,t.next=3,this.prepareTxParams(Ht.oracleQuery,ru({senderId:i},Vc()(h)));case 3:if(s=t.sent,u=s.fee,p=s.ttl,f=s.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:{oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:u,queryFee:c,ttl:p,nonce:f,senderId:i},type:Ht.oracleQuery}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleQuery({oracleId:n,responseTtl:r,query:a,queryTtl:o,fee:parseInt(u),queryFee:c,ttl:p,nonce:f,senderId:i});case 13:t.t0=t.sent;case 14:return l=t.t0,d=l.tx,t.abrupt("return",d);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function mu(){return(mu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.oracleId,r=e.callerId,a=e.responseTtl,o=e.queryId,c=e.response,t.next=3,this.prepareTxParams(Ht.oracleResponse,ru({senderId:r},Vc()(d)));case 3:if(i=t.sent,s=i.fee,u=i.ttl,p=i.nonce,!this.nativeMode){t.next=11;break}t.t0={tx:tu({params:{oracleId:n,responseTtl:a,queryId:o,response:c,fee:s,ttl:u,nonce:p},type:Ht.oracleResponse}).encodedTx},t.next=14;break;case 11:return t.next=13,this.api.postOracleRespond({oracleId:n,responseTtl:a,queryId:o,response:c,fee:parseInt(s),ttl:u,nonce:p});case 13:t.t0=t.sent;case 14:return f=t.t0,l=f.tx,t.abrupt("return",l);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function vu(){return(vu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,o=e.poi,t.next=3,this.prepareTxParams(Ht.channelCloseSolo,ru(ru({senderId:r},Vc()(l)),{},{payload:a}));case 3:if(c=t.sent,i=c.fee,s=c.ttl,u=c.nonce,!this.nativeMode){t.next=11;break}t.t0=za(Yo()(Vc()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:i,nonce:u}),Ht.channelCloseSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelCloseSolo(Yo()(Vc()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:parseInt(i),nonce:u}));case 13:t.t0=t.sent;case 14:return p=t.t0,f=p.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function gu(){return(gu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,o=e.poi,t.next=3,this.prepareTxParams(Ht.channelSlash,ru(ru({senderId:r},Vc()(l)),{},{payload:a}));case 3:if(c=t.sent,i=c.fee,s=c.ttl,u=c.nonce,!this.nativeMode){t.next=11;break}t.t0=za(Yo()(Vc()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:i,nonce:u}),Ht.channelSlash),t.next=14;break;case 11:return t.next=13,this.api.postChannelSlash(Yo()(Vc()(l),{channelId:n,fromId:r,payload:a,poi:o,ttl:s,fee:parseInt(i),nonce:u}));case 13:t.t0=t.sent;case 14:return p=t.t0,f=p.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function yu(){return(yu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.initiatorAmountFinal,o=e.responderAmountFinal,t.next=3,this.prepareTxParams(Ht.channelSettle,ru({senderId:r},Vc()(l)));case 3:if(c=t.sent,i=c.fee,s=c.ttl,u=c.nonce,!this.nativeMode){t.next=11;break}t.t0=za(Yo()(Vc()(l),{channelId:n,fromId:r,initiatorAmountFinal:a,responderAmountFinal:o,ttl:s,fee:i,nonce:u}),Ht.channelSettle),t.next=14;break;case 11:return t.next=13,this.api.postChannelSettle(Yo()(Vc()(l),{channelId:n,fromId:r,initiatorAmountFinal:parseInt(a),responderAmountFinal:parseInt(o),ttl:s,fee:parseInt(i),nonce:u}));case 13:t.t0=t.sent;case 14:return p=t.t0,f=p.tx,t.abrupt("return",f);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function bu(){return(bu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.channelId,r=e.fromId,a=e.payload,t.next=3,this.prepareTxParams(Ht.channelSnapshotSolo,ru(ru({senderId:r},Vc()(f)),{},{payload:a}));case 3:if(o=t.sent,c=o.fee,i=o.ttl,s=o.nonce,!this.nativeMode){t.next=11;break}t.t0=za(Yo()(Vc()(f),{channelId:n,fromId:r,payload:a,ttl:i,fee:c,nonce:s}),Ht.channelSnapshotSolo),t.next=14;break;case 11:return t.next=13,this.api.postChannelSnapshotSolo(Yo()(Vc()(f),{channelId:n,fromId:r,payload:a,ttl:i,fee:parseInt(c),nonce:s}));case 13:t.t0=t.sent;case 14:return u=t.t0,p=u.tx,t.abrupt("return",p);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xu(){return(xu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerId,e.code,e.vmVersion,e.abiVersion,e.authFun,e.gas,r=e.gasPrice,a=void 0===r?Ot:r,e.callData,e.backend,o=this.getVmVersion(Ht.contractCreate,Vc()(p)),t.next=4,this.prepareTxParams(Ht.gaAttach,ru(ru({senderId:n},Vc()(p)),{},{ctVersion:o,gasPrice:a}));case 4:return c=t.sent,i=c.fee,s=c.ttl,u=c.nonce,t.abrupt("return",ru(ru({},{tx:tu({params:Yo()(Vc()(p),{nonce:u,ttl:s,fee:i,ctVersion:o,gasPrice:a}),type:Ht.gaAttach}).encodedTx}),{},{contractId:Dn(n,u)}));case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function wu(){return ku.apply(this,arguments)}function ku(){return(ku=Jr()(Xr.a.mark((function t(){var e,n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:mt,n=!(o.length>1&&void 0!==o[1])||o[1],0!==e){t.next=4;break}return t.abrupt("return",0);case 4:if(!(e<0)){t.next=6;break}throw new Error("ttl must be greater than 0");case 6:if(!n){t.next=12;break}return t.next=9,this.api.getCurrentKeyBlock();case 9:return r=t.sent,a=r.height,t.abrupt("return",+a+e);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ou(){return(Ou=Jr()(Xr.a.mark((function t(e,n){var r,a;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,this.api.getAccountByPubkey(e).catch((function(){return{nonce:0}}));case 4:return r=t.sent,a=r.nonce,t.abrupt("return",a+1);case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Au(){return(Au=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s,u,p,f,l,d=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.senderId,a=n.nonce,o=n.ttl,c=n.fee,i=n.gas,s=n.absoluteTtl,u=n.vsn,t.next=3,this.getAccount(r).catch((function(t){return{nonce:0}}));case 3:return p=t.sent,a=p.contractId?0:a||p.nonce+1,t.next=7,wu.call(this,o,!s);case 7:return f=t.sent,l=La(c,e,{showWarning:this.showWarning,gas:i,params:Yo()(st()(d),{nonce:a,ttl:f}),vsn:u}),t.abrupt("return",{fee:l,ttl:f,nonce:a});case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Tu=Ys.compose(Zo,{init:function(t){var e=t.nativeMode,n=void 0===e||e,r=t.showWarning,a=void 0!==r&&r;this.nativeMode=n,this.showWarning=a},props:{nativeMode:!0,showWarning:!1},methods:{spendTx:function(t){return au.apply(this,arguments)},namePreclaimTx:function(t){return ou.apply(this,arguments)},nameClaimTx:function(t){return cu.apply(this,arguments)},nameTransferTx:function(t){return iu.apply(this,arguments)},nameUpdateTx:function(t){return su.apply(this,arguments)},nameRevokeTx:function(t){return uu.apply(this,arguments)},contractCreateTx:function(t){return pu.apply(this,arguments)},contractCallTx:function(t){return fu.apply(this,arguments)},prepareTxParams:function(t,e){return Au.apply(this,arguments)},oracleRegisterTx:function(t){return lu.apply(this,arguments)},oracleExtendTx:function(t){return du.apply(this,arguments)},oraclePostQueryTx:function(t){return hu.apply(this,arguments)},oracleRespondTx:function(t){return mu.apply(this,arguments)},channelCloseSoloTx:function(t){return vu.apply(this,arguments)},channelSlashTx:function(t){return gu.apply(this,arguments)},channelSettleTx:function(t){return yu.apply(this,arguments)},channelSnapshotSoloTx:function(t){return bu.apply(this,arguments)},gaAttachTx:function(t){return xu.apply(this,arguments)},getAccountNonce:function(t,e){return Ou.apply(this,arguments)},getVmVersion:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.vmVersion,r=e.abiVersion,a=e.backend,o=this.getNodeInfo(),c=o.consensusProtocolVersion,i=$t[c];if(!i)throw new Error("Not supported consensus protocol version");var s=i[t];if(!s)throw new Error("Not supported tx type");var u={abiVersion:void 0!==r?r:a===Wt.AEVM?s.abiVersion[1]:(Wt.FATE,s.abiVersion[0]),vmVersion:void 0!==n?n:a===Wt.AEVM?s.vmVersion[1]:(Wt.FATE,s.vmVersion[0])};if(s.vmVersion.length&&!ic()(u.vmVersion,s.vmVersion))throw new Error("VM VERSION ".concat(u.vmVersion," do not support by this node. Supported: [").concat(s.vmVersion,"]"));if(s.abiVersion.length&&!ic()(u.abiVersion,s.abiVersion))throw new Error("ABI VERSION ".concat(u.abiVersion," do not support by this node. Supported: [").concat(s.abiVersion,"]"));return u}}}),ju=new WeakMap;function Cu(){return(Cu=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isGa){t.next=2;break}throw new Error("You are trying to sign data using GA account without keypair");case 2:return t.abrupt("return",Promise.resolve(Er(e,ju.get(this).secretKey)));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Iu(){return(Iu=Jr()(Xr.a.mark((function t(){var e,n=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{format:cr.api},t.abrupt("return",Promise.resolve(ir(e.format,ju.get(this).publicKey)));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Eu=Xi.compose({init:function(t){var e=t.keypair,n=t.gaId;if(this.isGa=!!n,n){if(!ur(n))throw new Error("Invalid GA address");ju.set(this,{publicKey:n})}else!function(t){if(!t||"object"!==ka()(t))throw new Error("KeyPair must be an object");if(!t.secretKey||!t.publicKey)throw new Error('KeyPair must must have "secretKey", "publicKey" properties');if("string"!=typeof t.publicKey||-1===t.publicKey.indexOf("ak_"))throw new Error('Public Key must be a base58c string with "ak_" prefix');if(!Buffer.isBuffer(t.secretKey)&&"string"==typeof t.secretKey&&!_(t.secretKey))throw new Error("Secret key must be hex string or Buffer");var e=Buffer.from(Hn(t.publicKey,"ak"));if(!Hr(Buffer.from(t.secretKey,"hex"),e))throw new Error("Invalid Key Pair")}(e),this.setSecret(e)},props:{isGa:!1},methods:{sign:function(t){return Cu.apply(this,arguments)},address:function(){return Iu.apply(this,arguments)},setSecret:function(t){ju.set(this,{secretKey:Buffer.isBuffer(t.secretKey)?t.secretKey:Buffer.from(t.secretKey,"hex"),publicKey:t.publicKey})}}}),Pu=function(t){return!["sign","address"].find((function(e){return"function"!=typeof t[e]}))};function Su(){return(Su=Jr()(Xr.a.mark((function t(e){var n,r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},r=n.onAccount){t.next=3;break}return t.abrupt("return",this.signWith(this.Selector.address,e));case 3:return t.abrupt("return",this.resolveOnAccount(r,"sign",e));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _u(){return(_u=Jr()(Xr.a.mark((function t(e){var n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:"address",r=o.length>2?o[2]:void 0,t.t0=ka()(e),t.next="string"===t.t0?5:"object"===t.t0?14:27;break;case 5:if(Rr(e,"ak",!0)){t.next=7;break}throw new Error('Invalid account address, check "onAccount" value');case 7:if(this.accounts[e]){t.next=9;break}throw Error("Account for ".concat(e," not available"));case 9:if("sign"!==n){t.next=11;break}return t.abrupt("return",this.signWith(e,r));case 11:if("address"!==n){t.next=13;break}return t.abrupt("return",e);case 13:return t.abrupt("break",28);case 14:if(t.prev=14,a=Pu(e)?e:Eu({keypair:e}),"sign"!==n){t.next=18;break}return t.abrupt("return",a.sign(r));case 18:if("address"!==n){t.next=20;break}return t.abrupt("return",a.address());case 20:return t.abrupt("break",28);case 23:throw t.prev=23,t.t1=t.catch(14),t.t1.message="Invalid 'onAccount' option: ".concat(t.t1.message),t.t1;case 27:throw new Error("Invalid `onAccount` option: should be keyPair object or account address");case 28:case"end":return t.stop()}}),t,this,[[14,23]])})))).apply(this,arguments)}function Nu(){return(Nu=Jr()(Xr.a.mark((function t(){var e,n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:{},n=e.onAccount){t.next=5;break}if(!this.Selector.address){t.next=4;break}return t.abrupt("return",Promise.resolve(this.Selector.address));case 4:throw new Error("You don't have selected account");case 5:return t.abrupt("return",this.resolveOnAccount(n,"address"));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Bu=Xi.compose({init:function(t){var e=this;return Jr()(Xr.a.mark((function n(){var r;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=t.address)||(r=Object.keys(e.accounts)[0]),!r||Rr(r,"ak",!0)){n.next=4;break}throw new Error("Invalid account address");case 4:e.Selector.address=r;case 5:case"end":return n.stop()}}),n)})))()},methods:{sign:function(t){return Su.apply(this,arguments)},address:function(){return Nu.apply(this,arguments)},selectAccount:function(t){if(!t||!Rr(t,"ak",!0))throw new Error("Invalid account address");if(!this.accounts[t])throw Error("Account for ".concat(t," not available"));this.Selector.address=t},resolveOnAccount:function(t){return _u.apply(this,arguments)}},deepProps:{Selector:{}}},Jo()({methods:{signWith:Jo.a}}));function Du(){return(Du=Jr()(Xr.a.mark((function t(e,n){var r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=this.accounts[e])){t.next=3;break}throw Error("Account for ".concat(e," not available"));case 3:return t.abrupt("return",r.sign(n));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Mu(){return(Mu=Jr()(Xr.a.mark((function t(e){var n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.select,t.next=3,e.address();case 3:a=t.sent,this.accounts[a]=e,r&&this.selectAccount(a);case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Vu=Xo()(wc,{init:function(t){var e=this;return Jr()(Xr.a.mark((function n(){var r,a,o;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.accounts,a=void 0===r?[]:r,n.t0=Uc.a,n.next=4,Promise.all(a.map(function(){var t=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.address();case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",[t.t0,t.t1]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:if(n.t1=n.sent,e.accounts=(0,n.t0)(n.t1),!(o=Kr(process.env,!0))){n.next=10;break}return n.next=10,e.addAccount(Eu({keypair:o}),{select:!e.Selector.address});case 10:case"end":return n.stop()}}),n)})))()},props:{accounts:{}},methods:{signWith:function(t,e){return Du.apply(this,arguments)},addAccount:function(t){return Mu.apply(this,arguments)},removeAccount:function(t){this.accounts[t]&&delete this.accounts[t],this.Selector.address===t&&(this.Selector.address=void 0)},addresses:function(){return Object.keys(this.accounts)}}},Bu);function Fu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fu(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qu(){return(qu=Jr()(Xr.a.mark((function t(e){var n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},Xn(e),r=Yo()(this.Ae.defaults,n),t.t0=this,t.t1=Yo.a,t.t2=r,t.t3=qn(e),t.next=9,this.address(r);case 9:return t.t4=t.sent,t.t5={nameId:t.t3,accountId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=14,t.t0.nameRevokeTx.call(t.t0,t.t6);case 14:return a=t.sent,t.abrupt("return",this.send(a,r));case 16:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Uu(){return(Uu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:[],r=c.length>2&&void 0!==c[2]?c[2]:{extendPointers:!1},Xn(e),a=Yo()(this.Ae.defaults,r),Jn(n)){t.next=6;break}throw new Error("Invalid pointers array");case 6:if(t.t0=[],t.t1=pt.a,!r.extendPointers){t.next=14;break}return t.next=11,this.getName(e);case 11:t.t2=t.sent.pointers,t.next=15;break;case 14:t.t2=[];case 15:return t.t3=t.t2,t.t4=(0,t.t1)(t.t3),t.t5=pt()(n.map((function(t){return Uc()([["id",t],["key",$n(t)]])}))),n=t.t0.concat.call(t.t0,t.t4,t.t5).reduce((function(t,e){return[].concat(pt()(t.filter((function(t){return t.key!==e.key}))),[e])}),[]),t.t6=this,t.t7=Yo.a,t.t8=a,t.t9=qn(e),t.next=25,this.address(a);case 25:return t.t10=t.sent,t.t11=n,t.t12={nameId:t.t9,accountId:t.t10,pointers:t.t11},t.t13=(0,t.t7)(t.t8,t.t12),t.next=31,t.t6.nameUpdateTx.call(t.t6,t.t13);case 31:return o=t.sent,t.abrupt("return",this.send(o,a));case 33:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Hu(){return(Hu=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:{},Xn(e),a=Yo()(this.Ae.defaults,r),t.t0=this,t.t1=Yo.a,t.t2=a,t.t3=qn(e),t.next=9,this.address(a);case 9:return t.t4=t.sent,t.t5=n,t.t6={nameId:t.t3,accountId:t.t4,recipientId:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=15,t.t0.nameTransferTx.call(t.t0,t.t7);case 15:return o=t.sent,t.abrupt("return",this.send(o,a));case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ku(){return(Ku=Jr()(Xr.a.mark((function t(e){var n,r,a=this,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},Xn(e),t.next=4,this.getName(e);case 4:return r=t.sent,t.abrupt("return",Object.freeze(Object.assign(r,{pointers:r.pointers||[],update:function(){var t=Jr()(Xr.a.mark((function t(){var r,o,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:[],o=c.length>1&&void 0!==c[1]?c[1]:{},t.t0=Ru,t.t1=Ru,t.t2={},t.next=7,a.aensUpdate(e,r,Yo()(n,o));case 7:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=11,a.aensQuery(e);case 11:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),transfer:function(){var t=Jr()(Xr.a.mark((function t(r){var o,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>1&&void 0!==c[1]?c[1]:{},t.t0=Ru,t.t1=Ru,t.t2={},t.next=6,a.aensTransfer(e,r,Yo()(n,o));case 6:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=10,a.aensQuery(e);case 10:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),revoke:function(){var t=Jr()(Xr.a.mark((function t(){var r,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},t.abrupt("return",a.aensRevoke(e,Yo()(n,r)));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),extendTtl:function(){var t=Jr()(Xr.a.mark((function t(){var o,c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.length>0&&void 0!==i[0]?i[0]:Ct,c=i.length>1&&void 0!==i[1]?i[1]:{},o&&"number"==typeof o&&!(o>Ct)){t.next=4;break}throw new Error("Ttl must be an number and less then 50000 blocks");case 4:return t.t0=Ru,t.t1=Ru,t.t2={},t.next=9,a.aensUpdate(e,r.pointers.map((function(t){return t.id})),Ru(Ru({},Yo()(n,c)),{},{nameTtl:o}));case 9:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=13,a.aensQuery(e);case 13:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Lu(){return(Lu=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{vsn:2},Xn(e),a=Yo()(this.Ae.defaults,r),o=Zn(e),a.nameFee===this.Ae.defaults.nameFee||!o.gt(a.nameFee)){t.next=6;break}throw new Error("the provided fee ".concat(a.nameFee," is not enough to execute the claim, required: ").concat(o));case 6:return a.nameFee=a.nameFee!==this.Ae.defaults.nameFee?a.nameFee:o,t.t0=this,t.t1=Yo.a,t.t2=a,t.next=12,this.address(a);case 12:return t.t3=t.sent,t.t4=n,t.t5=Kn(e,"nm"),t.t6={accountId:t.t3,nameSalt:t.t4,name:t.t5},t.t7=(0,t.t1)(t.t2,t.t6),t.next=19,t.t0.nameClaimTx.call(t.t0,t.t7);case 19:return c=t.sent,t.next=22,this.send(c,a);case 22:if(i=t.sent,rr(e)){t.next=34;break}if(delete a.vsn,!a.waitMined){t.next=31;break}return t.next=28,this.aensQuery(e,a);case 28:t.t8=t.sent,t.next=32;break;case 31:t.t8={};case 32:return s=t.t8,t.abrupt("return",Object.assign(i,s));case 34:return t.abrupt("return",Ru(Ru({},i),{},{nameFee:a.nameFee}));case 35:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Wu(){return(Wu=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=this,p=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},Xn(e),r=Yo()(this.Ae.defaults,n),a=hr(),t.next=6,this.height();case 6:return o=t.sent,c=Un(e,a),t.t0=this,t.t1=Yo.a,t.t2=r,t.next=13,this.address(r);case 13:return t.t3=t.sent,t.t4=c,t.t5={accountId:t.t3,commitmentId:t.t4},t.t6=(0,t.t1)(t.t2,t.t5),t.next=19,t.t0.namePreclaimTx.call(t.t0,t.t6);case 19:return i=t.sent,t.next=22,this.send(i,r);case 22:return s=t.sent,t.abrupt("return",Object.freeze(Ru(Ru({},s),{},{height:o,claim:function(t){return u.aensClaim(e,a,Ru(Ru({},t),{},{onAccount:r.onAccount}))},salt:a,commitmentId:c})));case 24:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Gu(){return(Gu=Jr()(Xr.a.mark((function t(e){var n,r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:St,r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.aensClaim(e,0,Ru(Ru({},r),{},{nameFee:n,vsn:2})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Qu=rs.compose({methods:{aensQuery:function(t){return Ku.apply(this,arguments)},aensPreclaim:function(t){return Wu.apply(this,arguments)},aensClaim:function(t,e){return Lu.apply(this,arguments)},aensUpdate:function(t){return Uu.apply(this,arguments)},aensTransfer:function(t,e){return Hu.apply(this,arguments)},aensRevoke:function(t){return qu.apply(this,arguments)},aensBid:function(t){return Gu.apply(this,arguments)}},deepProps:{Ae:{defaults:{clientTtl:Pt,nameTtl:Ct,nameFee:St}}}});function Yu(){return(Yu=Jr()(Xr.a.mark((function t(e,n){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ju(uc.a.get("".concat(this.baseUrl).concat(e),Yo()(this.httpConfig,n))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function zu(){return(zu=Jr()(Xr.a.mark((function t(e,n,r){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ju(uc.a.post("".concat(this.baseUrl).concat(e),n,Yo()(this.httpConfig,r))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Xu(){return(Xu=Jr()(Xr.a.mark((function t(e,n,r){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ju(uc.a.put("".concat(this.baseUrl).concat(e),n,Yo()(this.httpConfig,r))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function $u(){return($u=Jr()(Xr.a.mark((function t(e,n){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ju(uc.a.delete("".concat(this.baseUrl).concat(e),Yo()(this.httpConfig,n))));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Ju=function(){var t=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return t.abrupt("return",t.sent.data);case 6:if(t.prev=6,t.t0=t.catch(0),t.t0.response){t.next=10;break}throw t.t0;case 10:throw Object.assign(Error("Http request for ".concat(t.t0.config.url," failed with status code ").concat(t.t0.response.status,". Status: ").concat(t.t0.response.statusText,". \nError data: ").concat(JSON.stringify(t.t0.response.data))),{error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),Zu=Xo()({init:function(t){var e=t.baseUrl;this.baseUrl=e},methods:{changeBaseUrl:function(t){this.baseUrl=t},get:function(t,e){return Yu.apply(this,arguments)},post:function(t,e,n){return zu.apply(this,arguments)},put:function(t,e,n){return Xu.apply(this,arguments)},delete:function(t,e){return $u.apply(this,arguments)}},props:{httpConfig:{headers:{"Content-Type":"application/json"},transformResponse:[function(t){try{return bi.parse(t)}catch(e){return t}}]}}}),tp=Xo()({deepConf:{Contract:{methods:["contractEncodeCallDataAPI","contractDecodeDataAPI","compileContractAPI","contractDecodeCallDataBySourceAPI","contractDecodeCallDataByCodeAPI","contractGetACI","setCompilerUrl","getCompilerVersion","contractDecodeCallResultAPI","validateByteCodeAPI","getFateAssembler","getBytecodeCompilerVersion"]}}},Object($o.required)({methods:{contractEncodeCallDataAPI:$o.required,contractDecodeDataAPI:$o.required,compileContractAPI:$o.required,contractGetACI:$o.required,setCompilerUrl:$o.required,getCompilerVersion:$o.required,contractDecodeCallResultAPI:$o.required,validateByteCodeAPI:$o.required,getFateAssembler:$o.required,getBytecodeCompilerVersion:$o.required}}));function ep(){return(ep=Jr()(Xr.a.mark((function t(){var e,n=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.abrupt("return",this.http.get("/api-version",e).then((function(t){return t["api-version"]})));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function np(){return(np=Jr()(Xr.a.mark((function t(e,n){var r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:[],a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/encode-calldata",{source:e,function:n,arguments:r,options:this.prepareCompilerOption(a)},a).then((function(t){return t.calldata})));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function rp(){return(rp=Jr()(Xr.a.mark((function t(e,n){var r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:this.compilerOptions.backend,a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-calldata/bytecode",{bytecode:e,calldata:n,backend:r},a));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ap(){return(ap=Jr()(Xr.a.mark((function t(e,n,r){var a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-calldata/source",{function:n,source:e,calldata:r,options:this.prepareCompilerOption(a)},a));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function op(){return(op=Jr()(Xr.a.mark((function t(e,n,r,a){var o,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-call-result",{function:n,source:e,"call-result":a,"call-value":r,options:this.prepareCompilerOption(o)},o));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function cp(){return(cp=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},this.isInit(),t.abrupt("return",this.http.post("/decode-data",{data:n,"sophia-type":e},r).then((function(t){return t.data})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ip(){return(ip=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},this.isInit(),t.abrupt("return",this.http.post("/validate-byte-code",{bytecode:e,source:n,options:this.prepareCompilerOption(r)},r).then((function(t){return"object"===ka()(t)||t})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function sp(){return(sp=Jr()(Xr.a.mark((function t(e){var n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/compile",{code:e,options:this.prepareCompilerOption(n)},n).then((function(t){return t.bytecode})));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function up(){return(up=Jr()(Xr.a.mark((function t(e){var n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/aci",{code:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function pp(){return(pp=Jr()(Xr.a.mark((function t(e){var n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/fate-assembler",{bytecode:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function fp(){return(fp=Jr()(Xr.a.mark((function t(e){var n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},this.isInit(),t.abrupt("return",this.http.post("/compiler-version",{bytecode:e,options:this.prepareCompilerOption(n)},n));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function lp(){return(lp=Jr()(Xr.a.mark((function t(e){var n,r,a,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.forceCompatibility,a=void 0!==r&&r,this.http.changeBaseUrl(e),t.next=4,this.getCompilerVersion().catch((function(t){return null}));case 4:return this.compilerVersion=t.sent,t.next=7,this.checkCompatibility({forceCompatibility:a});case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function dp(){return(dp=Jr()(Xr.a.mark((function t(){var e,n,r,a,o,c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:{},n=e.force,r=void 0!==n&&n,a=e.forceCompatibility,o=void 0!==a&&a,this.compilerVersion||r){t.next=3;break}throw new Error("Compiler do not respond");case 3:if(o||!this.compilerVersion||Vi(this.compilerVersion.split("-")[0],mp,vp)){t.next=7;break}throw c=this.compilerVersion,this.compilerVersion=null,new Error("Unsupported compiler version ".concat(c,". ")+"Supported: >= ".concat(mp," < ").concat(vp));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var hp=wc.compose(tp,{init:function(t){var e=this;return Jr()(Xr.a.mark((function n(){var r,a,o,c;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.compilerUrl,a=void 0===r?e.compilerUrl:r,o=t.forceCompatibility,c=void 0!==o&&o,e.http=Zu({baseUrl:a}),n.next=4,e.getCompilerVersion().catch((function(t){return null}));case 4:return e.compilerVersion=n.sent,n.next=7,e.checkCompatibility({force:!0,forceCompatibility:c});case 7:case"end":return n.stop()}}),n)})))()},methods:{contractEncodeCallDataAPI:function(t,e){return np.apply(this,arguments)},contractDecodeDataAPI:function(t,e){return cp.apply(this,arguments)},compileContractAPI:function(t){return sp.apply(this,arguments)},contractGetACI:function(t){return up.apply(this,arguments)},contractDecodeCallDataByCodeAPI:function(t,e){return rp.apply(this,arguments)},contractDecodeCallDataBySourceAPI:function(t,e,n){return ap.apply(this,arguments)},contractDecodeCallResultAPI:function(t,e,n,r){return op.apply(this,arguments)},setCompilerUrl:function(t){return lp.apply(this,arguments)},getCompilerVersion:function(){return ep.apply(this,arguments)},validateByteCodeAPI:function(t,e){return ip.apply(this,arguments)},isInit:function(){if(null===this.compilerVersion)throw Error("Compiler not defined");return!0},checkCompatibility:function(){return dp.apply(this,arguments)},prepareCompilerOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backend,n=void 0===e?this.compilerOptions.backend:e,r=t.filesystem,a=void 0===r?{}:r;return{backend:n,file_system:a}},getFateAssembler:function(t){return pp.apply(this,arguments)},getBytecodeCompilerVersion:function(t){return fp.apply(this,arguments)}},props:{compilerVersion:null,compilerOptions:{backend:Wt.FATE}}}),mp="4.0.0",vp="5.0.0",gp=hp,yp=n(64),bp=n.n(yp);function xp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xp(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kp(){return(kp=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u,p,f,l,d,h=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},r=n.aci,a=n.contractAddress,o=n.filesystem,c=void 0===o?{}:o,i=n.forceCodeCheck,s=void 0===i||i,u=n.opt,t.t0=r,t.t0){t.next=6;break}return t.next=5,this.contractGetACI(e,{filesystem:c});case 5:t.t0=t.sent;case 6:if(r=t.t0,!a){t.next=11;break}return t.next=10,this.resolveName(a,"ct",{resolveByNode:!0});case 10:a=t.sent;case 11:if(p={skipArgsConvert:!1,skipTransformDecoded:!1,callStatic:!1,deposit:xt,gasPrice:Ot,amount:wt,gas:kt,top:null,waitMined:!0,verify:!1,filesystem:c},f={interface:bp()(null,Ec()("interface",r)),aci:bp()(null,fc()(["encoded_aci","contract"],r)),externalAci:r.external_encoded_aci?r.external_encoded_aci.map((function(t){return t.contract||t.namespace})):[],source:e,compiled:null,deployInfo:{address:a},options:Yo()(p,u),compilerVersion:this.compilerVersion,setOptions:function(t){this.options=Yo()(this.options,t)}},!a){t.next=30;break}if(ur(a,"ct")){t.next=16;break}throw new Error("Invalid contract address");case 16:return t.next=18,this.getContract(a).catch((function(t){return null}));case 18:if((l=t.sent)&&l.active){t.next=21;break}throw new Error("Contract with address ".concat(a," not found on-chain or not active"));case 21:if(s||!Vi(this.compilerVersion,"4.1.0",vp)){t.next=30;break}return t.next=24,this.getContractByteCode(a);case 24:return d=t.sent.bytecode,t.next=27,this.validateByteCodeAPI(d,f.source,f.options).catch((function(t){return!1}));case 27:if(t.sent){t.next=30;break}throw new Error("Contract source do not correspond to the contract bytecode deployed on the chain");case 30:return f.compile=jp({client:this,instance:f}),f.deploy=Tp({client:this,instance:f}),f.call=Ap({client:this,instance:f}),f.decodeEvents=Op({instance:f}),f.methods=Co(f)(),t.abrupt("return",f);case 36:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Op=function(t){var e=t.instance;return function(t,n){return So(n,jo(e.aci,t,{external:e.externalAci}))}},Ap=function(t){var e=t.client,n=t.instance;return function(){var t=Jr()(Xr.a.mark((function t(r){var a,o,c,i,s,u,p=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p.length>1&&void 0!==p[1]?p[1]:[],o=p.length>2&&void 0!==p[2]?p[2]:{},c=Yo()(n.options,o),i=jo(n.aci,r,{external:n.externalAci}),s=c.source||n.source,r){t.next=7;break}throw new Error("Function name is required");case 7:if(n.deployInfo.address){t.next=9;break}throw new Error("You need to deploy contract before calling!");case 9:if(!T()(c.amount).gt(0)||!Object.prototype.hasOwnProperty.call(i,"payable")||i.payable){t.next=11;break}throw new Error('You try to pay "'.concat(c.amount,'" to function "').concat(r,'" which is not payable. Only payable function can accept tokens'));case 11:if(c.skipArgsConvert){t.next=17;break}return t.next=14,Po(i,a);case 14:t.t0=t.sent,t.next=18;break;case 17:t.t0=a;case 18:if(a=t.t0,!c.callStatic){t.next=25;break}return t.next=22,e.contractCallStatic(s,n.deployInfo.address,r,a,{top:c.top,options:c});case 22:t.t1=t.sent,t.next=28;break;case 25:return t.next=27,e.contractCall(s,n.deployInfo.address,r,a,c);case 27:t.t1=t.sent;case 28:if(u=t.t1,t.t2=wp,t.t3=wp({},u),!c.waitMined){t.next=37;break}return t.next=34,_o(u,i,c);case 34:t.t4=t.sent,t.next=38;break;case 37:t.t4={};case 38:return t.t5=t.t4,t.abrupt("return",(0,t.t2)(t.t3,t.t5));case 40:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Tp=function(t){var e=t.client,n=t.instance;return Jr()(Xr.a.mark((function t(){var r,a,o,c,i,s,u,p,f,l,d,h,m=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>0&&void 0!==m[0]?m[0]:[],a=m.length>1&&void 0!==m[1]?m[1]:{},o=Yo()(n.options,a),c=jo(n.aci,"init",{external:n.externalAci}),i=o.source||n.source,n.compiled){t.next=8;break}return t.next=8,n.compile(o);case 8:if(o.skipArgsConvert){t.next=14;break}return t.next=11,Po(c,r);case 11:t.t0=t.sent,t.next=15;break;case 14:t.t0=r;case 15:if(r=t.t0,!o.callStatic){t.next=20;break}return t.abrupt("return",e.contractCallStatic(i,null,"init",r,{top:o.top,options:o,bytecode:n.compiled}));case 20:return t.next=22,e.contractDeploy(n.compiled,o.source||n.source,r,o);case 22:return s=t.sent,u=s.owner,p=s.transaction,f=s.address,l=s.createdAt,d=s.result,h=s.rawTx,n.deployInfo={owner:u,transaction:p,address:f,createdAt:l,result:d,rawTx:h},t.abrupt("return",n.deployInfo);case 31:case"end":return t.stop()}}),t)})))},jp=function(t){var e=t.client,n=t.instance;return Jr()(Xr.a.mark((function t(){var r,a,o,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},t.next=3,e.contractCompile(n.source,wp(wp({},n.options),r));case 3:return a=t.sent,o=a.bytecode,n.compiled=o,t.abrupt("return",n.compiled);case 7:case"end":return t.stop()}}),t)})))},Cp=wc.compose({methods:{getContractInstance:function(t){return kp.apply(this,arguments)}}});function Ip(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ep(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ip(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pp(t,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=Jr()(Xr.a.mark((function t(e,n){var r,a;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send(e,n);case 2:if(r=t.sent,!1!==n.waitMined){t.next=5;break}return t.abrupt("return",{hash:r.hash,rawTx:r.rawTx});case 5:return t.next=7,this.getTxInfo(r.hash);case 7:if("ok"===(a=t.sent).returnType){t.next=11;break}return t.next=11,this.handleCallError({result:a,tx:eu({tx:r.rawTx}),rawTx:r.rawTx});case 11:return t.abrupt("return",{hash:r.hash,tx:eu({tx:r.rawTx}),result:a,txData:r,rawTx:r.rawTx});case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function _p(){return(_p=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.result,r=e.tx,a=e.rawTx,!B((o=Buffer.from(n.returnValue).toString()).slice(3))){t.next=6;break}t.t0=Buffer.from(o.slice(3),"base64").toString(),t.next=9;break;case 6:return t.next=8,this.contractDecodeDataAPI("string",o);case 8:t.t0=t.sent;case 9:throw c=t.t0,Object.assign(new Error("Invocation failed: ".concat(o,". Decoded: ").concat(c)),Ep(Ep({},n),{},{tx:r,error:o,rawTx:a,decodedError:c}));case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Np(){return(Np=Jr()(Xr.a.mark((function t(e,n,r,a){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractEncodeCallDataAPI(e,n,r,a));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Bp(){return(Bp=Jr()(Xr.a.mark((function t(e,n,r,a,o){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.contractDecodeCallResultAPI(e,n,r,a,o));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Dp(){return(Dp=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s,u,p,f,l,d,h,m,v,g=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=g.length>3&&void 0!==g[3]?g[3]:[],o=g.length>4&&void 0!==g[4]?g[4]:{},c=o.top,i=o.options,s=void 0===i?{}:i,u=o.bytecode,!(p=Yo()(this.Ae.defaults,s)).onAccount){t.next=9;break}return t.next=6,this.address(p);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,this.address().catch((function(t){return p.dryRunAccount.pub}));case 11:t.t0=t.sent;case 12:if(f=t.t0,!Array.isArray(a)){t.next=19;break}return t.next=16,this.contractEncodeCall(e,r,a,p);case 16:t.t1=t.sent,t.next=20;break;case 19:t.t1=a;case 20:if(l=t.t1,!c||isNaN(c)){t.next=25;break}return t.next=24,this.getKeyBlock(c);case 24:c=t.sent.hash;case 25:if(!c){t.next=32;break}return t.next=28,this.getAccount(f,{hash:c});case 28:t.t3=t.sent.nonce,t.t2=t.t3+1,t.next=33;break;case 32:t.t2=void 0;case 33:if(d=t.t2,"init"!==r){t.next=42;break}return t.next=37,this.contractCreateTx(Yo()(p,{callData:l,code:u,ownerId:f,nonce:d}));case 37:return h=t.sent,m=h.tx,t.abrupt("return",this.dryRunContractTx(m,f,e,r,Ep(Ep({},p),{},{top:c})));case 42:return t.t4=this,t.t5=Yo.a,t.t6=p,t.t7=f,t.next=48,this.resolveName(n,"ct",{resolveByNode:!0});case 48:return t.t8=t.sent,t.t9=l,t.t10=d,t.t11={callerId:t.t7,contractId:t.t8,callData:t.t9,nonce:t.t10},t.t12=(0,t.t5)(t.t6,t.t11),t.next=55,t.t4.contractCallTx.call(t.t4,t.t12);case 55:return v=t.sent,t.abrupt("return",this.dryRunContractTx(v,f,e,r,Ep(Ep({},p),{},{top:c})));case 57:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Mp(){return(Mp=Jr()(Xr.a.mark((function t(e,n,r,a){var o,c,i,s,u,p,f,l,d,h,m,v=this,g=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=g.length>4&&void 0!==g[4]?g[4]:{},c=o.top,i=T()(o.dryRunAccount.amount).gt(T()(o.amount||0))?o.dryRunAccount.amount:o.amount,s={amount:i,pubKey:n},t.t0=ct.a,t.next=7,this.txDryRun([e],[s],c);case 7:if(t.t1=t.sent.results,u=(0,t.t0)(t.t1,1),p=u[0],f=p.result,l=p.callObj,d=p.reason,"ok"===f){t.next=15;break}throw Object.assign(new Error("Dry run error, "+d),{tx:eu({tx:e}),dryRunParams:{accounts:[s],top:c}});case 15:if(h=l.returnType,m=l.returnValue,"ok"===h){t.next=19;break}return t.next=19,this.handleCallError({result:l,tx:eu({tx:e})});case 19:return t.abrupt("return",{tx:eu({tx:e}),result:l,decode:function(){return v.contractDecodeData(r,a,m,h,o)}});case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vp(){return(Vp=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s,u,p,f,l,d=this,h=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:[],o=h.length>4&&void 0!==h[4]?h[4]:{},c=Yo()(this.Ae.defaults,o),t.t0=this,t.t1=Yo.a,t.t2=c,t.next=8,this.address(c);case 8:return t.t3=t.sent,t.next=11,this.resolveName(n,"ct",{resolveByNode:!0});case 11:if(t.t4=t.sent,!Array.isArray(a)){t.next=18;break}return t.next=15,this.contractEncodeCall(e,r,a,c);case 15:t.t5=t.sent,t.next=19;break;case 18:t.t5=a;case 19:return t.t6=t.t5,t.t7={callerId:t.t3,contractId:t.t4,callData:t.t6},t.t8=(0,t.t1)(t.t2,t.t7),t.next=24,t.t0.contractCallTx.call(t.t0,t.t8);case 24:return i=t.sent,t.next=27,Pp.call(this,i,c);case 27:return s=t.sent,u=s.hash,p=s.rawTx,f=s.result,l=s.txData,t.abrupt("return",{hash:u,rawTx:p,result:f,txData:l,decode:function(){return f?d.contractDecodeData(e,r,f.returnValue,f.returnType,c):{}}});case 33:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Fp(){return(Fp=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s,u,p,f,l,d,h,m,v=this,g=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=g.length>2&&void 0!==g[2]?g[2]:[],a=g.length>3&&void 0!==g[3]?g[3]:{},o=Yo()(this.Ae.defaults,a),!Array.isArray(r)){t.next=9;break}return t.next=6,this.contractEncodeCall(n,"init",r,o);case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=r;case 10:return c=t.t0,t.next=13,this.address(o);case 13:return i=t.sent,t.next=16,this.contractCreateTx(Yo()(o,{callData:c,code:e,ownerId:i}));case 16:return s=t.sent,u=s.tx,p=s.contractId,t.next=21,Pp.call(this,u,o);case 21:return f=t.sent,l=f.hash,d=f.rawTx,h=f.result,m=f.txData,t.abrupt("return",Object.freeze({result:h,owner:i,transaction:l,rawTx:d,txData:m,address:p,call:function(){var t=Jr()(Xr.a.mark((function t(e){var r,a,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:[],a=c.length>2&&void 0!==c[2]?c[2]:{},t.abrupt("return",v.contractCall(n,p,e,r,Yo()(o,a)));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),callStatic:function(){var t=Jr()(Xr.a.mark((function t(e){var r,a,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:[],a=c.length>2&&void 0!==c[2]?c[2]:{},t.abrupt("return",v.contractCallStatic(n,p,e,r,Ep(Ep({},a),{},{options:Ep({onAccount:o.onAccount},Yo()(o,a.options))})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),createdAt:new Date}));case 27:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Rp(){return(Rp=Jr()(Xr.a.mark((function t(e){var n,r,a,o=this,c=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=Yo()(this.Ae.defaults,n),t.next=4,this.compileContractAPI(e,n);case 4:return a=t.sent,t.abrupt("return",Object.freeze(Object.assign({encodeCall:function(){var t=Jr()(Xr.a.mark((function t(a,c){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.contractEncodeCall(e,a,c,Yo()(r,n)));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deploy:function(){var t=Jr()(Xr.a.mark((function t(n){var c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>1&&void 0!==i[1]?i[1]:{},t.abrupt("return",o.contractDeploy(a,e,n,Yo()(r,c)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),deployStatic:function(){var t=Jr()(Xr.a.mark((function t(n){var c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>1&&void 0!==i[1]?i[1]:{},t.abrupt("return",o.contractCallStatic(e,null,"init",n,{bytecode:a,top:c.top,options:Yo()(r,c)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{bytecode:a})));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function qp(){return(qp=Jr()(Xr.a.mark((function t(){var e,n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:[],n=r.length>1&&void 0!==r[1]?r[1]:{},t.t0=this,t.t1=Buffer,t.t2=Buffer.from(this.getNetworkId(n)),t.t3=Hn,t.next=8,this.address(n);case 8:return t.t4=t.sent,t.t5=(0,t.t3)(t.t4),t.t6=[t.t2,t.t5].concat(pt()(e.map((function(t){return Hn(t)})))),t.t7=t.t1.concat.call(t.t1,t.t6),t.t8=n,t.abrupt("return",t.t0.sign.call(t.t0,t.t7,t.t8).then((function(t){return Buffer.from(t).toString("hex")})));case 14:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Up(){return(Up=Jr()(Xr.a.mark((function t(e){var n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Hp(){return(Hp=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([qn(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Kp(){return(Kp=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([qn(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Lp(){return(Lp=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([qn(n),e],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Wp(){return(Wp=Jr()(Xr.a.mark((function t(e){var n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Gp(){return(Gp=Jr()(Xr.a.mark((function t(e){var n,r=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},t.abrupt("return",this.delegateSignatureCommon([e],n));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Qp(){return(Qp=Jr()(Xr.a.mark((function t(e,n){var r,a=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",this.delegateSignatureCommon([e,n],r));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Yp=rs.compose(tp,Cp,{methods:{contractCompile:function(t){return Rp.apply(this,arguments)},contractCallStatic:function(t,e,n){return Dp.apply(this,arguments)},contractDeploy:function(t,e){return Fp.apply(this,arguments)},contractCall:function(t,e,n){return Vp.apply(this,arguments)},contractEncodeCall:function(t,e,n,r){return Np.apply(this,arguments)},contractDecodeData:function(t,e,n,r,a){return Bp.apply(this,arguments)},dryRunContractTx:function(t,e,n,r){return Mp.apply(this,arguments)},handleCallError:function(t){return _p.apply(this,arguments)},delegateSignatureCommon:function(){return qp.apply(this,arguments)},delegateNamePreclaimSignature:function(t){return Up.apply(this,arguments)},delegateNameClaimSignature:function(t,e){return Hp.apply(this,arguments)},delegateNameTransferSignature:function(t,e){return Kp.apply(this,arguments)},delegateNameRevokeSignature:function(t,e){return Lp.apply(this,arguments)},delegateOracleRegisterSignature:function(t){return Wp.apply(this,arguments)},delegateOracleExtendSignature:function(t){return Gp.apply(this,arguments)},delegateOracleRespondSignature:function(t,e){return Qp.apply(this,arguments)}},deepProps:{Ae:{defaults:{deposit:xt,gasPrice:Ot,amount:wt,gas:kt,options:"",dryRunAccount:Tt}}}}),zp=Yp.compose(ls).compose(gp),Xp=zp,$p=function(t){return function(){var e=Jr()(Xr.a.mark((function e(n,r){var a;return Xr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===ka()(n)){e.next=2;break}throw new Error("AuthData must be an object");case 2:if(!n.gas||!T()(n.gas).gt(At)){e.next=4;break}throw new Error("the maximum gas value for ga authFun is ".concat(At,", got ").concat(n.gas));case 4:if(a=n.gas||At,!n.callData){e.next=11;break}if("cb"===n.callData.split("_")[0]){e.next=8;break}throw new Error('Auth data must be a string with "cb" prefix.');case 8:return e.abrupt("return",{authCallData:n.callData,gas:a});case 11:if(n.source&&n.args){e.next=13;break}throw new Error("Auth data must contain source code and arguments.");case 13:return e.next=15,t.contractEncodeCall(n.source,r,n.args);case 15:return e.t0=e.sent,e.t1=a,e.abrupt("return",{authCallData:e.t0,gas:e.t1});case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Jp=function(t){return function(){var e=Jr()(Xr.a.mark((function e(n,r){var a,o;return Xr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contractCompile(n);case 2:return a=e.sent,o=a.bytecode,e.abrupt("return",{bytecode:o,authFun:lr(r)});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Zp=function(t){return za({encodedTx:t,signatures:[]},Ht.signed)};function tf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ef(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tf(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var nf=Yp.compose({methods:{createGeneralizeAccount:function(t,e,n){return af.apply(this,arguments)},createMetaTx:function(t,e,n){return of.apply(this,arguments)},isGA:function(t){return rf.apply(this,arguments)}}});function rf(){return(rf=Jr()(Xr.a.mark((function t(e){var n,r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAccount(e);case 2:return n=t.sent,r=n.contractId,t.abrupt("return",!!r);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function af(){return(af=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s,u,p,f,l,d,h,m,v,g=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=g.length>3&&void 0!==g[3]?g[3]:{},o=Yo()(this.Ae.defaults,a),t.next=4,this.address(o);case 4:return c=t.sent,t.next=7,this.isGA(c);case 7:if(!t.sent){t.next=9;break}throw new Error("Account ".concat(c," is already GA"));case 9:return t.next=11,Jp(this)(n,e);case 11:return i=t.sent,s=i.authFun,u=i.bytecode,t.next=16,this.contractEncodeCall(n,"init",r);case 16:return p=t.sent,t.next=19,this.gaAttachTx(Yo()(o,{ownerId:c,code:u,callData:p,authFun:s}));case 19:return f=t.sent,l=f.tx,d=f.contractId,t.next=24,this.send(l,o);case 24:return h=t.sent,m=h.hash,v=h.rawTx,t.abrupt("return",Object.freeze({owner:c,transaction:m,rawTx:v,gaContractId:d}));case 28:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function of(){return(of=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s,u,p,f,l,d,h,m,v,g,y,b,x,w,k=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=k.length>3&&void 0!==k[3]?k[3]:{},n){t.next=3;break}throw new Error("authData is required");case 3:return t.next=5,$p(this)(n,r);case 5:return o=t.sent,c=o.authCallData,i=o.gas,s=Yo()(this.Ae.defaults,a),u=gr(Rr(e,"tx")),p=Zp(u),f=p.rlpEncoded,t.next=13,this.getVmVersion(Ht.contractCall);case 13:return l=t.sent,d=l.abiVersion,t.t0=ef,t.t1=ef({},s),t.t2={},t.t3=f,t.next=21,this.address(s);case 21:return t.t4=t.sent,t.t5=d,t.t6=c,t.t7=i,t.t8={tx:t.t3,gaId:t.t4,abiVersion:t.t5,authData:t.t6,gas:t.t7},h=(0,t.t0)(t.t1,t.t2,t.t8),t.next=29,this.prepareTxParams(Ht.gaMeta,h);case 29:return m=t.sent,v=m.fee,g=m.ttl,y=za(ef(ef({},h),{},{fee:"".concat(v),ttl:g}),Ht.gaMeta),b=y.rlpEncoded,x=Zp(b),w=x.tx,t.abrupt("return",w);case 35:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var cf,sf,uf,pf=Xo()(wc,{init:function(t,e){var n=this;return Jr()(Xr.a.mark((function r(){var a,o,c,i,s,u,p,f;return Xr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(p=function(t){var e=t.data;if("object"===ka()(e)&&"webpackOk"!==e.type){var n=e.result,r=n.resolve,a=n.reject,o=e.id;u[o]&&(void 0!==r?u[o].resolve(r):a&&u[o].reject(a),delete u[o])}},a=t.parent,o=void 0===a?window.parent:a,c=t.self,i=void 0===c?window:c,e.stamp,o!==i){r.next=5;break}throw new Error("rpc client: Can't send messages to itself");case 5:return s=0,u={},n.post=function(t,e){var r=new Promise((function(t,e){u[s]={resolve:t,reject:e}}));return o.postMessage({jsonrpc:"2.0",id:s,method:t,params:e,session:n.session},"*"),s++,r},f=p,i.addEventListener("message",f,!1),n.destroyClient=function(){return i.removeEventListener("message",f,!1)},r.next=13,n.post("hello");case 13:n.session=r.sent;case 14:case"end":return r.stop()}}),r)})))()},props:{handler:null},methods:{},composers:function(t){var e=t.stamp,n=(t.composables,[].concat(pt()(fc()(["compose","deepConfiguration","Ae","methods"],e)||[]),pt()(fc()(["compose","deepConfiguration","Contract","methods"],e)||[]))),r=Uc()(n.map((function(t){return[t,(e=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.post(e,n)})];var e})));e.compose.methods&&["signTransaction","getNetworkId"].forEach((function(t){return delete e.compose.methods[t]})),e.compose.methods=Object.assign(r,e.compose.methods)}}),ff=function(t){return Tc()(t,t)},lf=(ff(["to_waellet","to_aepp"]),ff(["window","extension"])),df=ff(["readyToConnect","closeConnection","updateNetwork","updateAddress"]),hf=ff(["connect","subscribeAddress","sign","address","signMessage"]),mf=(ff(["current","connected"]),ff(["subscribe","unsubscribe"])),vf=(uf={wallet:(cf={},lt()(cf,df.readyToConnect,"connection.announcePresence"),lt()(cf,df.updateAddress,"address.update"),cf),aepp:(sf={},lt()(sf,hf.address,"address.get"),lt()(sf,hf.connect,"connection.open"),lt()(sf,hf.sign,"transaction.sign"),lt()(sf,hf.signMessage,"message.sign"),lt()(sf,hf.subscribeAddress,"address.subscribe"),sf)},lt()(uf,df.updateNetwork,"networkId.update"),lt()(uf,df.closeConnection,"connection.close"),uf),gf="CONNECTED",yf="DISCONNECTED",bf="CONNECTION_REJECTED",xf="WAITING_FOR_CONNECTION_APPROVE",wf="WAITING_FOR_CONNECTION_REQUEST",kf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:3,data:t,message:"Broadcast failed"}},Of=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:2,data:t,message:"Invalid transaction"}},Af=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:4,data:t,message:"Operation rejected by user"}},Tf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:9,data:t,message:"Wallet deny your connection request"}},jf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:11,data:t,message:"You are not subscribed for account ".concat(t.account)}},Cf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:12,data:t,message:t.msg}},If=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:10,data:t,message:"You are not connected to the wallet"}},Ef=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:5,data:t,message:"Unsupported Protocol Version"}},Pf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:8,data:t,message:"Unsupported Network"}};function Sf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sf(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Nf=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=window,n=e.chrome,r=e.browser;if(void 0!==n&&n===Object(n))return n;if(void 0!==r&&r===Object(r))return r;if(!t)throw new Error("Browser is not detected");return{}},Bf=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.debug,a=void 0!==r&&r,o=t[e.method];return o&&"function"==typeof o?o:(a&&console.log("Unknown message method ".concat(e.method)),function(){return Jr()(Xr.a.mark((function t(){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})))})},Df=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{method:t,params:e}},Mf=function(t){return function(e,n,r){return t.sendMessage(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.error,a=n.result;return _f({id:t,method:e},r?{error:r}:{result:a})}(e,n,r),!0)}},Vf=function(){},Ff=function(t){return 3===["","connected","current"].filter((function(e){return"object"===ka()(e?t[e]:t)})).length},Rf=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.find((function(t){return t===e}))){if("object"!==ka()(n.onAccount)||!Pu(n.onAccount))throw new Error("Provided onAccount should be a MemoryAccount");e=n.onAccount}return e};function qf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qf(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Hf,Kf,Lf=Xo()({init:function(){this.clients=new Map},methods:{hasClient:function(t){return this.clients.has(t)},addClient:function(t,e){this.hasClient(t)&&console.warn("Wallet RpcClient with id ".concat(t," already exist")),this.clients.set(t,Wf(Uf({id:t},e)))},getClient:function(t){return this.clients.get(t)},removeClient:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.forceConnectionClose,r=void 0!==n&&n;if(!this.hasClient(t))throw new Error("Wallet RpcClient with id ".concat(t," do not exist"));return this.clients.get(t).disconnect(r),this.clients.delete(t),!0},updateClientInfo:function(t,e){var n=this.getClient(t);n.info=Uf(Uf({},n.info),e),this.clients.set(t,n)},sendNotificationByCondition:function(t,e,n){if("function"!=typeof e)throw new Error("Condition argument must be a function which return boolean");Array.from(this.clients.values()).filter(e).forEach((function(e){return e.sendMessage("function"==typeof n?n(e,t):t,!0)}))},operationByCondition:function(t,e){if("function"!=typeof t)throw new Error("Condition argument must be a function which return boolean");if("function"!=typeof e)throw new Error("Operation argument must be a function which return boolean");Array.from(this.clients.values()).filter(t).forEach(e)}}}),Wf=Xo()({init:function(t){var e=this,n=t.id,r=t.name,a=t.networkId,o=t.icons,c=t.connection,i=ct()(t.handlers,2),s=i[0],u=i[1];this.id=n,this.connection=c,this.info={name:r,networkId:a,icons:o},this.callbacks={},this.actions={},this.addressSubscription=[],this.accounts={},this.sendMessage=function(t){var e=0;return function(n){var r=n.id,a=n.method,o=n.params,c=n.result,i=n.error,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s||(e+=1),r=s?r||null:e;var u=o?{params:o}:c?{result:c}:{error:i};return t.sendMessage(_f(_f({jsonrpc:"2.0"},r?{id:r}:{}),{},{method:a},u)),r}}(this.connection);var p;c.connect((p=s,function(t,e){t&&t.jsonrpc&&"2.0"===t.jsonrpc&&t.method?p(t,e):console.warn("Receive invalid message",t)}),(function(t,n){e.disconnect(!0),"function"==typeof u&&u(n,e)}))},propertyDescriptors:{currentAccount:{enumerable:!0,configurable:!1,get:function(){return this.isHasAccounts()?Object.keys(this.accounts.current)[0]:void 0}},addresses:{enumerable:!0,configurable:!1,get:function(){return this.isHasAccounts()?[].concat(pt()(Object.keys(this.accounts.current)),pt()(Object.keys(this.accounts.connected))):[]}},origin:{enumerable:!0,configurable:!1,get:function(){return this.connection}}},methods:{isHasAccounts:function(){return"object"===ka()(this.accounts)&&"object"===ka()(this.accounts.connected)&&"object"===ka()(this.accounts.current)},isSubscribed:function(){return this.addressSubscription.length&&this.isHasAccounts()},hasAccessToAccount:function(t){return!!t&&this.addresses.find((function(e){return e===t}))},isConnected:function(){return this.connection.isConnected()&&this.info.status===gf},getCurrentAccount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onAccount;return e||Object.keys(this.accounts.current)[0]},disconnect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.info.status=yf,this.addressSubscription=[],this.accounts={},t||this.connection.disconnect()},setAccounts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.forceNotification,r=void 0!==n&&n;if(!Ff(t))throw new Error("Invalid accounts object. Should be object like: `{ connected: {}, selected: {} }`");this.accounts=t,r||this.sendMessage(Df(vf.wallet.updateAddress,this.accounts),!0)},updateSubscription:function(t,e){return t!==mf.subscribe||this.addressSubscription.includes(e)||this.addressSubscription.push(e),t===mf.unsubscribe&&this.addressSubscription.includes(e)&&(this.addressSubscription=this.addressSubscription.filter((function(t){return t!==e}))),this.addressSubscription},addAction:function(t,e){var n,r=ct()(e,2),a=r[0],o=r[1],c=(n=this.actions,function(t){return delete n[t]});if(Object.prototype.hasOwnProperty.call(this.callbacks,t.id))throw new Error("Action for this request already exist");return this.actions[t.id]=Uf(Uf({},t),{},{accept:function(){c(t.id),a.apply(void 0,arguments)},deny:function(){c(t.id),o.apply(void 0,arguments)}}),this.actions[t.id]},request:function(t,e){var n=this,r=this.sendMessage(Df(t,e));if(Object.prototype.hasOwnProperty.call(this.callbacks,r))throw new Error("Callback Already exist");return new Promise((function(t,e){n.callbacks[r]={resolve:t,reject:e}}))},processResponse:function(t,e){var n,r=t.id,a=t.error,o=t.result;if(!this.callbacks[r])throw new Error("Can't find callback for this messageId ".concat(r));o?(n=this.callbacks[r]).resolve.apply(n,pt()("function"==typeof e?e({id:r,result:o}):[o])):this.callbacks[r].reject(a);delete this.callbacks[r]}}});function Gf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gf(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Yf=(Hf={},lt()(Hf,vf.wallet.updateAddress,(function(t){return function(e){var n=e.params;t.rpcClient.accounts=n,t.onAddressChange(n)}})),lt()(Hf,vf.updateNetwork,(function(t){return function(e){t.rpcClient.info.networkId=e.params.networkId,t.onNetworkChange(e.params)}})),lt()(Hf,vf.closeConnection,(function(t){return function(e){t.disconnectWallet(),t.onDisconnect(e.params)}})),Hf),zf=(Kf={},lt()(Kf,vf.aepp.address,(function(t){return function(e){return t.rpcClient.processResponse(e)}})),lt()(Kf,vf.aepp.connect,(function(t){return function(e){e.result&&(t.rpcClient.info.status=gf),t.rpcClient.processResponse(e)}})),lt()(Kf,vf.aepp.subscribeAddress,(function(t){return function(e){e.result&&(e.result.address&&(t.rpcClient.accounts=e.result.address),e.result.subscription&&(t.rpcClient.addressSubscription=e.result.subscription)),t.rpcClient.processResponse(e,(function(t){t.id;return[t.result]}))}})),lt()(Kf,vf.aepp.sign,(function(t){return function(e){t.rpcClient.processResponse(e,(function(t){t.id;var e=t.result;return[e.signedTransaction||e.transactionHash]}))}})),lt()(Kf,vf.aepp.signMessage,(function(t){return function(e){t.rpcClient.processResponse(e,(function(t){t.id;return[t.result.signature]}))}})),Kf),Xf={},$f=function(t){return function(){var e=Jr()(Xr.a.mark((function e(n){return Xr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=4;break}return e.abrupt("return",Bf(Yf,n,{debug:t.debug})(t)(n));case 4:if(!Object.prototype.hasOwnProperty.call(t.rpcClient.callbacks,n.id)){e.next=8;break}return e.abrupt("return",Bf(zf,n,{debug:t.debug})(t)(n));case 8:return e.abrupt("return",Bf(Xf,n,{debug:t.debug})(t)(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Jf=rs.compose({init:function(t){var e=this;return Jr()(Xr.a.mark((function n(){var r,a,o,c,i,s,u,p,f,l,d,h,m;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.name,a=t.onAddressChange,o=void 0===a?Vf:a,c=t.onDisconnect,i=void 0===c?Vf:c,s=t.onNetworkChange,u=void 0===s?Vf:s,p=t.connection,f=t.forceValidation,l=void 0!==f&&f,d=t.debug,h=void 0!==d&&d,m=["onDisconnect","onAddressChange","onNetworkChange"],e.connection=p,e.name=r,e.debug=h,!p){n.next=8;break}return n.next=8,e.connectToWallet(p);case 8:e.onDisconnect=i,e.onAddressChange=o,e.onNetworkChange=u,m.forEach((function(t){if(!l&&"function"!=typeof e[t])throw new Error("Call-back for ".concat(t," must be an function!"))}));case 12:case"end":return n.stop()}}),n)})))()},deepProps:{Ae:{defaults:{walletBroadcast:!0}}},methods:{sign:function(){},addresses:function(){if(!this.rpcClient.currentAccount)throw new Error("You do not subscribed for account.");return[this.rpcClient.currentAccount].concat(pt()(Object.keys(this.rpcClient.accounts.connected)))},connectToWallet:function(t){var e=this;return Jr()(Xr.a.mark((function n(){return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.rpcClient||!e.rpcClient.isConnected()){n.next=2;break}throw new Error("You are already connected to wallet "+e.rpcClient);case 2:return e.rpcClient=Wf(Qf(Qf({connection:t,networkId:e.getNetworkId({force:!0})},t.connectionInfo),{},{id:Object(Zr.v4)(),handlers:[$f(e),e.onDisconnect]})),n.abrupt("return",e.sendConnectRequest());case 4:case"end":return n.stop()}}),n)})))()},disconnectWallet:function(){var t=arguments,e=this;return Jr()(Xr.a.mark((function n(){var r;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!(t.length>0&&void 0!==t[0])||t[0],e.rpcClient&&e.rpcClient.isConnected()){n.next=3;break}throw new Error("You are not connected to Wallet");case 3:r&&e.rpcClient.sendMessage(Df(vf.closeConnection,{reason:"bye"}),!0),e.rpcClient.disconnect(),e.rpcClient=null;case 6:case"end":return n.stop()}}),n)})))()},address:function(){var t=arguments,e=this;return Jr()(Xr.a.mark((function n(){var r,a,o;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:{},a=r.onAccount,e.rpcClient&&e.rpcClient.isConnected()){n.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(o=e.rpcClient.currentAccount){n.next=6;break}throw new Error("You do not subscribed for accounts.");case 6:if(!a||e.rpcClient.hasAccessToAccount(a)){n.next=8;break}throw new Error("You are not have access to account ".concat(a));case 8:return n.abrupt("return",a||o);case 9:case"end":return n.stop()}}),n)})))()},askAddresses:function(){var t=this;return Jr()(Xr.a.mark((function e(){return Xr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.rpcClient&&t.rpcClient.isConnected()){e.next=2;break}throw new Error("You are not connected to Wallet");case 2:if(t.rpcClient.currentAccount){e.next=4;break}throw new Error("You do not subscribed for account.");case 4:return e.abrupt("return",t.rpcClient.request(vf.aepp.address));case 5:case"end":return e.stop()}}),e)})))()},subscribeAddress:function(t,e){var n=this;return Jr()(Xr.a.mark((function r(){return Xr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.rpcClient&&n.rpcClient.isConnected()){r.next=2;break}throw new Error("You are not connected to Wallet");case 2:return r.abrupt("return",n.rpcClient.request(vf.aepp.subscribeAddress,{type:t,value:e}));case 3:case"end":return r.stop()}}),r)})))()},signTransaction:function(t){var e=arguments,n=this;return Jr()(Xr.a.mark((function r(){var a;return Xr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.length>1&&void 0!==e[1]?e[1]:{},n.rpcClient&&n.rpcClient.isConnected()){r.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(n.rpcClient.currentAccount){r.next=5;break}throw new Error("You do not subscribed for account.");case 5:if(!a.onAccount||n.rpcClient.hasAccessToAccount(a.onAccount)){r.next=7;break}throw new Error("You are not have access to account ".concat(a.onAccount));case 7:return r.abrupt("return",n.rpcClient.request(vf.aepp.sign,Qf(Qf({},a),{},{tx:t,returnSigned:!0,networkId:n.getNetworkId()})));case 8:case"end":return r.stop()}}),r)})))()},signMessage:function(t){var e=arguments,n=this;return Jr()(Xr.a.mark((function r(){var a;return Xr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.length>1&&void 0!==e[1]?e[1]:{},n.rpcClient&&n.rpcClient.isConnected()){r.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(n.rpcClient.currentAccount){r.next=5;break}throw new Error("You do not subscribed for account.");case 5:if(!a.onAccount||n.rpcClient.hasAccessToAccount(a.onAccount)){r.next=7;break}throw new Error("You are not have access to account ".concat(a.onAccount));case 7:return r.abrupt("return",n.rpcClient.request(vf.aepp.signMessage,Qf(Qf({},a),{},{message:t})));case 8:case"end":return r.stop()}}),r)})))()},sendConnectRequest:function(){var t=this;return Jr()(Xr.a.mark((function e(){return Xr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rpcClient.request(vf.aepp.connect,{name:t.name,version:1,networkId:t.getNetworkId({force:!0})}));case 1:case"end":return e.stop()}}),e)})))()},send:function(t){var e=arguments,n=this;return Jr()(Xr.a.mark((function r(){var a,o,c;return Xr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.length>1&&void 0!==e[1]?e[1]:{},n.rpcClient&&n.rpcClient.isConnected()){r.next=3;break}throw new Error("You are not connected to Wallet");case 3:if(n.rpcClient.currentAccount){r.next=5;break}throw new Error("You do not subscribed for account.");case 5:if(!a.onAccount||n.rpcClient.hasAccessToAccount(a.onAccount)){r.next=7;break}throw new Error("You are not have access to account ".concat(a.onAccount));case 7:if((o=Yo()(n.Ae.defaults,a)).walletBroadcast){r.next=13;break}return r.next=11,n.signTransaction(t,{onAccount:o.onAccount});case 11:return c=r.sent,r.abrupt("return",n.sendTransaction(c,o));case 13:return r.abrupt("return",n.rpcClient.request(vf.aepp.sign,{onAccount:o.onAccount,tx:t,returnSigned:!1,networkId:n.getNetworkId()}));case 14:case"end":return r.stop()}}),r)})))()}}});function Zf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zf(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function el(){return(el=Jr()(Xr.a.mark((function t(e){var n,r,a;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracle(e);case 2:return n=t.sent,t.next=5,this.getOracleQueries(e);case 5:return r=t.sent,a=r.oracleQueries,t.abrupt("return",tl(tl({},n),{},{queries:a,pollQueries:this.pollForQueries.bind(this,e),postQuery:this.postQueryToOracle.bind(this,e),respondToQuery:this.respondToQuery.bind(this,e),extendOracle:this.extendOracleTtl.bind(this,e),getQuery:this.getQueryObject.bind(this,e)}));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function nl(){return(nl=Jr()(Xr.a.mark((function t(e,n){var r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOracleQuery(e,n);case 2:return r=t.sent,t.abrupt("return",tl(tl({},r),{},{decodedQuery:gr(r.query.slice(3)).toString(),decodedResponse:gr(r.response.slice(3)).toString(),respond:this.respondToQuery.bind(this,e,n),pollForResponse:this.pollForQueryResponse.bind(this,e,n),decode:function(t){return gr(t.slice(3))}}));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function rl(){return(rl=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s,u,p,f=this,l=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},a=r.attempts,o=void 0===a?20:a,c=r.interval,i=void 0===c?5e3:c,s=Xr.a.mark((function t(r){var a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=3;break}return t.next=3,Os(i);case 3:return t.next=5,f.getOracleQuery(e,n);case 5:if(a=t.sent,o=a.response,!(c=gr(Rr(o,"or"))).length){t.next=10;break}return t.abrupt("return",{v:{response:o,decode:function(){return c}}});case 10:case"end":return t.stop()}}),t)})),u=0;case 3:if(!(u<o)){t.next=11;break}return t.delegateYield(s(u),"t0",5);case 5:if(p=t.t0,"object"!==ka()(p)){t.next=8;break}return t.abrupt("return",p.v);case 8:u++,t.next=3;break;case 11:throw Error("Giving up after ".concat((o-1)*i,"ms"));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function al(){return(al=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=Yo()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oracleRegisterTx(Yo()(a,{accountId:o,queryFormat:e,responseFormat:n}));case 7:return c=t.sent,t.t0=tl,t.t1=tl,t.t2={},t.next=13,this.send(c,a);case 13:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=17,this.getOracleObject("ok_".concat(o.slice(3)));case 17:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function ol(){return(ol=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},a=Yo()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oraclePostQueryTx(Yo()(a,{oracleId:e,senderId:o,query:n}));case 7:return c=t.sent,i=Vn(o,Xa(c).tx.nonce,e),t.t0=tl,t.t1=tl,t.t2={},t.next=14,this.send(c,a);case 14:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=18,this.getQueryObject(e,i);case 18:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 20:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function cl(){return(cl=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=Yo()(this.Ae.defaults,r),t.next=4,this.address(a);case 4:return o=t.sent,t.next=7,this.oracleExtendTx(Yo()(a,{oracleId:e,callerId:o,oracleTtl:n}));case 7:return c=t.sent,t.t0=tl,t.t1=tl,t.t2={},t.next=13,this.send(c,a);case 13:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=17,this.getOracleObject(e);case 17:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function il(){return(il=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:{},o=Yo()(this.Ae.defaults,a),t.next=4,this.address(o);case 4:return c=t.sent,t.next=7,this.oracleRespondTx(Yo()(o,{oracleId:e,queryId:n,callerId:c,response:r}));case 7:return i=t.sent,t.t0=tl,t.t1=tl,t.t2={},t.next=13,this.send(i,o);case 13:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=17,this.getOracleObject(e);case 17:return t.t5=t.sent,t.abrupt("return",(0,t.t0)(t.t4,t.t5));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var sl=rs.compose({methods:{registerOracle:function(t,e){return al.apply(this,arguments)},respondToQuery:function(t,e,n){return il.apply(this,arguments)},extendOracleTtl:function(t,e){return cl.apply(this,arguments)},postQueryToOracle:function(t,e){return ol.apply(this,arguments)},pollForQueryResponse:function(t,e){return rl.apply(this,arguments)},pollForQueries:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.interval,o=void 0===a?5e3:a,c=new Set,i=function(){var r=Jr()(Xr.a.mark((function r(){var a;return Xr.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getOracleQueries(t);case 2:if(r.t0=r.sent.oracleQueries,r.t0){r.next=5;break}r.t0=[];case 5:(a=r.t0.filter((function(t){var e=t.id;return!c.has(e)}))).forEach((function(t){var e=t.id;return c.add(e)})),a.length&&e(a);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();i();var s=setInterval(i,o);return Promise.resolve((function(){return clearInterval(s)}))},getOracleObject:function(t){return el.apply(this,arguments)},getQueryObject:function(t,e){return nl.apply(this,arguments)}},deepProps:{Ae:{defaults:{queryFee:vt,oracleTtl:gt,queryTtl:yt,responseTtl:bt}}}}),ul=rs.compose(Yp,Qu,sl,nf,pf),pl=rs.compose(Tu,sl,zp,Qu,Ys,Jf),fl=n(100),ll=n.n(fl),dl=n(52),hl=n.n(dl),ml=n(99),vl=n.n(ml);function gl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gl(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bl(){return(bl=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=function(){return Promise.reject(Error("Error: No such method ".concat(c)))},n=e.data,r=e.origin,a=e.source,"object"===ka()(n)&&"2.0"===n.jsonrpc){t.next=4;break}return t.abrupt("return");case 4:o=n.id,c=n.method,i=n.params,s=n.session,vl()((this.rpcMethods[c]||u).bind(this),{params:i,session:this.rpcSessions[s],origin:r}).then((function(t){var e="object"===ka()(t)&&"[object Object]"===Object.prototype.toString.call(t)?Object.entries(t).filter((function(t){var e=ct()(t,2);e[0];return"function"!=typeof e[1]})).reduce((function(t,e){var n=ct()(e,2),r=n[0],a=n[1];return yl(yl({},t),{},lt()({},r,a))}),{}):t;a.postMessage({jsonrpc:"2.0",id:o,result:{resolve:e}},"*")})).catch((function(t){a.postMessage({jsonrpc:"2.0",id:o,result:{reject:t.message}},"*")}));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var xl,wl=Xo()({init:function(t){var e=t.self,n=void 0===e?window:e,r=this.receive.bind(this);n.addEventListener("message",r,!1),this.destroyServer=function(){return n.removeEventListener("message",r,!1)}},methods:{receive:function(t){return bl.apply(this,arguments)},createSession:function(){var t=Object(Zr.v4)();return this.rpcSessions[t]={id:t},t}},props:{rpcSessions:{}},deepProps:{rpcMethods:{hello:function(){return Promise.resolve(this.createSession())}}}});function kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ol(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kl(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Al=Lf(),Tl=lt()({},vf.closeConnection,(function(t,e){var n=e.client;return function(){var e=Jr()(Xr.a.mark((function e(r){return Xr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.disconnect(!0),t.onDisconnect(r.params,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),jl={},Cl=(xl={},lt()(xl,vf.aepp.connect,(function(t,e,n,r){var a=r.name,o=r.networkId,c=r.version,i=r.icons;return 1!==c?{error:Ef()}:(Al.updateClientInfo(n.id,{status:xf,name:a,networkId:o,icons:i,version:c}),t("onConnection",{name:a,networkId:o,version:c},(function(){return Al.updateClientInfo(n.id,{status:gf}),{result:e.getWalletInfo()}}),(function(t){return Al.updateClientInfo(n.id,{status:bf}),{error:Tf(t)}})))})),lt()(xl,vf.aepp.subscribeAddress,(function(t,e,n,r){var a=r.type,o=r.value;return n.isConnected()?t("onSubscription",{type:a,value:o},Jr()(Xr.a.mark((function t(){var r,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>0&&void 0!==u[0]?u[0]:{},c=r.accounts,t.prev=1,i=c||e.getAccounts(),Ff(i)){t.next=5;break}throw new Error("Invalid provided accounts object");case 5:return s=n.updateSubscription(a,o),n.setAccounts(i,{forceNotification:!0}),t.abrupt("return",{result:{subscription:s,address:i}});case 10:return t.prev=10,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",{error:Cf({msg:t.t0.message})});case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),(function(t){return{error:Af(t)}})):{error:If()}})),lt()(xl,vf.aepp.address,(function(t,e,n){return n.isConnected()&&n.isSubscribed()?t("onAskAccounts",{},(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accounts;return{result:e||[].concat(pt()(Object.keys(n.accounts.current)),pt()(Object.keys(n.accounts.connected)))}}),(function(t){return{error:Af(t)}})):{error:If()}})),lt()(xl,vf.aepp.sign,(function(t,e,n,r){var a=r.tx,o=r.onAccount,c=r.networkId,i=r.returnSigned,s=void 0!==i&&i,u=o||n.currentAccount;return c&&Al.updateClientInfo(n.id,{networkId:c}),n.isConnected()?n.hasAccessToAccount(u)?c&&c===e.getNetworkId()?t("onSign",{tx:a,returnSigned:s,onAccount:u,txObject:eu.fromString(a)},function(){var t=Jr()(Xr.a.mark((function t(n){var r,o,c,i=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=i.length>1&&void 0!==i[1]?i[1]:{},t.prev=1,o=Rf(e.addresses(),u,r),t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(1),console.error(t.t0),t.abrupt("return",{error:Cf({msg:t.t0.message})});case 9:if(t.prev=9,t.t1=Ol,t.t2={},!s){t.next=19;break}return t.next=15,e.signTransaction(n||a,{onAccount:o});case 15:t.t4=t.sent,t.t3={signedTransaction:t.t4},t.next=23;break;case 19:return t.next=21,e.send(n||a,{onAccount:o,verify:!1});case 21:t.t5=t.sent,t.t3={transactionHash:t.t5};case 23:return t.t6=t.t3,t.t7=(0,t.t1)(t.t2,t.t6),t.abrupt("return",{result:t.t7});case 28:if(t.prev=28,t.t8=t.catch(9),s){t.next=37;break}return t.next=33,e.unpackAndVerify(n||a);case 33:if(!(c=t.sent).validation.length){t.next=36;break}return t.abrupt("return",{error:Of(c)});case 36:return t.abrupt("return",{error:kf(t.t8.message)});case 37:throw t.t8;case 38:case"end":return t.stop()}}),t,null,[[1,5],[9,28]])})));return function(e){return t.apply(this,arguments)}}(),(function(t){return{error:Af(t)}})):{error:Pf()}:{error:jf({account:u})}:{error:If()}})),lt()(xl,vf.aepp.signMessage,(function(t,e,n,r){var a=r.message,o=r.onAccount;if(!n.isConnected())return{error:If()};var c=o||n.currentAccount;return n.hasAccessToAccount(c)?t("onMessageSign",{message:a,onAccount:c},Jr()(Xr.a.mark((function t(){var n,r,o=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t.prev=1,r=Rf(e.addresses(),c,n),t.next=5,e.signMessage(a,{onAccount:r,returnHex:!0});case 5:return t.t0=t.sent,t.t1={signature:t.t0},t.abrupt("return",{result:t.t1});case 10:return t.prev=10,t.t2=t.catch(1),console.error(t.t2),t.abrupt("return",{error:Cf({msg:t.t2.message})});case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),(function(t){return{error:Af(t)}})):{error:jf({account:c})}})),xl),Il=function(t,e){return function(){var n=Jr()(Xr.a.mark((function n(r,a){var o,c,i,s,u,p;return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=Al.getClient(e),r.id){n.next=3;break}return n.abrupt("return",Bf(Tl,r,{debug:t.debug})(t,{client:o})(r,a));case 3:if(!Object.prototype.hasOwnProperty.call(o.callbacks,r.id)){n.next=7;break}return n.abrupt("return",Bf(jl,r,{debug:t.debug})(t,{client:o})(r,a));case 7:if(c=r.id,i=r.method,s=function(e,n,r,s){return function(){return new Promise((function(u){t[e](o,o.addAction({id:c,method:i,params:n},[function(){return u(r.apply(void 0,arguments))},function(){return u(s.apply(void 0,arguments))}]),a)}))}},"function"!=typeof(u=Bf(Cl,r,{debug:t.debug})(s,t,o,r.params))){n.next=16;break}return n.next=13,u();case 13:n.t0=n.sent,n.next=17;break;case 16:n.t0=u;case 17:p=n.t0,Mf(o)(c,i,p);case 19:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},El=rs.compose(Vu,Bu,{init:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=e.onConnection,a=e.onSubscription,o=e.onSign,c=e.onDisconnect,i=e.onAskAccounts,s=e.onMessageSign,u=e.forceValidation,p=void 0!==u&&u,f=e.debug,l=void 0!==f&&f;this.debug=l;var d=["onConnection","onSubscription","onSign","onDisconnect","onMessageSign"];this.onConnection=r,this.onSubscription=a,this.onSign=o,this.onDisconnect=c,this.onAskAccounts=i,this.onMessageSign=s,d.forEach((function(e){if(!p&&"function"!=typeof t[e])throw new Error("Call-back for ".concat(e," must be an function!"))})),this.name=n,this.id=Object(Zr.v4)();var h=this.selectAccount.bind(this),m=this.addAccount.bind(this),v=this.selectNode.bind(this);this.selectAccount=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.condition,r=void 0===n?function(){return!0}:n;h(t),Al.operationByCondition((function(e){return e.isConnected()&&e.isSubscribed()&&e.hasAccessToAccount(t)&&r(e)}),(function(e){return e.setAccounts({current:lt()({},t,{}),connected:Ol(Ol({},e.accounts.current),Object.entries(e.accounts.connected).reduce((function(e,n){var r=ct()(n,2),a=r[0],o=r[1];return Ol(Ol({},e),a!==t?lt()({},a,o):{})}),{}))})}))},this.addAccount=function(){var t=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c,i,s,u=arguments;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.select,a=n.meta,o=void 0===a?{}:a,c=n.condition,i=void 0===c?function(){return!0}:c,t.next=3,m(e,{select:r});case 3:return t.next=5,e.address();case 5:s=t.sent,Al.operationByCondition((function(t){return t.isConnected()&&t.isSubscribed()&&i(t)}),(function(t){return t.setAccounts({current:Ol({},r?lt()({},s,o):t.accounts.current),connected:Ol(Ol({},r?t.accounts.current:lt()({},s,o)),t.accounts.connected)})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.selectNode=function(e){v(e),Al.sendNotificationByCondition(Df(vf.updateNetwork,{networkId:t.getNetworkId()}),(function(t){return t.isConnected()}))}},methods:{getClients:function(){return Al},removeRpcClient:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forceConnectionClose:!1};return Al.removeClient(t,e)},addRpcClient:function(t){var e=Object(Zr.v4)();return Al.addClient(e,{id:e,info:{status:wf},connection:t,handlers:[Il(this,e),this.onDisconnect]}),e},shareWalletInfo:function(t){t(Ol({jsonrpc:"2.0"},Df(vf.wallet.readyToConnect,Ol({},this.getWalletInfo()))))},getWalletInfo:function(){var t=Nf(!0).runtime;return{id:t&&t.id?t.id:this.id,name:this.name,networkId:this.getNetworkId(),origin:window.location.origin,type:t&&t.id?lf.extension:lf.window}},getAccounts:function(){var t=this;return{current:this.Selector.address?lt()({},this.Selector.address,{}):{},connected:this.addresses().filter((function(e){return e!==t.Selector.address})).reduce((function(t,e){return Ol(Ol({},t),{},lt()({},e,{}))}),{})}}}}),Pl=hl()(ic.a),Sl=[{pred:Pl(Zo.compose.deepConfiguration.Ae.methods),handler:"onTx",error:"Creating transaction [{}] rejected"},{pred:Pl(Ys.compose.deepConfiguration.Ae.methods),handler:"onChain",error:"Chain operation [{}] rejected"},{pred:Pl(Xi.compose.deepConfiguration.Ae.methods),handler:"onAccount",error:"Account operation [{}] rejected"},{pred:Pl(tp.compose.deepConfiguration.Contract.methods),handler:"onContract",error:"Contract operation [{}] rejected"}];function _l(){return(_l=Jr()(Xr.a.mark((function t(){var e;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wl.compose.deepProperties.rpcMethods.hello.call(this);case 2:return e=t.sent,t.next=5,this.address();case 5:return this.rpcSessions[e].address=t.sent,t.abrupt("return",Promise.resolve(e));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Nl(){return(Nl=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=ll()((function(t){return(0,t.pred)(e)}),Sl),o=a.handler,c=a.error,void 0!==o){t.next=5;break}return t.abrupt("return",Promise.reject(Error("Unknown method ".concat(e))));case 5:return t.next=7,this[o](e,n,r);case 7:if(!t.sent){t.next=11;break}return t.abrupt("return",this[e].apply(this,n));case 11:return t.abrupt("return",Promise.reject(Error(c.replace(/{}/,e))));case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Bl(){return(Bl=Jr()(Xr.a.mark((function t(e){var n,r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("sign",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",this.signWith(r.address,n[0]));case 7:return t.abrupt("return",Promise.reject(Error("Signing rejected")));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Dl(){return(Dl=Jr()(Xr.a.mark((function t(e){var n,r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,r=e.session,t.next=3,this.onAccount("address",n,r);case 3:if(!t.sent){t.next=7;break}return t.abrupt("return",Promise.resolve(r.address));case 7:return t.abrupt("return",Promise.reject(Error("Address rejected")));case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var Ml=rs.compose(Vu,Ys,Tu,Xp,nf,wl,{init:function(t,e){var n=this,r=t.onTx,a=void 0===r?this.onTx:r,o=t.onChain,c=void 0===o?this.onChain:o,i=t.onAccount,s=void 0===i?this.onAccount:i,u=t.onContract,p=void 0===u?this.onContract:u,f=e.stamp;this.onTx=a,this.onChain=c,this.onAccount=s,this.onContract=p;var l=[].concat(pt()(f.compose.deepConfiguration.Ae.methods),pt()(f.compose.deepConfiguration.Contract.methods));this.rpcMethods=Object.assign(Uc()(l.map((function(t){return[t,function(e){var r=e.params,a=e.session;return n.rpc(t,r,a)}]}))),this.rpcMethods)},methods:{rpc:function(t,e,n){return Nl.apply(this,arguments)},onTx:function(){return console.log("Implement onTx!"),Promise.resolve(!1)},onChain:function(){return console.log("Implement onChain!"),Promise.resolve(!1)},onAccount:function(){return console.log("Implement onAccount!"),Promise.resolve(!1)},onContract:function(){return console.log("Implement onContract!"),Promise.resolve(!1)}},deepProps:{rpcMethods:{sign:function(t){return Bl.apply(this,arguments)},address:function(t){return Dl.apply(this,arguments)},hello:function(){return _l.apply(this,arguments)}}}}),Vl=rs.compose(El,Tu,Xp,sl,Qu,nf,Ys),Fl=n(51),Rl=n.n(Fl),ql=n(101),Ul=n.n(ql),Hl=n(102),Kl=n(103),Ll=new WeakMap,Wl=new WeakMap,Gl=new WeakMap,Ql=new WeakMap,Yl=new WeakMap,zl=new WeakMap,Xl=new WeakMap,$l=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,td=new WeakMap,ed=new WeakMap,nd=new WeakMap,rd=new WeakMap,ad=new WeakMap,od=new WeakMap;function cd(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=zl.get(t)).emit.apply(e,r)}function id(t,e){if(!e)throw new Error("State Channels FSM entered unknown state");Ql.set(t,e),e.handler.enter&&e.handler.enter(t),ld(t)}function sd(t,e){e!==Wl.get(t)&&(Wl.set(t,e),cd(t,"statusChanged",e))}function ud(t,e){Gl.set(t,e),cd(t,"stateChanged",e)}function pd(t,e){var n=Ll.get(t).debug;void 0!==n&&n&&console.log("Send message: ",e),Yl.get(t).send(bi.stringify(e))}function fd(t,e,n){Jl.set(t,[].concat(pt()(Jl.get(t)||[]),[{guard:e,action:n}])),ld(t)}function ld(t){return dd.apply(this,arguments)}function dd(){return(dd=Jr()(Xr.a.mark((function t(e){var n,r,a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Zl.get(e),r=Jl.get(e)||[],!n&&r.length){t.next=4;break}return t.abrupt("return");case 4:if(a=Ql.get(e),-1!==(o=r.findIndex((function(t){return t.guard(e,a)})))){t.next=8;break}return t.abrupt("return");case 8:return Jl.set(e,r.filter((function(t,e){return o!==e}))),Zl.set(e,!0),t.next=12,Promise.resolve(r[o].action(e,a));case 12:c=t.sent,Zl.set(e,!1),id(e,c);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hd(t,e){return md.apply(this,arguments)}function md(){return(md=Jr()(Xr.a.mark((function t(e,n){var r,a,o;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ql.get(e),a=r.handler,o=r.state,t.t0=id,t.t1=e,t.next=5,Promise.resolve(a(e,n,o));case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vd(t){return gd.apply(this,arguments)}function gd(){return(gd=Jr()(Xr.a.mark((function t(e){var n,r,a,o;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Xl.get(e),!$l.get(e)&&n.length){t.next=3;break}return t.abrupt("return");case 3:return r=no()(n),a=r[0],o=r.slice(1),Xl.set(e,o||[]),$l.set(e,!0),t.next=8,hd(e,a);case 8:$l.set(e,!1),vd(e);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yd(t){clearTimeout(rd.get(t)),clearTimeout(ad.get(t)),rd.set(t,setTimeout((function(){pd(t,{jsonrpc:"2.0",method:"channels.system",params:{action:"ping"}}),ad.set(t,setTimeout((function(){wd(t),cd(t,"error",Error("Server pong timed out"))}),5e3))}),1e4))}function bd(t,e){var n=bi.parse(e),r=Ll.get(t).debug;if(void 0!==r&&r&&console.log("Receive message: ",n),n.id){var a=nd.get(t).get(n.id);try{a(n)}finally{nd.get(t).delete(n.id)}}else"channels.message"===n.method?cd(t,"message",n.params.data.message):"channels.system.pong"===n.method?n.params.channel_id!==ed.get(t)&&null!=ed.get(t)||yd(t):(Xl.set(t,[].concat(pt()(Xl.get(t)||[]),[n])),vd(t))}function xd(t,e,n){return new Promise((function(r,a){var o=td.set(t,td.get(t)+1).get(t);nd.get(t).set(o,(function(t){return t.result?r(t.result):t.error?a(function(t){var e=t.error.data||[],n=ct()(e,1)[0],r=(n=void 0===n?{}:n).message;return r?Error("".concat(t.error.message,": ").concat(r)):Error(t.error.message)}(t)):void 0})),pd(t,{jsonrpc:"2.0",method:e,id:o,params:n})}))}function wd(t){Yl.get(t).close(),clearTimeout(rd.get(t)),clearTimeout(ad.get(t))}function kd(t,e){return Od.apply(this,arguments)}function Od(){return(Od=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.url,a=Ul()(n,["url"]),Ll.set(e,a),Ql.set(e,{handler:a.existingFsmId?Ed:Id}),zl.set(e,new Kl.EventEmitter),td.set(e,0),nd.set(e,new Map),o=new URL(r),Object.entries(a).filter((function(t){var e=ct()(t,1)[0];return!["sign","debug"].includes(e)})).forEach((function(t){var e=ct()(t,2),n=e[0],r=e[1];return o.searchParams.set(S(n),r)})),o.searchParams.set("protocol","json-rpc"),sd(e,"connecting"),c=new Hl.w3cwebsocket(o.toString()),t.next=13,new Promise((function(t,n){return Object.assign(c,{onerror:n,onopen:function(){t(),sd(e,"connected"),a.reconnectTx&&(id(e,{handler:Vd}),setTimeout(Jr()(Xr.a.mark((function t(){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ud,t.t1=e,t.next=4,xd(e,"channels.get.offchain_state",{});case 4:return t.t2=t.sent.signed_tx,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))),yd(e)},onclose:function(){sd(e,"disconnected"),clearTimeout(rd.get(e)),clearTimeout(ad.get(e))},onmessage:function(t){var n=t.data;return bd(e,n)}})}));case 13:Yl.set(e,c);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ad(t){return"tx_".concat(mr(t))}function Td(t,e){return jd.apply(this,arguments)}function jd(){return(jd=Jr()(Xr.a.mark((function t(e,n){var r,a,o,c,i,s,u;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Xa(e).tx,a=r.signatures,o=r.encodedTx,t.next=3,n(Ad(o.rlpEncoded));case 3:if("string"!=typeof(c=t.sent)){t.next=7;break}return i=Xa(c),s=i.tx,u=i.txType,t.abrupt("return",Ad(za({signatures:a.concat(s.signatures),encodedTx:s.encodedTx.rlpEncoded},u).rlpEncoded));case 7:return t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Cd(t,e,n){return n&&n.reject&&n.reject(Object.assign(Error("Unexpected message received:\n\n".concat(JSON.stringify(e))),{wsMessage:e})),{handler:Vd}}function Id(t,e,n){return"channels.info"===e.method?["channel_accept","funding_created"].includes(e.params.data.event)?(sd(t,{channel_accept:"accepted",funding_created:"halfSigned"}[e.params.data.event]),{handler:Sd}):"channel_reestablished"===e.params.data.event?{handler:Dd}:"fsm_up"===e.params.data.event?(od.set(t,e.params.data.fsm_id),{handler:Id}):{handler:Id}:"channels.error"===e.method?(cd(t,"error",new Error(e.payload.message)),{handler:fh}):void 0}function Ed(t,e,n){return Pd.apply(this,arguments)}function Pd(){return(Pd=Jr()(Xr.a.mark((function t(e,n,r){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.info"!==n.method){t.next=10;break}if("fsm_up"!==n.params.data.event){t.next=10;break}return od.set(e,n.params.data.fsm_id),t.t0=ud,t.t1=e,t.next=7,xd(e,"channels.get.offchain_state",{});case 7:return t.t2=t.sent.signed_tx,(0,t.t0)(t.t1,t.t2),t.abrupt("return",{handler:Vd});case 10:return t.abrupt("return",Cd(0,n,r));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Sd(t,e,n){return _d.apply(this,arguments)}function _d(){return(_d=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={initiator:"initiator_sign",responder:"responder_sign"}[Ll.get(e).role],n.method!=="channels.sign.".concat(a)){t.next=13;break}if(!n.params.data.tx){t.next=8;break}return t.next=5,Ll.get(e).sign(a,n.params.data.tx);case 5:return o=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{tx:o}}),t.abrupt("return",{handler:Nd});case 8:return t.next=10,Td(n.params.data.signed_tx,(function(t){return Ll.get(e).sign(a,t)}));case 10:return c=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.".concat(a),params:{signed_tx:c}}),t.abrupt("return",{handler:Nd});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Nd(t,e,n){if("channels.on_chain_tx"===e.method){if("funding_signed"===e.params.data.info&&"initiator"===Ll.get(t).role)return{handler:Bd};if("funding_created"===e.params.data.info&&"responder"===Ll.get(t).role)return{handler:Bd}}if("channels.info"===e.method&&"funding_signed"===e.params.data.event&&"initiator"===Ll.get(t).role)return ed.set(t,e.params.channel_id),sd(t,"signed"),{handler:Nd}}function Bd(t,e,n){if("channels.info"===e.method){var r={funding_created:Bd,own_funding_locked:Bd,funding_locked:Dd}[e.params.data.event];if(r)return{handler:r}}if("channels.on_chain_tx"===e.method)return cd(t,"onChainTx",e.params.data.tx,{info:e.params.data.info,type:e.params.data.type}),{handler:Bd}}function Dd(t,e,n){if("channels.info"===e.method&&"open"===e.params.data.event)return ed.set(t,e.params.channel_id),{handler:Md}}function Md(t,e,n){if("channels.update"===e.method)return ud(t,e.params.data.state),{handler:Vd}}function Vd(t,e,n){return Fd.apply(this,arguments)}function Fd(){return(Fd=Jr()(Xr.a.mark((function t(e,n,r){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.method,t.next="channels.info"===t.t0?3:"channels.on_chain_tx"===t.t0?20:"channels.leave"===t.t0?22:"channels.update"===t.t0?23:"channels.sign.shutdown_sign_ack"===t.t0?25:26;break;case 3:t.t1=n.params.data.event,t.next="update"===t.t1||"withdraw_created"===t.t1||"deposit_created"===t.t1?6:"own_withdraw_locked"===t.t1||"withdraw_locked"===t.t1||"own_deposit_locked"===t.t1||"deposit_locked"===t.t1||"peer_disconnected"===t.t1||"channel_reestablished"===t.t1||"open"===t.t1?7:"fsm_up"===t.t1?9:"timeout"===t.t1||"close_mutual"===t.t1?11:"closing"===t.t1?12:"closed_confirmed"===t.t1?14:"died"===t.t1?16:"shutdown"===t.t1?18:19;break;case 6:return t.abrupt("return",{handler:Hd});case 7:return cd(e,n.params.data.event),t.abrupt("return",{handler:Vd});case 9:return od.set(e,n.params.data.fsm_id),t.abrupt("return",{handler:Vd});case 11:return t.abrupt("return",{handler:Vd});case 12:return sd(e,"closing"),t.abrupt("return",{handler:Vd});case 14:return sd(e,"closed"),t.abrupt("return",{handler:fh});case 16:return sd(e,"died"),t.abrupt("return",{handler:fh});case 18:return t.abrupt("return",{handler:Vd});case 19:return t.abrupt("break",26);case 20:return cd(e,"onChainTx",n.params.data.tx,{info:n.params.data.info,type:n.params.data.type}),t.abrupt("return",{handler:Vd});case 22:return t.abrupt("return",{handler:Vd});case 23:return ud(e,n.params.data.state),t.abrupt("return",{handler:Vd});case 25:return t.abrupt("return",Hd(e,n,r));case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rd(t,e,n){return qd.apply(this,arguments)}function qd(){return(qd=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:o}}),t.abrupt("return",{handler:Ud,state:r});case 8:return t.next=10,Td(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(c=t.sent)){t.next=14;break}return pd(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:c}}),t.abrupt("return",{handler:Ud,state:r});case 14:if("number"!=typeof c){t.next=17;break}return pd(e,{jsonrpc:"2.0",method:"channels.update",params:{error:c}}),t.abrupt("return",{handler:Rd,state:r});case 17:if("channels.error"!==n.method){t.next=20;break}return r.reject(new Error(n.data.message)),t.abrupt("return",{handler:Vd});case 20:if(!n.error){t.next=24;break}return i=n.error.data,(s=void 0===i?[]:i).find((function(t){return 1001===t.code}))?r.reject(new Error("Insufficient balance")):s.find((function(t){return 1002===t.code}))?r.reject(new Error("Amount cannot be negative")):r.reject(new Error(n.error.message)),t.abrupt("return",{handler:Vd});case 24:if("channels.conflict"!==n.method){t.next=27;break}return r.resolve({accepted:!1,errorCode:n.params.data.error_code,errorMessage:n.params.data.error_msg}),t.abrupt("return",{handler:Vd});case 27:if("channels.info"!==n.method){t.next=31;break}if("aborted_update"!==n.params.data.event){t.next=31;break}return r.resolve({accepted:!1}),t.abrupt("return",{handler:Vd});case 31:return t.abrupt("return",Cd(0,n,r));case 32:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ud(t,e,n){return"channels.update"===e.method?(ud(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:Vd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:Vd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:Vd}):e.error?(n.reject(new Error(e.error.message)),{handler:Vd}):Cd(0,e,n)}function Hd(t,e,n){return Kd.apply(this,arguments)}function Kd(){return(Kd=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c,i,s;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.method.match(/^channels\.sign\.([^.]+)$/)||[],o=ct()(a,2),!(c=o[1])){t.next=22;break}if(!n.params.data.tx){t.next=11;break}return t.next=5,Ll.get(e).sign(c,n.params.data.tx,{updates:n.params.data.updates});case 5:if(!(i=t.sent)){t.next=9;break}return pd(e,{jsonrpc:"2.0",method:"channels.".concat(c),params:{tx:i}}),t.abrupt("return",{handler:Vd});case 9:t.next=20;break;case 11:return t.next=13,Td(n.params.data.signed_tx,(function(t){return Ll.get(e).sign(c,t,{updates:n.params.data.updates})}));case 13:if("string"!=typeof(s=t.sent)){t.next=17;break}return pd(e,{jsonrpc:"2.0",method:"channels.".concat(c),params:{signed_tx:s}}),t.abrupt("return",{handler:Vd});case 17:if("number"!=typeof s){t.next=20;break}return pd(e,{jsonrpc:"2.0",method:"channels.".concat(c),params:{error:s}}),t.abrupt("return",{handler:Ld,state:r});case 20:return pd(e,{jsonrpc:"2.0",method:"channels.update.new",params:{from:Ar().publicKey,to:Ar().publicKey,amount:1}}),t.abrupt("return",{handler:Ld,state:r});case 22:return t.abrupt("return",Cd(0,n,r));case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ld(t,e,n){return e.error?{handler:Ld,state:n}:"channels.conflict"===e.method?{handler:Vd}:Cd(0,e,n)}function Wd(t,e,n){return Gd.apply(this,arguments)}function Gd(){return(Gd=Jr()(Xr.a.mark((function t(e,n,r){var a,o;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.shutdown_sign"!==n.method){t.next=12;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx);case 4:return a=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{tx:a}}),t.abrupt("return",{handler:Qd,state:r});case 7:return t.next=9,Td(n.params.data.signed_tx,(function(t){return r.sign(t)}));case 9:return o=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.shutdown_sign",params:{signed_tx:o}}),t.abrupt("return",{handler:Qd,state:r});case 12:return t.abrupt("return",Cd(0,n,r));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Qd(t,e,n){return"channels.on_chain_tx"===e.method?{handler:fh,state:n}:Cd(0,e,n)}function Yd(t,e,n){return"channels.leave"===e.method?(n.resolve({channelId:e.params.channel_id,signedTx:e.params.data.state}),wd(t),{handler:fh}):"channels.error"===e.method?(n.reject(new Error(e.data.message)),{handler:Vd}):Cd(0,e,n)}function zd(t,e,n){return Xd.apply(this,arguments)}function Xd(){return(Xd=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.withdraw_tx"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{tx:o}}),t.abrupt("return",{handler:$d,state:r});case 8:return t.next=10,Td(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(c=t.sent)){t.next=14;break}return pd(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{signed_tx:c}}),t.abrupt("return",{handler:$d,state:r});case 14:if("number"!=typeof c){t.next=17;break}return pd(e,{jsonrpc:"2.0",method:"channels.withdraw_tx",params:{error:c}}),t.abrupt("return",{handler:$d,state:r});case 17:return t.abrupt("return",Cd(0,n,r));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $d(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:$d,state:n};if("channels.info"===e.method&&["own_withdraw_locked","withdraw_locked"].includes(e.params.data.event)){var r={own_withdraw_locked:n.onOwnWithdrawLocked,withdraw_locked:n.onWithdrawLocked}[e.params.data.event];return r&&r(),{handler:$d,state:n}}return"channels.update"===e.method?(ud(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:Vd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:Vd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:Vd}):Cd(0,e,n)}function Jd(t,e,n){return Zd.apply(this,arguments)}function Zd(){return(Zd=Jr()(Xr.a.mark((function t(e,n,r){var a,o,c;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.deposit_tx"!==n.method){t.next=17;break}if(a=r.sign,!n.params.data.tx){t.next=8;break}return t.next=5,a(n.params.data.tx,{updates:n.params.data.updates});case 5:return o=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{tx:o}}),t.abrupt("return",{handler:th,state:r});case 8:return t.next=10,Td(n.params.data.signed_tx,(function(t){return a(t,{updates:n.params.data.updates})}));case 10:if("string"!=typeof(c=t.sent)){t.next=14;break}return pd(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{signed_tx:c}}),t.abrupt("return",{handler:th,state:r});case 14:if("number"!=typeof c){t.next=17;break}return pd(e,{jsonrpc:"2.0",method:"channels.deposit_tx",params:{error:c}}),t.abrupt("return",{handler:th,state:r});case 17:return t.abrupt("return",Cd(0,n,r));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function th(t,e,n){if("channels.on_chain_tx"===e.method)return n.onOnChainTx&&n.onOnChainTx(e.params.data.tx),{handler:th,state:n};if("channels.info"===e.method&&["own_deposit_locked","deposit_locked"].includes(e.params.data.event)){var r={own_deposit_locked:n.onOwnDepositLocked,deposit_locked:n.onDepositLocked}[e.params.data.event];return r&&r(),{handler:th,state:n}}return"channels.update"===e.method?(ud(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:Vd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:Vd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:Vd}):Cd(0,e,n)}function eh(t,e,n){return nh.apply(this,arguments)}function nh(){return(nh=Jr()(Xr.a.mark((function t(e,n,r){var a,o;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=16;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx);case 4:return a=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:rh,state:r});case 7:return t.next=9,Td(n.params.data.signed_tx,(function(t){return r.sign(t)}));case 9:if("string"!=typeof(o=t.sent)){t.next=13;break}return pd(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:o}}),t.abrupt("return",{handler:rh,state:r});case 13:if("number"!=typeof o){t.next=16;break}return pd(e,{jsonrpc:"2.0",method:"channels.update",params:{error:o}}),t.abrupt("return",{handler:rh,state:r});case 16:return t.abrupt("return",Cd(0,n,r));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rh(t,e,n){if("channels.update"===e.method){var r=Xa(e.params.data.state).tx.encodedTx.tx.round,a=Ll.get(t)[{initiator:"initiatorId",responder:"responderId"}[Ll.get(t).role]];return ud(t,e.params.data.state),n.resolve({accepted:!0,address:kr(a,r),signedTx:e.params.data.state}),{handler:Vd}}return"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:Vd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:Vd}):Cd(0,e,n)}function ah(t,e,n){return oh.apply(this,arguments)}function oh(){return(oh=Jr()(Xr.a.mark((function t(e,n,r){var a,o;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.update"!==n.method){t.next=16;break}if(!n.params.data.tx){t.next=7;break}return t.next=4,r.sign(n.params.data.tx,{updates:n.params.data.updates});case 4:return a=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.update",params:{tx:a}}),t.abrupt("return",{handler:uh,state:r});case 7:return t.next=9,Td(n.params.data.signed_tx,(function(t){return r.sign(t,{updates:n.params.data.updates})}));case 9:if("string"!=typeof(o=t.sent)){t.next=13;break}return pd(e,{jsonrpc:"2.0",method:"channels.update",params:{signed_tx:o}}),t.abrupt("return",{handler:uh,state:r});case 13:if("number"!=typeof o){t.next=16;break}return pd(e,{jsonrpc:"2.0",method:"channels.update",params:{error:o}}),t.abrupt("return",{handler:uh,state:r});case 16:return t.abrupt("return",Cd(0,n,r));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ch(t,e,n){return ih.apply(this,arguments)}function ih(){return(ih=Jr()(Xr.a.mark((function t(e,n,r){var a;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("channels.sign.force_progress_tx"!==n.method){t.next=6;break}return t.next=3,Td(n.params.data.signed_tx,(function(t){return r.sign(t,{updates:n.params.data.updates})}));case 3:return a=t.sent,pd(e,{jsonrpc:"2.0",method:"channels.force_progress_sign",params:{signed_tx:a}}),t.abrupt("return",{handler:sh,state:r});case 6:return t.abrupt("return",Cd(0,n,r));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function sh(t,e,n){return console.log("From force progress await completion ->",e),"channels.on_chain_tx"===e.method&&(n.onOnChainTx&&n.onOnChainTx(e.params.data),cd(t,"onChainTx",e.params.data.tx,{info:e.params.data.info,type:e.params.data.type}),n.resolve({accepted:!0,tx:e.params.data.tx})),Cd(0,e,n)}function uh(t,e,n){return"channels.update"===e.method?(ud(t,e.params.data.state),n.resolve({accepted:!0,signedTx:e.params.data.state}),{handler:Vd}):"channels.conflict"===e.method?(n.resolve({accepted:!1,errorCode:e.params.data.error_code,errorMessage:e.params.data.error_msg}),{handler:Vd}):"channels.info"===e.method&&"aborted_update"===e.params.data.event?(n.resolve({accepted:!1}),{handler:Vd}):Cd(0,e,n)}function ph(t,e,n){return"channels.calls_pruned.reply"===e.method?(n.resolve(),{handler:Vd}):(n.reject(new Error("Unexpected message received")),{handler:fh})}function fh(t,e,n){return n?"closing"===e.params.data.event?{handler:fh,state:n}:"channel_closed"===e.params.data.info?(n.closeTx=e.params.data.tx,{handler:fh,state:n}):"closed_confirmed"===e.params.data.event?(n.resolve(n.closeTx),{handler:fh}):{handler:fh,state:n}:{handler:fh}}function lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lh(Object(n),!0).forEach((function(e){lt()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hh(t){return Object.entries(t).reduce((function(t,e){var n=ct()(e,2),r=n[0],a=n[1];return dh(dh({},t),{},lt()({},P(r),a))}),{})}function mh(){return(mh=Jr()(Xr.a.mark((function t(){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hh,t.next=3,xd(this,"channels.get.offchain_state",{});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function vh(){return(vh=Jr()(Xr.a.mark((function t(e){var n,r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accounts,r=e.contracts,t.next=3,xd(this,"channels.get.poi",{accounts:n,contracts:r});case 3:return t.abrupt("return",t.sent.poi);case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function gh(){return(gh=Jr()(Xr.a.mark((function t(e){return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rl.a,t.t1=function(t,e){return dh(dh({},t),{},lt()({},e.account,e.balance))},t.t2={},t.next=5,xd(this,"channels.get.balances",{accounts:e});case 5:return t.t3=t.sent,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function yh(){return(yh=Jr()(Xr.a.mark((function t(e){var n,r,a,o;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.amount,r=e.callData,a=e.contract,o=e.abiVersion,t.t0=hh,t.next=4,xd(this,"channels.dry_run.call_contract",{amount:n,call_data:r,contract_id:a,abi_version:o});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function bh(){return(bh=Jr()(Xr.a.mark((function t(e){var n,r,a;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.caller,r=e.contract,a=e.round,t.t0=hh,t.next=4,xd(this,"channels.get.contract_call",{caller_id:n,contract_id:r,round:a});case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function xh(){return(xh=Jr()(Xr.a.mark((function t(e){var n;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xd(this,"channels.get.contract",{pubkey:e});case 2:return n=t.sent,t.abrupt("return",hh(dh(dh({},n),{},{contract:hh(n.contract)})));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function wh(){return(wh=Jr()(Xr.a.mark((function t(e,n){var r;return Xr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.sign,t.t0=kh,t.t1=dh,t.t2=dh({},e),t.t3={},t.next=7,r("reconnect",za(n,Ht.channelReconnect).tx);case 7:return t.t4=t.sent,t.t5={reconnectTx:t.t4},t.t6=(0,t.t1)(t.t2,t.t3,t.t5),t.abrupt("return",(0,t.t0)(t.t6));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Vd.enter=function(t){sd(t,"open")};var kh=wc.compose({init:function(t){var e=this;return Jr()(Xr.a.mark((function n(){return Xr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:kd(e,t);case 1:case"end":return n.stop()}}),n)})))()},methods:{on:function(t,e){zl.get(this).on(t,e)},off:function(t,e){zl.get(this).removeListener(t,e)},status:function(){return Wl.get(this)},state:function(){return mh.apply(this,arguments)},round:function(){if(!Gl.get(this))return null;var t=Xa(Gl.get(this)).tx.encodedTx,e=t.txType,n=t.tx;switch(e){case Ht.channelCreate:return 1;case Ht.channelOffChain:case Ht.channelWithdraw:case Ht.channelDeposit:return parseInt(n.round,10);default:return null}},id:function(){return ed.get(this)},fsmId:function(){return od.get(this)},update:function(t,e,n,r,a){var o=this;return new Promise((function(c,i){fd(o,(function(t,e){return e.handler===Vd}),(function(o,s){return pd(o,{jsonrpc:"2.0",method:"channels.update.new",params:{from:t,to:e,amount:n,meta:a}}),{handler:Rd,state:{resolve:c,reject:i,sign:r}}}))}))},poi:function(t){return vh.apply(this,arguments)},balances:function(t){return gh.apply(this,arguments)},leave:function(){var t=this;return new Promise((function(e,n){fd(t,(function(t,e){return e.handler===Vd}),(function(t,r){return pd(t,{jsonrpc:"2.0",method:"channels.leave",params:{}}),{handler:Yd,state:{resolve:e,reject:n}}}))}))},shutdown:function(t){var e=this;return new Promise((function(n,r){fd(e,(function(t,e){return e.handler===Vd}),(function(e,a){return pd(e,{jsonrpc:"2.0",method:"channels.shutdown",params:{}}),{handler:Wd,state:{sign:t,resolve:n,reject:r}}}))}))},sendMessage:function(t,e){var n=this,r=t;"object"===ka()(t)&&(r=JSON.stringify(t));var a=function(t){return pd(t,{jsonrpc:"2.0",method:"channels.message",params:{info:r,to:e}})};if("connecting"===this.status()){this.on("statusChanged",(function t(e){"connecting"!==e&&(setTimeout((function(){return a(n)}),500),n.off("statusChanged",t))}))}else a(this)},withdraw:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnWithdrawLocked,c=r.onWithdrawLocked;return new Promise((function(r,i){fd(n,(function(t,e){return e.handler===Vd}),(function(n,s){return pd(n,{jsonrpc:"2.0",method:"channels.withdraw",params:{amount:t}}),{handler:zd,state:{sign:e,resolve:r,reject:i,onOnChainTx:a,onOwnWithdrawLocked:o,onWithdrawLocked:c}}}))}))},deposit:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.onOnChainTx,o=r.onOwnDepositLocked,c=r.onDepositLocked;return new Promise((function(r,i){fd(n,(function(t,e){return e.handler===Vd}),(function(n,s){return pd(n,{jsonrpc:"2.0",method:"channels.deposit",params:{amount:t}}),{handler:Jd,state:{sign:e,resolve:r,reject:i,onOnChainTx:a,onOwnDepositLocked:o,onDepositLocked:c}}}))}))},createContract:function(t,e){var n=this,r=t.code,a=t.callData,o=t.deposit,c=t.vmVersion,i=t.abiVersion;return new Promise((function(t,s){fd(n,(function(t,e){return e.handler===Vd}),(function(n,u){return pd(n,{jsonrpc:"2.0",method:"channels.update.new_contract",params:{code:r,call_data:a,deposit:o,vm_version:c,abi_version:i}}),{handler:eh,state:{sign:e,resolve:t,reject:s}}}))}))},callContract:function(t,e){var n=this,r=t.amount,a=t.callData,o=t.contract,c=t.abiVersion;return new Promise((function(t,i){fd(n,(function(t,e){return e.handler===Vd}),(function(n,s){return pd(n,{jsonrpc:"2.0",method:"channels.update.call_contract",params:{amount:r,call_data:a,contract_id:o,abi_version:c}}),{handler:ah,state:{resolve:t,reject:i,sign:e}}}))}))},callContractStatic:function(t){return yh.apply(this,arguments)},getContractCall:function(t){return bh.apply(this,arguments)},getContractState:function(t){return xh.apply(this,arguments)},disconnect:function(){return wd(this)},cleanContractCalls:function(){var t=this;return new Promise((function(e,n){fd(t,(function(t,e){return e.handler===Vd}),(function(t,r){return pd(t,{jsonrpc:"2.0",method:"channels.clean_contract_calls",params:{}}),{handler:ph,state:{resolve:e,reject:n}}}))}))},forceProgress:function(t,e){var n=this,r=t.amount,a=t.callData,o=t.contract,c=t.abiVersion,i=t.gas,s=void 0===i?1e6:i,u=t.gasPrice,p=void 0===u?1e9:u,f=(t.nonce,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),l=f.onOnChainTx;return new Promise((function(t,i){fd(n,(function(t,e){return e.handler===Vd}),(function(n,u){return pd(n,{jsonrpc:"2.0",method:"channels.force_progress",params:{amount:r,call_data:a,contract_id:o,abi_version:c,gas_price:p,gas:s}}),{handler:ch,state:{resolve:t,reject:i,sign:e,onOnChainTx:l}}}))}))}},statics:{reconnect:function(t,e){return wh.apply(this,arguments)}}}),Oh=kh,Ah=rs.compose(Vu,Ys,Tu,Qu,Xp,sl,nf,{init:function(){},props:{process:{}}})}])}));
//# sourceMappingURL=aepp-sdk.js.map